{"version":3,"names":[],"mappings":"","sources":["viewer-inline.js"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n;\nvar pdfjsWebApp, pdfjsWebAppOptions;\n{\n  pdfjsWebApp = __webpack_require__(1);\n  pdfjsWebAppOptions = __webpack_require__(6);\n}\n;\n{\n  __webpack_require__(36);\n}\n;\n{\n  __webpack_require__(41);\n}\n\nfunction getViewerConfiguration() {\n  return {\n    appContainer: document.body,\n    mainContainer: document.getElementById(\"viewerContainer\"),\n    viewerContainer: document.getElementById(\"viewer\"),\n    eventBus: null,\n    toolbar: {\n      container: document.getElementById(\"toolbarViewer\"),\n      numPages: document.getElementById(\"numPages\"),\n      pageNumber: document.getElementById(\"pageNumber\"),\n      scaleSelectContainer: document.getElementById(\"scaleSelectContainer\"),\n      scaleSelect: document.getElementById(\"scaleSelect\"),\n      customScaleOption: document.getElementById(\"customScaleOption\"),\n      previous: document.getElementById(\"previous\"),\n      next: document.getElementById(\"next\"),\n      zoomIn: document.getElementById(\"zoomIn\"),\n      zoomOut: document.getElementById(\"zoomOut\"),\n      viewFind: document.getElementById(\"viewFind\"),\n      openFile: document.getElementById(\"openFile\"),\n      print: document.getElementById(\"print\"),\n      presentationModeButton: document.getElementById(\"presentationMode\"),\n      download: document.getElementById(\"download\"),\n      viewBookmark: document.getElementById(\"viewBookmark\")\n    },\n    secondaryToolbar: {\n      toolbar: document.getElementById(\"secondaryToolbar\"),\n      toggleButton: document.getElementById(\"secondaryToolbarToggle\"),\n      toolbarButtonContainer: document.getElementById(\"secondaryToolbarButtonContainer\"),\n      presentationModeButton: document.getElementById(\"secondaryPresentationMode\"),\n      openFileButton: document.getElementById(\"secondaryOpenFile\"),\n      printButton: document.getElementById(\"secondaryPrint\"),\n      downloadButton: document.getElementById(\"secondaryDownload\"),\n      viewBookmarkButton: document.getElementById(\"secondaryViewBookmark\"),\n      firstPageButton: document.getElementById(\"firstPage\"),\n      lastPageButton: document.getElementById(\"lastPage\"),\n      pageRotateCwButton: document.getElementById(\"pageRotateCw\"),\n      pageRotateCcwButton: document.getElementById(\"pageRotateCcw\"),\n      cursorSelectToolButton: document.getElementById(\"cursorSelectTool\"),\n      cursorHandToolButton: document.getElementById(\"cursorHandTool\"),\n      scrollVerticalButton: document.getElementById(\"scrollVertical\"),\n      scrollHorizontalButton: document.getElementById(\"scrollHorizontal\"),\n      scrollWrappedButton: document.getElementById(\"scrollWrapped\"),\n      spreadNoneButton: document.getElementById(\"spreadNone\"),\n      spreadOddButton: document.getElementById(\"spreadOdd\"),\n      spreadEvenButton: document.getElementById(\"spreadEven\"),\n      documentPropertiesButton: document.getElementById(\"documentProperties\")\n    },\n    fullscreen: {\n      contextFirstPage: document.getElementById(\"contextFirstPage\"),\n      contextLastPage: document.getElementById(\"contextLastPage\"),\n      contextPageRotateCw: document.getElementById(\"contextPageRotateCw\"),\n      contextPageRotateCcw: document.getElementById(\"contextPageRotateCcw\")\n    },\n    sidebar: {\n      outerContainer: document.getElementById(\"outerContainer\"),\n      viewerContainer: document.getElementById(\"viewerContainer\"),\n      toggleButton: document.getElementById(\"sidebarToggle\"),\n      thumbnailButton: document.getElementById(\"viewThumbnail\"),\n      outlineButton: document.getElementById(\"viewOutline\"),\n      attachmentsButton: document.getElementById(\"viewAttachments\"),\n      thumbnailView: document.getElementById(\"thumbnailView\"),\n      outlineView: document.getElementById(\"outlineView\"),\n      attachmentsView: document.getElementById(\"attachmentsView\")\n    },\n    sidebarResizer: {\n      outerContainer: document.getElementById(\"outerContainer\"),\n      resizer: document.getElementById(\"sidebarResizer\")\n    },\n    findBar: {\n      bar: document.getElementById(\"findbar\"),\n      toggleButton: document.getElementById(\"viewFind\"),\n      findField: document.getElementById(\"findInput\"),\n      highlightAllCheckbox: document.getElementById(\"findHighlightAll\"),\n      caseSensitiveCheckbox: document.getElementById(\"findMatchCase\"),\n      entireWordCheckbox: document.getElementById(\"findEntireWord\"),\n      findMsg: document.getElementById(\"findMsg\"),\n      findResultsCount: document.getElementById(\"findResultsCount\"),\n      findPreviousButton: document.getElementById(\"findPrevious\"),\n      findNextButton: document.getElementById(\"findNext\")\n    },\n    passwordOverlay: {\n      overlayName: \"passwordOverlay\",\n      container: document.getElementById(\"passwordOverlay\"),\n      label: document.getElementById(\"passwordText\"),\n      input: document.getElementById(\"password\"),\n      submitButton: document.getElementById(\"passwordSubmit\"),\n      cancelButton: document.getElementById(\"passwordCancel\")\n    },\n    documentProperties: {\n      overlayName: \"documentPropertiesOverlay\",\n      container: document.getElementById(\"documentPropertiesOverlay\"),\n      closeButton: document.getElementById(\"documentPropertiesClose\"),\n      fields: {\n        fileName: document.getElementById(\"fileNameField\"),\n        fileSize: document.getElementById(\"fileSizeField\"),\n        title: document.getElementById(\"titleField\"),\n        author: document.getElementById(\"authorField\"),\n        subject: document.getElementById(\"subjectField\"),\n        keywords: document.getElementById(\"keywordsField\"),\n        creationDate: document.getElementById(\"creationDateField\"),\n        modificationDate: document.getElementById(\"modificationDateField\"),\n        creator: document.getElementById(\"creatorField\"),\n        producer: document.getElementById(\"producerField\"),\n        version: document.getElementById(\"versionField\"),\n        pageCount: document.getElementById(\"pageCountField\"),\n        pageSize: document.getElementById(\"pageSizeField\"),\n        linearized: document.getElementById(\"linearizedField\")\n      }\n    },\n    errorWrapper: {\n      container: document.getElementById(\"errorWrapper\"),\n      errorMessage: document.getElementById(\"errorMessage\"),\n      closeButton: document.getElementById(\"errorClose\"),\n      errorMoreInfo: document.getElementById(\"errorMoreInfo\"),\n      moreInfoButton: document.getElementById(\"errorShowMore\"),\n      lessInfoButton: document.getElementById(\"errorShowLess\")\n    },\n    printContainer: document.getElementById(\"printContainer\"),\n    openFileInputName: \"fileInput\",\n    debuggerScriptPath: \"./debugger.js\"\n  };\n}\n\nfunction webViewerLoad() {\n  var config = getViewerConfiguration();\n  window.PDFViewerApplication = pdfjsWebApp.PDFViewerApplication;\n  window.PDFViewerApplicationOptions = pdfjsWebAppOptions.AppOptions;\n  var event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(\"webviewerloaded\", true, true, {});\n  document.dispatchEvent(event);\n  pdfjsWebApp.PDFViewerApplication.run(config);\n}\n\nif (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n  webViewerLoad();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", webViewerLoad, true);\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPrintServiceFactory = exports.DefaultExternalServices = exports.PDFViewerApplication = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _app_options = __webpack_require__(6);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _pdf_cursor_tools = __webpack_require__(9);\n\nvar _pdf_rendering_queue = __webpack_require__(11);\n\nvar _pdf_sidebar = __webpack_require__(12);\n\nvar _overlay_manager = __webpack_require__(13);\n\nvar _password_prompt = __webpack_require__(14);\n\nvar _pdf_attachment_viewer = __webpack_require__(15);\n\nvar _pdf_document_properties = __webpack_require__(16);\n\nvar _pdf_find_bar = __webpack_require__(17);\n\nvar _pdf_find_controller = __webpack_require__(18);\n\nvar _pdf_history = __webpack_require__(20);\n\nvar _pdf_link_service = __webpack_require__(21);\n\nvar _pdf_outline_viewer = __webpack_require__(22);\n\nvar _pdf_presentation_mode = __webpack_require__(23);\n\nvar _pdf_sidebar_resizer = __webpack_require__(24);\n\nvar _pdf_thumbnail_viewer = __webpack_require__(25);\n\nvar _pdf_viewer = __webpack_require__(27);\n\nvar _secondary_toolbar = __webpack_require__(32);\n\nvar _toolbar = __webpack_require__(34);\n\nvar _view_history = __webpack_require__(35);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar DEFAULT_SCALE_DELTA = 1.1;\nvar DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT = 5000;\nvar FORCE_PAGES_LOADED_TIMEOUT = 10000;\nvar WHEEL_ZOOM_DISABLED_TIMEOUT = 1000;\nvar ViewOnLoad = {\n  UNKNOWN: -1,\n  PREVIOUS: 0,\n  INITIAL: 1\n};\nvar DefaultExternalServices = {\n  updateFindControlState: function updateFindControlState(data) {},\n  updateFindMatchesCount: function updateFindMatchesCount(data) {},\n  initPassiveLoading: function initPassiveLoading(callbacks) {},\n  fallback: function fallback(data, callback) {},\n  reportTelemetry: function reportTelemetry(data) {},\n  createDownloadManager: function createDownloadManager(options) {\n    throw new Error(\"Not implemented: createDownloadManager\");\n  },\n  createPreferences: function createPreferences() {\n    throw new Error(\"Not implemented: createPreferences\");\n  },\n  createL10n: function createL10n(options) {\n    throw new Error(\"Not implemented: createL10n\");\n  },\n  supportsIntegratedFind: false,\n  supportsDocumentFonts: true,\n  supportsDocumentColors: true,\n  supportedMouseWheelZoomModifierKeys: {\n    ctrlKey: true,\n    metaKey: true\n  }\n};\nexports.DefaultExternalServices = DefaultExternalServices;\nvar PDFViewerApplication = {\n  initialBookmark: document.location.hash.substring(1),\n  initialized: false,\n  fellback: false,\n  appConfig: null,\n  pdfDocument: null,\n  pdfLoadingTask: null,\n  printService: null,\n  pdfViewer: null,\n  pdfThumbnailViewer: null,\n  pdfRenderingQueue: null,\n  pdfPresentationMode: null,\n  pdfDocumentProperties: null,\n  pdfLinkService: null,\n  pdfHistory: null,\n  pdfSidebar: null,\n  pdfSidebarResizer: null,\n  pdfOutlineViewer: null,\n  pdfAttachmentViewer: null,\n  pdfCursorTools: null,\n  store: null,\n  downloadManager: null,\n  overlayManager: null,\n  preferences: null,\n  toolbar: null,\n  secondaryToolbar: null,\n  eventBus: null,\n  l10n: null,\n  isInitialViewSet: false,\n  downloadComplete: false,\n  isViewerEmbedded: window.parent !== window,\n  url: \"\",\n  baseUrl: \"\",\n  externalServices: DefaultExternalServices,\n  _boundEvents: {},\n  contentDispositionFilename: null,\n  initialize: function () {\n    var _initialize = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee(appConfig) {\n      var _this = this;\n\n      var appContainer;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.preferences = this.externalServices.createPreferences();\n              this.appConfig = appConfig;\n              _context.next = 4;\n              return this._readPreferences();\n\n            case 4:\n              _context.next = 6;\n              return this._parseHashParameters();\n\n            case 6:\n              _context.next = 8;\n              return this._initializeL10n();\n\n            case 8:\n              if (this.isViewerEmbedded && _app_options.AppOptions.get(\"externalLinkTarget\") === _pdfjsLib.LinkTarget.NONE) {\n                _app_options.AppOptions.set(\"externalLinkTarget\", _pdfjsLib.LinkTarget.TOP);\n              }\n\n              _context.next = 11;\n              return this._initializeViewerComponents();\n\n            case 11:\n              this.bindEvents();\n              this.bindWindowEvents();\n              appContainer = appConfig.appContainer || document.documentElement;\n              this.l10n.translate(appContainer).then(function () {\n                _this.eventBus.dispatch(\"localized\", {\n                  source: _this\n                });\n              });\n              this.initialized = true;\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function initialize(_x) {\n      return _initialize.apply(this, arguments);\n    }\n\n    return initialize;\n  }(),\n  _readPreferences: function () {\n    var _readPreferences2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee2() {\n      var prefs, name;\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_app_options.AppOptions.get(\"disablePreferences\") === true)) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              _context2.prev = 2;\n              _context2.next = 5;\n              return this.preferences.getAll();\n\n            case 5:\n              prefs = _context2.sent;\n\n              for (name in prefs) {\n                _app_options.AppOptions.set(name, prefs[name]);\n              }\n\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.error(\"_readPreferences: \\\"\".concat(_context2.t0.message, \"\\\".\"));\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[2, 9]]);\n    }));\n\n    function _readPreferences() {\n      return _readPreferences2.apply(this, arguments);\n    }\n\n    return _readPreferences;\n  }(),\n  _parseHashParameters: function () {\n    var _parseHashParameters2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee3() {\n      var waitOn, hash, hashParams, viewer, enabled;\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_app_options.AppOptions.get(\"pdfBugEnabled\")) {\n                _context3.next = 2;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", undefined);\n\n            case 2:\n              waitOn = [];\n              hash = document.location.hash.substring(1);\n              hashParams = (0, _ui_utils.parseQueryString)(hash);\n\n              if (\"disableworker\" in hashParams && hashParams[\"disableworker\"] === \"true\") {\n                waitOn.push(loadFakeWorker());\n              }\n\n              if (\"disablerange\" in hashParams) {\n                _app_options.AppOptions.set(\"disableRange\", hashParams[\"disablerange\"] === \"true\");\n              }\n\n              if (\"disablestream\" in hashParams) {\n                _app_options.AppOptions.set(\"disableStream\", hashParams[\"disablestream\"] === \"true\");\n              }\n\n              if (\"disableautofetch\" in hashParams) {\n                _app_options.AppOptions.set(\"disableAutoFetch\", hashParams[\"disableautofetch\"] === \"true\");\n              }\n\n              if (\"disablefontface\" in hashParams) {\n                _app_options.AppOptions.set(\"disableFontFace\", hashParams[\"disablefontface\"] === \"true\");\n              }\n\n              if (\"disablehistory\" in hashParams) {\n                _app_options.AppOptions.set(\"disableHistory\", hashParams[\"disablehistory\"] === \"true\");\n              }\n\n              if (\"webgl\" in hashParams) {\n                _app_options.AppOptions.set(\"enableWebGL\", hashParams[\"webgl\"] === \"true\");\n              }\n\n              if (\"useonlycsszoom\" in hashParams) {\n                _app_options.AppOptions.set(\"useOnlyCssZoom\", hashParams[\"useonlycsszoom\"] === \"true\");\n              }\n\n              if (\"verbosity\" in hashParams) {\n                _app_options.AppOptions.set(\"verbosity\", hashParams[\"verbosity\"] | 0);\n              }\n\n              if (!(\"textlayer\" in hashParams)) {\n                _context3.next = 23;\n                break;\n              }\n\n              _context3.t0 = hashParams[\"textlayer\"];\n              _context3.next = _context3.t0 === \"off\" ? 18 : _context3.t0 === \"visible\" ? 20 : _context3.t0 === \"shadow\" ? 20 : _context3.t0 === \"hover\" ? 20 : 23;\n              break;\n\n            case 18:\n              _app_options.AppOptions.set(\"textLayerMode\", _ui_utils.TextLayerMode.DISABLE);\n\n              return _context3.abrupt(\"break\", 23);\n\n            case 20:\n              viewer = this.appConfig.viewerContainer;\n              viewer.classList.add(\"textLayer-\" + hashParams[\"textlayer\"]);\n              return _context3.abrupt(\"break\", 23);\n\n            case 23:\n              if (\"pdfbug\" in hashParams) {\n                _app_options.AppOptions.set(\"pdfBug\", true);\n\n                enabled = hashParams[\"pdfbug\"].split(\",\");\n                waitOn.push(loadAndEnablePDFBug(enabled));\n              }\n\n              if (\"locale\" in hashParams) {\n                _app_options.AppOptions.set(\"locale\", hashParams[\"locale\"]);\n              }\n\n              return _context3.abrupt(\"return\", Promise.all(waitOn)[\"catch\"](function (reason) {\n                console.error(\"_parseHashParameters: \\\"\".concat(reason.message, \"\\\".\"));\n              }));\n\n            case 26:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function _parseHashParameters() {\n      return _parseHashParameters2.apply(this, arguments);\n    }\n\n    return _parseHashParameters;\n  }(),\n  _initializeL10n: function () {\n    var _initializeL10n2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee4() {\n      var dir;\n      return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              this.l10n = this.externalServices.createL10n({\n                locale: _app_options.AppOptions.get(\"locale\")\n              });\n              _context4.next = 3;\n              return this.l10n.getDirection();\n\n            case 3:\n              dir = _context4.sent;\n              document.getElementsByTagName(\"html\")[0].dir = dir;\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function _initializeL10n() {\n      return _initializeL10n2.apply(this, arguments);\n    }\n\n    return _initializeL10n;\n  }(),\n  _initializeViewerComponents: function () {\n    var _initializeViewerComponents2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee5() {\n      var appConfig, eventBus, pdfRenderingQueue, pdfLinkService, downloadManager, findController, container, viewer;\n      return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              appConfig = this.appConfig;\n              this.overlayManager = new _overlay_manager.OverlayManager();\n              eventBus = appConfig.eventBus || (0, _ui_utils.getGlobalEventBus)(_app_options.AppOptions.get(\"eventBusDispatchToDOM\"));\n              this.eventBus = eventBus;\n              pdfRenderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n              pdfRenderingQueue.onIdle = this.cleanup.bind(this);\n              this.pdfRenderingQueue = pdfRenderingQueue;\n              pdfLinkService = new _pdf_link_service.PDFLinkService({\n                eventBus: eventBus,\n                externalLinkTarget: _app_options.AppOptions.get(\"externalLinkTarget\"),\n                externalLinkRel: _app_options.AppOptions.get(\"externalLinkRel\")\n              });\n              this.pdfLinkService = pdfLinkService;\n              downloadManager = this.externalServices.createDownloadManager({\n                disableCreateObjectURL: _app_options.AppOptions.get(\"disableCreateObjectURL\")\n              });\n              this.downloadManager = downloadManager;\n              findController = new _pdf_find_controller.PDFFindController({\n                linkService: pdfLinkService,\n                eventBus: eventBus\n              });\n              this.findController = findController;\n              container = appConfig.mainContainer;\n              viewer = appConfig.viewerContainer;\n              this.pdfViewer = new _pdf_viewer.PDFViewer({\n                container: container,\n                viewer: viewer,\n                eventBus: eventBus,\n                renderingQueue: pdfRenderingQueue,\n                linkService: pdfLinkService,\n                downloadManager: downloadManager,\n                findController: findController,\n                renderer: _app_options.AppOptions.get(\"renderer\"),\n                enableWebGL: _app_options.AppOptions.get(\"enableWebGL\"),\n                l10n: this.l10n,\n                textLayerMode: _app_options.AppOptions.get(\"textLayerMode\"),\n                imageResourcesPath: _app_options.AppOptions.get(\"imageResourcesPath\"),\n                renderInteractiveForms: _app_options.AppOptions.get(\"renderInteractiveForms\"),\n                enablePrintAutoRotate: _app_options.AppOptions.get(\"enablePrintAutoRotate\"),\n                useOnlyCssZoom: _app_options.AppOptions.get(\"useOnlyCssZoom\"),\n                maxCanvasPixels: _app_options.AppOptions.get(\"maxCanvasPixels\")\n              });\n              pdfRenderingQueue.setViewer(this.pdfViewer);\n              pdfLinkService.setViewer(this.pdfViewer);\n              this.pdfThumbnailViewer = new _pdf_thumbnail_viewer.PDFThumbnailViewer({\n                container: appConfig.sidebar.thumbnailView,\n                renderingQueue: pdfRenderingQueue,\n                linkService: pdfLinkService,\n                l10n: this.l10n\n              });\n              pdfRenderingQueue.setThumbnailViewer(this.pdfThumbnailViewer);\n              this.pdfHistory = new _pdf_history.PDFHistory({\n                linkService: pdfLinkService,\n                eventBus: eventBus\n              });\n              pdfLinkService.setHistory(this.pdfHistory);\n\n              if (!this.supportsIntegratedFind) {\n                this.findBar = new _pdf_find_bar.PDFFindBar(appConfig.findBar, eventBus, this.l10n);\n              }\n\n              this.pdfDocumentProperties = new _pdf_document_properties.PDFDocumentProperties(appConfig.documentProperties, this.overlayManager, eventBus, this.l10n);\n              this.pdfCursorTools = new _pdf_cursor_tools.PDFCursorTools({\n                container: container,\n                eventBus: eventBus,\n                cursorToolOnLoad: _app_options.AppOptions.get(\"cursorToolOnLoad\")\n              });\n              this.toolbar = new _toolbar.Toolbar(appConfig.toolbar, eventBus, this.l10n);\n              this.secondaryToolbar = new _secondary_toolbar.SecondaryToolbar(appConfig.secondaryToolbar, container, eventBus);\n\n              if (this.supportsFullscreen) {\n                this.pdfPresentationMode = new _pdf_presentation_mode.PDFPresentationMode({\n                  container: container,\n                  pdfViewer: this.pdfViewer,\n                  eventBus: eventBus,\n                  contextMenuItems: appConfig.fullscreen\n                });\n              }\n\n              this.passwordPrompt = new _password_prompt.PasswordPrompt(appConfig.passwordOverlay, this.overlayManager, this.l10n);\n              this.pdfOutlineViewer = new _pdf_outline_viewer.PDFOutlineViewer({\n                container: appConfig.sidebar.outlineView,\n                eventBus: eventBus,\n                linkService: pdfLinkService\n              });\n              this.pdfAttachmentViewer = new _pdf_attachment_viewer.PDFAttachmentViewer({\n                container: appConfig.sidebar.attachmentsView,\n                eventBus: eventBus,\n                downloadManager: downloadManager\n              });\n              this.pdfSidebar = new _pdf_sidebar.PDFSidebar({\n                elements: appConfig.sidebar,\n                pdfViewer: this.pdfViewer,\n                pdfThumbnailViewer: this.pdfThumbnailViewer,\n                eventBus: eventBus,\n                l10n: this.l10n\n              });\n              this.pdfSidebar.onToggled = this.forceRendering.bind(this);\n              this.pdfSidebarResizer = new _pdf_sidebar_resizer.PDFSidebarResizer(appConfig.sidebarResizer, eventBus, this.l10n);\n\n            case 34:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function _initializeViewerComponents() {\n      return _initializeViewerComponents2.apply(this, arguments);\n    }\n\n    return _initializeViewerComponents;\n  }(),\n  run: function run(config) {\n    this.initialize(config).then(webViewerInitialized);\n  },\n  zoomIn: function zoomIn(ticks) {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    var newScale = this.pdfViewer.currentScale;\n\n    do {\n      newScale = (newScale * DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.ceil(newScale * 10) / 10;\n      newScale = Math.min(_ui_utils.MAX_SCALE, newScale);\n    } while (--ticks > 0 && newScale < _ui_utils.MAX_SCALE);\n\n    this.pdfViewer.currentScaleValue = newScale;\n  },\n  zoomOut: function zoomOut(ticks) {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    var newScale = this.pdfViewer.currentScale;\n\n    do {\n      newScale = (newScale / DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.floor(newScale * 10) / 10;\n      newScale = Math.max(_ui_utils.MIN_SCALE, newScale);\n    } while (--ticks > 0 && newScale > _ui_utils.MIN_SCALE);\n\n    this.pdfViewer.currentScaleValue = newScale;\n  },\n  zoomReset: function zoomReset() {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    this.pdfViewer.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n  },\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  },\n\n  set page(val) {\n    this.pdfViewer.currentPageNumber = val;\n  },\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  },\n\n  get printing() {\n    return !!this.printService;\n  },\n\n  get supportsPrinting() {\n    return PDFPrintServiceFactory.instance.supportsPrinting;\n  },\n\n  get supportsFullscreen() {\n    var support;\n    var doc = document.documentElement;\n    support = !!(doc.requestFullscreen || doc.mozRequestFullScreen || doc.webkitRequestFullScreen || doc.msRequestFullscreen);\n\n    if (document.fullscreenEnabled === false || document.mozFullScreenEnabled === false || document.webkitFullscreenEnabled === false || document.msFullscreenEnabled === false) {\n      support = false;\n    }\n\n    return (0, _pdfjsLib.shadow)(this, \"supportsFullscreen\", support);\n  },\n\n  get supportsIntegratedFind() {\n    return this.externalServices.supportsIntegratedFind;\n  },\n\n  get supportsDocumentFonts() {\n    return this.externalServices.supportsDocumentFonts;\n  },\n\n  get supportsDocumentColors() {\n    return this.externalServices.supportsDocumentColors;\n  },\n\n  get loadingBar() {\n    var bar = new _ui_utils.ProgressBar(\"#loadingBar\");\n    return (0, _pdfjsLib.shadow)(this, \"loadingBar\", bar);\n  },\n\n  get supportedMouseWheelZoomModifierKeys() {\n    return this.externalServices.supportedMouseWheelZoomModifierKeys;\n  },\n\n  initPassiveLoading: function initPassiveLoading() {\n    throw new Error(\"Not implemented: initPassiveLoading\");\n  },\n  setTitleUsingUrl: function setTitleUsingUrl() {\n    var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    this.url = url;\n    this.baseUrl = url.split(\"#\")[0];\n    var title = (0, _ui_utils.getPDFFileNameFromURL)(url, \"\");\n\n    if (!title) {\n      try {\n        title = decodeURIComponent((0, _pdfjsLib.getFilenameFromUrl)(url)) || url;\n      } catch (ex) {\n        title = url;\n      }\n    }\n\n    this.setTitle(title);\n  },\n  setTitle: function setTitle(title) {\n    if (this.isViewerEmbedded) {\n      return;\n    }\n\n    document.title = title;\n  },\n  close: function () {\n    var _close = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee6() {\n      var errorWrapper, promise;\n      return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              errorWrapper = this.appConfig.errorWrapper.container;\n              errorWrapper.setAttribute(\"hidden\", \"true\");\n\n              if (this.pdfLoadingTask) {\n                _context6.next = 4;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", undefined);\n\n            case 4:\n              promise = this.pdfLoadingTask.destroy();\n              this.pdfLoadingTask = null;\n\n              if (this.pdfDocument) {\n                this.pdfDocument = null;\n                this.pdfThumbnailViewer.setDocument(null);\n                this.pdfViewer.setDocument(null);\n                this.pdfLinkService.setDocument(null);\n                this.pdfDocumentProperties.setDocument(null);\n              }\n\n              this.store = null;\n              this.isInitialViewSet = false;\n              this.downloadComplete = false;\n              this.url = \"\";\n              this.baseUrl = \"\";\n              this.contentDispositionFilename = null;\n              this.pdfSidebar.reset();\n              this.pdfOutlineViewer.reset();\n              this.pdfAttachmentViewer.reset();\n\n              if (this.pdfHistory) {\n                this.pdfHistory.reset();\n              }\n\n              if (this.findBar) {\n                this.findBar.reset();\n              }\n\n              this.toolbar.reset();\n              this.secondaryToolbar.reset();\n\n              if (typeof PDFBug !== \"undefined\") {\n                PDFBug.cleanup();\n              }\n\n              return _context6.abrupt(\"return\", promise);\n\n            case 22:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    function close() {\n      return _close.apply(this, arguments);\n    }\n\n    return close;\n  }(),\n  open: function () {\n    var _open = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee7(file, args) {\n      var _this2 = this;\n\n      var workerParameters, key, parameters, apiParameters, _key, value, _key2, _value, loadingTask;\n\n      return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!this.pdfLoadingTask) {\n                _context7.next = 3;\n                break;\n              }\n\n              _context7.next = 3;\n              return this.close();\n\n            case 3:\n              workerParameters = _app_options.AppOptions.getAll(_app_options.OptionKind.WORKER);\n\n              for (key in workerParameters) {\n                _pdfjsLib.GlobalWorkerOptions[key] = workerParameters[key];\n              }\n\n              parameters = Object.create(null);\n\n              if (typeof file === \"string\") {\n                this.setTitleUsingUrl(file);\n                parameters.url = file;\n              } else if (file && \"byteLength\" in file) {\n                parameters.data = file;\n              } else if (file.url && file.originalUrl) {\n                this.setTitleUsingUrl(file.originalUrl);\n                parameters.url = file.url;\n              }\n\n              apiParameters = _app_options.AppOptions.getAll(_app_options.OptionKind.API);\n\n              for (_key in apiParameters) {\n                value = apiParameters[_key];\n\n                if (_key === \"docBaseUrl\" && !value) {}\n\n                parameters[_key] = value;\n              }\n\n              if (args) {\n                for (_key2 in args) {\n                  _value = args[_key2];\n\n                  if (_key2 === \"length\") {\n                    this.pdfDocumentProperties.setFileSize(_value);\n                  }\n\n                  parameters[_key2] = _value;\n                }\n              }\n\n              loadingTask = (0, _pdfjsLib.getDocument)(parameters);\n              this.pdfLoadingTask = loadingTask;\n\n              loadingTask.onPassword = function (updateCallback, reason) {\n                _this2.pdfLinkService.externalLinkEnabled = false;\n\n                _this2.passwordPrompt.setUpdateCallback(updateCallback, reason);\n\n                _this2.passwordPrompt.open();\n              };\n\n              loadingTask.onProgress = function (_ref) {\n                var loaded = _ref.loaded,\n                    total = _ref.total;\n\n                _this2.progress(loaded / total);\n              };\n\n              loadingTask.onUnsupportedFeature = this.fallback.bind(this);\n              return _context7.abrupt(\"return\", loadingTask.promise.then(function (pdfDocument) {\n                _this2.load(pdfDocument);\n              }, function (exception) {\n                if (loadingTask !== _this2.pdfLoadingTask) {\n                  return undefined;\n                }\n\n                var message = exception && exception.message;\n                var loadingErrorMessage;\n\n                if (exception instanceof _pdfjsLib.InvalidPDFException) {\n                  loadingErrorMessage = _this2.l10n.get(\"invalid_file_error\", null, \"Invalid or corrupted PDF file.\");\n                } else if (exception instanceof _pdfjsLib.MissingPDFException) {\n                  loadingErrorMessage = _this2.l10n.get(\"missing_file_error\", null, \"Missing PDF file.\");\n                } else if (exception instanceof _pdfjsLib.UnexpectedResponseException) {\n                  loadingErrorMessage = _this2.l10n.get(\"unexpected_response_error\", null, \"Unexpected server response.\");\n                } else {\n                  loadingErrorMessage = _this2.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\");\n                }\n\n                return loadingErrorMessage.then(function (msg) {\n                  _this2.error(msg, {\n                    message: message\n                  });\n\n                  throw new Error(msg);\n                });\n              }));\n\n            case 16:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function open(_x2, _x3) {\n      return _open.apply(this, arguments);\n    }\n\n    return open;\n  }(),\n  download: function download() {\n    var _this3 = this;\n\n    function downloadByUrl() {\n      downloadManager.downloadUrl(url, filename);\n    }\n\n    var url = this.baseUrl;\n    var filename = this.contentDispositionFilename || (0, _ui_utils.getPDFFileNameFromURL)(this.url);\n    var downloadManager = this.downloadManager;\n\n    downloadManager.onerror = function (err) {\n      _this3.error(\"PDF failed to download: \".concat(err));\n    };\n\n    if (!this.pdfDocument || !this.downloadComplete) {\n      downloadByUrl();\n      return;\n    }\n\n    this.pdfDocument.getData().then(function (data) {\n      var blob = new Blob([data], {\n        type: \"application/pdf\"\n      });\n      downloadManager.download(blob, url, filename);\n    })[\"catch\"](downloadByUrl);\n  },\n  fallback: function fallback(featureId) {},\n  error: function error(message, moreInfo) {\n    var moreInfoText = [this.l10n.get(\"error_version_info\", {\n      version: _pdfjsLib.version || \"?\",\n      build: _pdfjsLib.build || \"?\"\n    }, \"PDF.js v{{version}} (build: {{build}})\")];\n\n    if (moreInfo) {\n      moreInfoText.push(this.l10n.get(\"error_message\", {\n        message: moreInfo.message\n      }, \"Message: {{message}}\"));\n\n      if (moreInfo.stack) {\n        moreInfoText.push(this.l10n.get(\"error_stack\", {\n          stack: moreInfo.stack\n        }, \"Stack: {{stack}}\"));\n      } else {\n        if (moreInfo.filename) {\n          moreInfoText.push(this.l10n.get(\"error_file\", {\n            file: moreInfo.filename\n          }, \"File: {{file}}\"));\n        }\n\n        if (moreInfo.lineNumber) {\n          moreInfoText.push(this.l10n.get(\"error_line\", {\n            line: moreInfo.lineNumber\n          }, \"Line: {{line}}\"));\n        }\n      }\n    }\n\n    var errorWrapperConfig = this.appConfig.errorWrapper;\n    var errorWrapper = errorWrapperConfig.container;\n    errorWrapper.removeAttribute(\"hidden\");\n    var errorMessage = errorWrapperConfig.errorMessage;\n    errorMessage.textContent = message;\n    var closeButton = errorWrapperConfig.closeButton;\n\n    closeButton.onclick = function () {\n      errorWrapper.setAttribute(\"hidden\", \"true\");\n    };\n\n    var errorMoreInfo = errorWrapperConfig.errorMoreInfo;\n    var moreInfoButton = errorWrapperConfig.moreInfoButton;\n    var lessInfoButton = errorWrapperConfig.lessInfoButton;\n\n    moreInfoButton.onclick = function () {\n      errorMoreInfo.removeAttribute(\"hidden\");\n      moreInfoButton.setAttribute(\"hidden\", \"true\");\n      lessInfoButton.removeAttribute(\"hidden\");\n      errorMoreInfo.style.height = errorMoreInfo.scrollHeight + \"px\";\n    };\n\n    lessInfoButton.onclick = function () {\n      errorMoreInfo.setAttribute(\"hidden\", \"true\");\n      moreInfoButton.removeAttribute(\"hidden\");\n      lessInfoButton.setAttribute(\"hidden\", \"true\");\n    };\n\n    moreInfoButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    lessInfoButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    closeButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    moreInfoButton.removeAttribute(\"hidden\");\n    lessInfoButton.setAttribute(\"hidden\", \"true\");\n    Promise.all(moreInfoText).then(function (parts) {\n      errorMoreInfo.value = parts.join(\"\\n\");\n    });\n  },\n  progress: function progress(level) {\n    var _this4 = this;\n\n    if (this.downloadComplete) {\n      return;\n    }\n\n    var percent = Math.round(level * 100);\n\n    if (percent > this.loadingBar.percent || isNaN(percent)) {\n      this.loadingBar.percent = percent;\n      var disableAutoFetch = this.pdfDocument ? this.pdfDocument.loadingParams[\"disableAutoFetch\"] : _app_options.AppOptions.get(\"disableAutoFetch\");\n\n      if (disableAutoFetch && percent) {\n        if (this.disableAutoFetchLoadingBarTimeout) {\n          clearTimeout(this.disableAutoFetchLoadingBarTimeout);\n          this.disableAutoFetchLoadingBarTimeout = null;\n        }\n\n        this.loadingBar.show();\n        this.disableAutoFetchLoadingBarTimeout = setTimeout(function () {\n          _this4.loadingBar.hide();\n\n          _this4.disableAutoFetchLoadingBarTimeout = null;\n        }, DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT);\n      }\n    }\n  },\n  load: function load(pdfDocument) {\n    var _this5 = this;\n\n    this.pdfDocument = pdfDocument;\n    pdfDocument.getDownloadInfo().then(function () {\n      _this5.downloadComplete = true;\n\n      _this5.loadingBar.hide();\n\n      firstPagePromise.then(function () {\n        _this5.eventBus.dispatch(\"documentloaded\", {\n          source: _this5\n        });\n      });\n    });\n    var pageLayoutPromise = pdfDocument.getPageLayout()[\"catch\"](function () {});\n    var pageModePromise = pdfDocument.getPageMode()[\"catch\"](function () {});\n    var openActionDestPromise = pdfDocument.getOpenActionDestination()[\"catch\"](function () {});\n    this.toolbar.setPagesCount(pdfDocument.numPages, false);\n    this.secondaryToolbar.setPagesCount(pdfDocument.numPages);\n    var store = this.store = new _view_history.ViewHistory(pdfDocument.fingerprint);\n    var baseDocumentUrl;\n    baseDocumentUrl = null;\n    this.pdfLinkService.setDocument(pdfDocument, baseDocumentUrl);\n    this.pdfDocumentProperties.setDocument(pdfDocument, this.url);\n    var pdfViewer = this.pdfViewer;\n    pdfViewer.setDocument(pdfDocument);\n    var firstPagePromise = pdfViewer.firstPagePromise;\n    var pagesPromise = pdfViewer.pagesPromise;\n    var onePageRendered = pdfViewer.onePageRendered;\n    var pdfThumbnailViewer = this.pdfThumbnailViewer;\n    pdfThumbnailViewer.setDocument(pdfDocument);\n    firstPagePromise.then(function (pdfPage) {\n      _this5.loadingBar.setWidth(_this5.appConfig.viewerContainer);\n\n      var storePromise = store.getMultiple({\n        page: null,\n        zoom: _ui_utils.DEFAULT_SCALE_VALUE,\n        scrollLeft: \"0\",\n        scrollTop: \"0\",\n        rotation: null,\n        sidebarView: _pdf_sidebar.SidebarView.UNKNOWN,\n        scrollMode: _ui_utils.ScrollMode.UNKNOWN,\n        spreadMode: _ui_utils.SpreadMode.UNKNOWN\n      })[\"catch\"](function () {});\n      Promise.all([_ui_utils.animationStarted, storePromise, pageLayoutPromise, pageModePromise, openActionDestPromise]).then(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regenerator[\"default\"].mark(function _callee8(_ref2) {\n          var _ref4, timeStamp, _ref4$, values, pageLayout, pageMode, openActionDest, viewOnLoad, initialBookmark, zoom, hash, rotation, sidebarView, scrollMode, spreadMode;\n\n          return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  _ref4 = _slicedToArray(_ref2, 5), timeStamp = _ref4[0], _ref4$ = _ref4[1], values = _ref4$ === void 0 ? {} : _ref4$, pageLayout = _ref4[2], pageMode = _ref4[3], openActionDest = _ref4[4];\n                  viewOnLoad = _app_options.AppOptions.get(\"viewOnLoad\");\n\n                  _this5._initializePdfHistory({\n                    fingerprint: pdfDocument.fingerprint,\n                    viewOnLoad: viewOnLoad,\n                    initialDest: openActionDest\n                  });\n\n                  initialBookmark = _this5.initialBookmark;\n                  zoom = _app_options.AppOptions.get(\"defaultZoomValue\");\n                  hash = zoom ? \"zoom=\".concat(zoom) : null;\n                  rotation = null;\n                  sidebarView = _app_options.AppOptions.get(\"sidebarViewOnLoad\");\n                  scrollMode = _app_options.AppOptions.get(\"scrollModeOnLoad\");\n                  spreadMode = _app_options.AppOptions.get(\"spreadModeOnLoad\");\n\n                  if (values.page && viewOnLoad !== ViewOnLoad.INITIAL) {\n                    hash = \"page=\".concat(values.page, \"&zoom=\").concat(zoom || values.zoom, \",\") + \"\".concat(values.scrollLeft, \",\").concat(values.scrollTop);\n                    rotation = parseInt(values.rotation, 10);\n\n                    if (sidebarView === _pdf_sidebar.SidebarView.UNKNOWN) {\n                      sidebarView = values.sidebarView | 0;\n                    }\n\n                    if (scrollMode === _ui_utils.ScrollMode.UNKNOWN) {\n                      scrollMode = values.scrollMode | 0;\n                    }\n\n                    if (spreadMode === _ui_utils.SpreadMode.UNKNOWN) {\n                      spreadMode = values.spreadMode | 0;\n                    }\n                  }\n\n                  if (pageMode && sidebarView === _pdf_sidebar.SidebarView.UNKNOWN) {\n                    sidebarView = apiPageModeToSidebarView(pageMode);\n                  }\n\n                  if (pageLayout && spreadMode === _ui_utils.SpreadMode.UNKNOWN) {\n                    spreadMode = apiPageLayoutToSpreadMode(pageLayout);\n                  }\n\n                  _this5.setInitialView(hash, {\n                    rotation: rotation,\n                    sidebarView: sidebarView,\n                    scrollMode: scrollMode,\n                    spreadMode: spreadMode\n                  });\n\n                  _this5.eventBus.dispatch(\"documentinit\", {\n                    source: _this5\n                  });\n\n                  if (!_this5.isViewerEmbedded) {\n                    pdfViewer.focus();\n                  }\n\n                  _context8.next = 18;\n                  return Promise.race([pagesPromise, new Promise(function (resolve) {\n                    setTimeout(resolve, FORCE_PAGES_LOADED_TIMEOUT);\n                  })]);\n\n                case 18:\n                  if (!(!initialBookmark && !hash)) {\n                    _context8.next = 20;\n                    break;\n                  }\n\n                  return _context8.abrupt(\"return\");\n\n                case 20:\n                  if (!pdfViewer.hasEqualPageSizes) {\n                    _context8.next = 22;\n                    break;\n                  }\n\n                  return _context8.abrupt(\"return\");\n\n                case 22:\n                  _this5.initialBookmark = initialBookmark;\n                  pdfViewer.currentScaleValue = pdfViewer.currentScaleValue;\n\n                  _this5.setInitialView(hash);\n\n                case 25:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8);\n        }));\n\n        return function (_x4) {\n          return _ref3.apply(this, arguments);\n        };\n      }())[\"catch\"](function () {\n        _this5.setInitialView();\n      }).then(function () {\n        pdfViewer.update();\n      });\n    });\n    pdfDocument.getPageLabels().then(function (labels) {\n      if (!labels || _app_options.AppOptions.get(\"disablePageLabels\")) {\n        return;\n      }\n\n      var numLabels = labels.length;\n\n      if (numLabels !== _this5.pagesCount) {\n        console.error(\"The number of Page Labels does not match \" + \"the number of pages in the document.\");\n        return;\n      }\n\n      var i = 0;\n\n      while (i < numLabels && labels[i] === (i + 1).toString()) {\n        i++;\n      }\n\n      if (i === numLabels) {\n        return;\n      }\n\n      pdfViewer.setPageLabels(labels);\n      pdfThumbnailViewer.setPageLabels(labels);\n\n      _this5.toolbar.setPagesCount(pdfDocument.numPages, true);\n\n      _this5.toolbar.setPageNumber(pdfViewer.currentPageNumber, pdfViewer.currentPageLabel);\n    });\n    pagesPromise.then(function () {\n      if (!_this5.supportsPrinting) {\n        return;\n      }\n\n      pdfDocument.getJavaScript().then(function (javaScript) {\n        if (!javaScript) {\n          return;\n        }\n\n        javaScript.some(function (js) {\n          if (!js) {\n            return false;\n          }\n\n          console.warn(\"Warning: JavaScript is not supported\");\n\n          _this5.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.javaScript);\n\n          return true;\n        });\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = javaScript[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var js = _step.value;\n\n            if (js && _ui_utils.AutoPrintRegExp.test(js)) {\n              setTimeout(function () {\n                window.print();\n              });\n              return;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      });\n    });\n    onePageRendered.then(function () {\n      pdfDocument.getOutline().then(function (outline) {\n        _this5.pdfOutlineViewer.render({\n          outline: outline\n        });\n      });\n      pdfDocument.getAttachments().then(function (attachments) {\n        _this5.pdfAttachmentViewer.render({\n          attachments: attachments\n        });\n      });\n    });\n    pdfDocument.getMetadata().then(function (_ref5) {\n      var info = _ref5.info,\n          metadata = _ref5.metadata,\n          contentDispositionFilename = _ref5.contentDispositionFilename;\n      _this5.documentInfo = info;\n      _this5.metadata = metadata;\n      _this5.contentDispositionFilename = contentDispositionFilename;\n      console.log(\"PDF \" + pdfDocument.fingerprint + \" [\" + info.PDFFormatVersion + \" \" + (info.Producer || \"-\").trim() + \" / \" + (info.Creator || \"-\").trim() + \"]\" + \" (PDF.js: \" + (_pdfjsLib.version || \"-\") + (_app_options.AppOptions.get(\"enableWebGL\") ? \" [WebGL]\" : \"\") + \")\");\n      var pdfTitle;\n      var infoTitle = info && info[\"Title\"];\n\n      if (infoTitle) {\n        pdfTitle = infoTitle;\n      }\n\n      var metadataTitle = metadata && metadata.get(\"dc:title\");\n\n      if (metadataTitle) {\n        if (metadataTitle !== \"Untitled\" && !/[\\uFFF0-\\uFFFF]/g.test(metadataTitle)) {\n          pdfTitle = metadataTitle;\n        }\n      }\n\n      if (pdfTitle) {\n        _this5.setTitle(\"\".concat(pdfTitle, \" - \").concat(contentDispositionFilename || document.title));\n      } else if (contentDispositionFilename) {\n        _this5.setTitle(contentDispositionFilename);\n      }\n\n      if (info.IsAcroFormPresent) {\n        console.warn(\"Warning: AcroForm/XFA is not supported\");\n\n        _this5.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.forms);\n      }\n    });\n  },\n  _initializePdfHistory: function _initializePdfHistory(_ref6) {\n    var fingerprint = _ref6.fingerprint,\n        viewOnLoad = _ref6.viewOnLoad,\n        _ref6$initialDest = _ref6.initialDest,\n        initialDest = _ref6$initialDest === void 0 ? null : _ref6$initialDest;\n\n    if (_app_options.AppOptions.get(\"disableHistory\") || this.isViewerEmbedded) {\n      return;\n    }\n\n    this.pdfHistory.initialize({\n      fingerprint: fingerprint,\n      resetHistory: viewOnLoad === ViewOnLoad.INITIAL,\n      updateUrl: _app_options.AppOptions.get(\"historyUpdateUrl\")\n    });\n\n    if (this.pdfHistory.initialBookmark) {\n      this.initialBookmark = this.pdfHistory.initialBookmark;\n      this.initialRotation = this.pdfHistory.initialRotation;\n    }\n\n    if (initialDest && !this.initialBookmark && viewOnLoad === ViewOnLoad.UNKNOWN) {\n      this.initialBookmark = JSON.stringify(initialDest);\n      this.pdfHistory.push({\n        explicitDest: initialDest,\n        pageNumber: null\n      });\n    }\n  },\n  setInitialView: function setInitialView(storedHash) {\n    var _this6 = this;\n\n    var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        rotation = _ref7.rotation,\n        sidebarView = _ref7.sidebarView,\n        scrollMode = _ref7.scrollMode,\n        spreadMode = _ref7.spreadMode;\n\n    var setRotation = function setRotation(angle) {\n      if ((0, _ui_utils.isValidRotation)(angle)) {\n        _this6.pdfViewer.pagesRotation = angle;\n      }\n    };\n\n    var setViewerModes = function setViewerModes(scroll, spread) {\n      if ((0, _ui_utils.isValidScrollMode)(scroll)) {\n        _this6.pdfViewer.scrollMode = scroll;\n      }\n\n      if ((0, _ui_utils.isValidSpreadMode)(spread)) {\n        _this6.pdfViewer.spreadMode = spread;\n      }\n    };\n\n    this.isInitialViewSet = true;\n    this.pdfSidebar.setInitialView(sidebarView);\n    setViewerModes(scrollMode, spreadMode);\n\n    if (this.initialBookmark) {\n      setRotation(this.initialRotation);\n      delete this.initialRotation;\n      this.pdfLinkService.setHash(this.initialBookmark);\n      this.initialBookmark = null;\n    } else if (storedHash) {\n      setRotation(rotation);\n      this.pdfLinkService.setHash(storedHash);\n    }\n\n    this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber, this.pdfViewer.currentPageLabel);\n    this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);\n\n    if (!this.pdfViewer.currentScaleValue) {\n      this.pdfViewer.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n    }\n  },\n  cleanup: function cleanup() {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this.pdfViewer.cleanup();\n    this.pdfThumbnailViewer.cleanup();\n\n    if (this.pdfViewer.renderer !== _ui_utils.RendererType.SVG) {\n      this.pdfDocument.cleanup();\n    }\n  },\n  forceRendering: function forceRendering() {\n    this.pdfRenderingQueue.printing = this.printing;\n    this.pdfRenderingQueue.isThumbnailViewEnabled = this.pdfSidebar.isThumbnailViewVisible;\n    this.pdfRenderingQueue.renderHighestPriority();\n  },\n  beforePrint: function beforePrint() {\n    var _this7 = this;\n\n    if (this.printService) {\n      return;\n    }\n\n    if (!this.supportsPrinting) {\n      this.l10n.get(\"printing_not_supported\", null, \"Warning: Printing is not fully supported by this browser.\").then(function (printMessage) {\n        _this7.error(printMessage);\n      });\n      return;\n    }\n\n    if (!this.pdfViewer.pageViewsReady) {\n      this.l10n.get(\"printing_not_ready\", null, \"Warning: The PDF is not fully loaded for printing.\").then(function (notReadyMessage) {\n        window.alert(notReadyMessage);\n      });\n      return;\n    }\n\n    var pagesOverview = this.pdfViewer.getPagesOverview();\n    var printContainer = this.appConfig.printContainer;\n    var printService = PDFPrintServiceFactory.instance.createPrintService(this.pdfDocument, pagesOverview, printContainer, this.l10n);\n    this.printService = printService;\n    this.forceRendering();\n    printService.layout();\n  },\n  afterPrint: function afterPrint() {\n    if (this.printService) {\n      this.printService.destroy();\n      this.printService = null;\n    }\n\n    this.forceRendering();\n  },\n  rotatePages: function rotatePages(delta) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    var newRotation = (this.pdfViewer.pagesRotation + 360 + delta) % 360;\n    this.pdfViewer.pagesRotation = newRotation;\n  },\n  requestPresentationMode: function requestPresentationMode() {\n    if (!this.pdfPresentationMode) {\n      return;\n    }\n\n    this.pdfPresentationMode.request();\n  },\n  bindEvents: function bindEvents() {\n    var eventBus = this.eventBus,\n        _boundEvents = this._boundEvents;\n    _boundEvents.beforePrint = this.beforePrint.bind(this);\n    _boundEvents.afterPrint = this.afterPrint.bind(this);\n    eventBus.on(\"resize\", webViewerResize);\n    eventBus.on(\"hashchange\", webViewerHashchange);\n    eventBus.on(\"beforeprint\", _boundEvents.beforePrint);\n    eventBus.on(\"afterprint\", _boundEvents.afterPrint);\n    eventBus.on(\"pagerendered\", webViewerPageRendered);\n    eventBus.on(\"textlayerrendered\", webViewerTextLayerRendered);\n    eventBus.on(\"updateviewarea\", webViewerUpdateViewarea);\n    eventBus.on(\"pagechanging\", webViewerPageChanging);\n    eventBus.on(\"scalechanging\", webViewerScaleChanging);\n    eventBus.on(\"rotationchanging\", webViewerRotationChanging);\n    eventBus.on(\"sidebarviewchanged\", webViewerSidebarViewChanged);\n    eventBus.on(\"pagemode\", webViewerPageMode);\n    eventBus.on(\"namedaction\", webViewerNamedAction);\n    eventBus.on(\"presentationmodechanged\", webViewerPresentationModeChanged);\n    eventBus.on(\"presentationmode\", webViewerPresentationMode);\n    eventBus.on(\"openfile\", webViewerOpenFile);\n    eventBus.on(\"print\", webViewerPrint);\n    eventBus.on(\"download\", webViewerDownload);\n    eventBus.on(\"firstpage\", webViewerFirstPage);\n    eventBus.on(\"lastpage\", webViewerLastPage);\n    eventBus.on(\"nextpage\", webViewerNextPage);\n    eventBus.on(\"previouspage\", webViewerPreviousPage);\n    eventBus.on(\"zoomin\", webViewerZoomIn);\n    eventBus.on(\"zoomout\", webViewerZoomOut);\n    eventBus.on(\"zoomreset\", webViewerZoomReset);\n    eventBus.on(\"pagenumberchanged\", webViewerPageNumberChanged);\n    eventBus.on(\"scalechanged\", webViewerScaleChanged);\n    eventBus.on(\"rotatecw\", webViewerRotateCw);\n    eventBus.on(\"rotateccw\", webViewerRotateCcw);\n    eventBus.on(\"switchscrollmode\", webViewerSwitchScrollMode);\n    eventBus.on(\"scrollmodechanged\", webViewerScrollModeChanged);\n    eventBus.on(\"switchspreadmode\", webViewerSwitchSpreadMode);\n    eventBus.on(\"spreadmodechanged\", webViewerSpreadModeChanged);\n    eventBus.on(\"documentproperties\", webViewerDocumentProperties);\n    eventBus.on(\"find\", webViewerFind);\n    eventBus.on(\"findfromurlhash\", webViewerFindFromUrlHash);\n    eventBus.on(\"updatefindmatchescount\", webViewerUpdateFindMatchesCount);\n    eventBus.on(\"updatefindcontrolstate\", webViewerUpdateFindControlState);\n    eventBus.on(\"fileinputchange\", webViewerFileInputChange);\n  },\n  bindWindowEvents: function bindWindowEvents() {\n    var eventBus = this.eventBus,\n        _boundEvents = this._boundEvents;\n\n    _boundEvents.windowResize = function () {\n      eventBus.dispatch(\"resize\", {\n        source: window\n      });\n    };\n\n    _boundEvents.windowHashChange = function () {\n      eventBus.dispatch(\"hashchange\", {\n        source: window,\n        hash: document.location.hash.substring(1)\n      });\n    };\n\n    _boundEvents.windowBeforePrint = function () {\n      eventBus.dispatch(\"beforeprint\", {\n        source: window\n      });\n    };\n\n    _boundEvents.windowAfterPrint = function () {\n      eventBus.dispatch(\"afterprint\", {\n        source: window\n      });\n    };\n\n    window.addEventListener(\"visibilitychange\", webViewerVisibilityChange);\n    window.addEventListener(\"wheel\", webViewerWheel, {\n      passive: false\n    });\n    window.addEventListener(\"click\", webViewerClick);\n    window.addEventListener(\"keydown\", webViewerKeyDown);\n    window.addEventListener(\"resize\", _boundEvents.windowResize);\n    window.addEventListener(\"hashchange\", _boundEvents.windowHashChange);\n    window.addEventListener(\"beforeprint\", _boundEvents.windowBeforePrint);\n    window.addEventListener(\"afterprint\", _boundEvents.windowAfterPrint);\n  },\n  unbindEvents: function unbindEvents() {\n    var eventBus = this.eventBus,\n        _boundEvents = this._boundEvents;\n    eventBus.off(\"resize\", webViewerResize);\n    eventBus.off(\"hashchange\", webViewerHashchange);\n    eventBus.off(\"beforeprint\", _boundEvents.beforePrint);\n    eventBus.off(\"afterprint\", _boundEvents.afterPrint);\n    eventBus.off(\"pagerendered\", webViewerPageRendered);\n    eventBus.off(\"textlayerrendered\", webViewerTextLayerRendered);\n    eventBus.off(\"updateviewarea\", webViewerUpdateViewarea);\n    eventBus.off(\"pagechanging\", webViewerPageChanging);\n    eventBus.off(\"scalechanging\", webViewerScaleChanging);\n    eventBus.off(\"rotationchanging\", webViewerRotationChanging);\n    eventBus.off(\"sidebarviewchanged\", webViewerSidebarViewChanged);\n    eventBus.off(\"pagemode\", webViewerPageMode);\n    eventBus.off(\"namedaction\", webViewerNamedAction);\n    eventBus.off(\"presentationmodechanged\", webViewerPresentationModeChanged);\n    eventBus.off(\"presentationmode\", webViewerPresentationMode);\n    eventBus.off(\"openfile\", webViewerOpenFile);\n    eventBus.off(\"print\", webViewerPrint);\n    eventBus.off(\"download\", webViewerDownload);\n    eventBus.off(\"firstpage\", webViewerFirstPage);\n    eventBus.off(\"lastpage\", webViewerLastPage);\n    eventBus.off(\"nextpage\", webViewerNextPage);\n    eventBus.off(\"previouspage\", webViewerPreviousPage);\n    eventBus.off(\"zoomin\", webViewerZoomIn);\n    eventBus.off(\"zoomout\", webViewerZoomOut);\n    eventBus.off(\"zoomreset\", webViewerZoomReset);\n    eventBus.off(\"pagenumberchanged\", webViewerPageNumberChanged);\n    eventBus.off(\"scalechanged\", webViewerScaleChanged);\n    eventBus.off(\"rotatecw\", webViewerRotateCw);\n    eventBus.off(\"rotateccw\", webViewerRotateCcw);\n    eventBus.off(\"switchscrollmode\", webViewerSwitchScrollMode);\n    eventBus.off(\"scrollmodechanged\", webViewerScrollModeChanged);\n    eventBus.off(\"switchspreadmode\", webViewerSwitchSpreadMode);\n    eventBus.off(\"spreadmodechanged\", webViewerSpreadModeChanged);\n    eventBus.off(\"documentproperties\", webViewerDocumentProperties);\n    eventBus.off(\"find\", webViewerFind);\n    eventBus.off(\"findfromurlhash\", webViewerFindFromUrlHash);\n    eventBus.off(\"updatefindmatchescount\", webViewerUpdateFindMatchesCount);\n    eventBus.off(\"updatefindcontrolstate\", webViewerUpdateFindControlState);\n    eventBus.off(\"fileinputchange\", webViewerFileInputChange);\n    _boundEvents.beforePrint = null;\n    _boundEvents.afterPrint = null;\n  },\n  unbindWindowEvents: function unbindWindowEvents() {\n    var _boundEvents = this._boundEvents;\n    window.removeEventListener(\"visibilitychange\", webViewerVisibilityChange);\n    window.removeEventListener(\"wheel\", webViewerWheel);\n    window.removeEventListener(\"click\", webViewerClick);\n    window.removeEventListener(\"keydown\", webViewerKeyDown);\n    window.removeEventListener(\"resize\", _boundEvents.windowResize);\n    window.removeEventListener(\"hashchange\", _boundEvents.windowHashChange);\n    window.removeEventListener(\"beforeprint\", _boundEvents.windowBeforePrint);\n    window.removeEventListener(\"afterprint\", _boundEvents.windowAfterPrint);\n    _boundEvents.windowResize = null;\n    _boundEvents.windowHashChange = null;\n    _boundEvents.windowBeforePrint = null;\n    _boundEvents.windowAfterPrint = null;\n  }\n};\nexports.PDFViewerApplication = PDFViewerApplication;\nvar validateFileURL;\n{\n  var HOSTED_VIEWER_ORIGINS = [\"null\", \"http://mozilla.github.io\", \"https://mozilla.github.io\"];\n\n  validateFileURL = function validateFileURL(file) {\n    if (file === undefined) {\n      return;\n    }\n\n    try {\n      var viewerOrigin = new URL(window.location.href).origin || \"null\";\n\n      if (HOSTED_VIEWER_ORIGINS.includes(viewerOrigin)) {\n        return;\n      }\n\n      var _ref8 = new URL(file, window.location.href),\n          origin = _ref8.origin,\n          protocol = _ref8.protocol;\n\n      if (origin !== viewerOrigin && protocol !== \"blob:\") {\n        throw new Error(\"file origin does not match viewer's\");\n      }\n    } catch (ex) {\n      var message = ex && ex.message;\n      PDFViewerApplication.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\").then(function (loadingErrorMessage) {\n        PDFViewerApplication.error(loadingErrorMessage, {\n          message: message\n        });\n      });\n      throw ex;\n    }\n  };\n}\n\nfunction loadFakeWorker() {\n  return _loadFakeWorker.apply(this, arguments);\n}\n\nfunction _loadFakeWorker() {\n  _loadFakeWorker = _asyncToGenerator(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee9() {\n    return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            if (!_pdfjsLib.GlobalWorkerOptions.workerSrc) {\n              _pdfjsLib.GlobalWorkerOptions.workerSrc = _app_options.AppOptions.get(\"workerSrc\");\n            }\n\n            return _context9.abrupt(\"return\", (0, _pdfjsLib.loadScript)(_pdfjsLib.PDFWorker.getWorkerSrc()));\n\n          case 2:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return _loadFakeWorker.apply(this, arguments);\n}\n\nfunction loadAndEnablePDFBug(enabledTabs) {\n  var appConfig = PDFViewerApplication.appConfig;\n  return (0, _pdfjsLib.loadScript)(appConfig.debuggerScriptPath).then(function () {\n    PDFBug.enable(enabledTabs);\n    PDFBug.init({\n      OPS: _pdfjsLib.OPS,\n      createObjectURL: _pdfjsLib.createObjectURL\n    }, appConfig.mainContainer);\n  });\n}\n\nfunction webViewerInitialized() {\n  var appConfig = PDFViewerApplication.appConfig;\n  var file;\n  var queryString = document.location.search.substring(1);\n  var params = (0, _ui_utils.parseQueryString)(queryString);\n  file = \"file\" in params ? params.file : _app_options.AppOptions.get(\"defaultUrl\");\n  validateFileURL(file);\n  var fileInput = document.createElement(\"input\");\n  fileInput.id = appConfig.openFileInputName;\n  fileInput.className = \"fileInput\";\n  fileInput.setAttribute(\"type\", \"file\");\n  fileInput.oncontextmenu = _ui_utils.noContextMenuHandler;\n  document.body.appendChild(fileInput);\n\n  if (!window.File || !window.FileReader || !window.FileList || !window.Blob) {\n    appConfig.toolbar.openFile.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.openFileButton.setAttribute(\"hidden\", \"true\");\n  } else {\n    fileInput.value = null;\n  }\n\n  fileInput.addEventListener(\"change\", function (evt) {\n    var files = evt.target.files;\n\n    if (!files || files.length === 0) {\n      return;\n    }\n\n    PDFViewerApplication.eventBus.dispatch(\"fileinputchange\", {\n      source: this,\n      fileInput: evt.target\n    });\n  });\n  appConfig.mainContainer.addEventListener(\"dragover\", function (evt) {\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = \"move\";\n  });\n  appConfig.mainContainer.addEventListener(\"drop\", function (evt) {\n    evt.preventDefault();\n    var files = evt.dataTransfer.files;\n\n    if (!files || files.length === 0) {\n      return;\n    }\n\n    PDFViewerApplication.eventBus.dispatch(\"fileinputchange\", {\n      source: this,\n      fileInput: evt.dataTransfer\n    });\n  });\n\n  if (!PDFViewerApplication.supportsPrinting) {\n    appConfig.toolbar.print.classList.add(\"hidden\");\n    appConfig.secondaryToolbar.printButton.classList.add(\"hidden\");\n  }\n\n  if (!PDFViewerApplication.supportsFullscreen) {\n    appConfig.toolbar.presentationModeButton.classList.add(\"hidden\");\n    appConfig.secondaryToolbar.presentationModeButton.classList.add(\"hidden\");\n  }\n\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    appConfig.toolbar.viewFind.classList.add(\"hidden\");\n  }\n\n  appConfig.mainContainer.addEventListener(\"transitionend\", function (evt) {\n    if (evt.target === this) {\n      PDFViewerApplication.eventBus.dispatch(\"resize\", {\n        source: this\n      });\n    }\n  }, true);\n\n  try {\n    webViewerOpenFileViaURL(file);\n  } catch (reason) {\n    PDFViewerApplication.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\").then(function (msg) {\n      PDFViewerApplication.error(msg, reason);\n    });\n  }\n}\n\nvar webViewerOpenFileViaURL;\n{\n  webViewerOpenFileViaURL = function webViewerOpenFileViaURL(file) {\n    if (file && file.lastIndexOf(\"file:\", 0) === 0) {\n      PDFViewerApplication.setTitleUsingUrl(file);\n      var xhr = new XMLHttpRequest();\n\n      xhr.onload = function () {\n        PDFViewerApplication.open(new Uint8Array(xhr.response));\n      };\n\n      xhr.open(\"GET\", file);\n      xhr.responseType = \"arraybuffer\";\n      xhr.send();\n      return;\n    }\n\n    if (file) {\n      PDFViewerApplication.open(file);\n    }\n  };\n}\n\nfunction webViewerPageRendered(evt) {\n  var pageNumber = evt.pageNumber;\n  var pageIndex = pageNumber - 1;\n  var pageView = PDFViewerApplication.pdfViewer.getPageView(pageIndex);\n\n  if (pageNumber === PDFViewerApplication.page) {\n    PDFViewerApplication.toolbar.updateLoadingIndicatorState(false);\n  }\n\n  if (!pageView) {\n    return;\n  }\n\n  if (PDFViewerApplication.pdfSidebar.isThumbnailViewVisible) {\n    var thumbnailView = PDFViewerApplication.pdfThumbnailViewer.getThumbnail(pageIndex);\n    thumbnailView.setImage(pageView);\n  }\n\n  if (typeof Stats !== \"undefined\" && Stats.enabled && pageView.stats) {\n    Stats.add(pageNumber, pageView.stats);\n  }\n\n  if (pageView.error) {\n    PDFViewerApplication.l10n.get(\"rendering_error\", null, \"An error occurred while rendering the page.\").then(function (msg) {\n      PDFViewerApplication.error(msg, pageView.error);\n    });\n  }\n}\n\nfunction webViewerTextLayerRendered(evt) {}\n\nfunction webViewerPageMode(_ref9) {\n  var mode = _ref9.mode;\n  var view;\n\n  switch (mode) {\n    case \"thumbs\":\n      view = _pdf_sidebar.SidebarView.THUMBS;\n      break;\n\n    case \"bookmarks\":\n    case \"outline\":\n      view = _pdf_sidebar.SidebarView.OUTLINE;\n      break;\n\n    case \"attachments\":\n      view = _pdf_sidebar.SidebarView.ATTACHMENTS;\n      break;\n\n    case \"none\":\n      view = _pdf_sidebar.SidebarView.NONE;\n      break;\n\n    default:\n      console.error('Invalid \"pagemode\" hash parameter: ' + mode);\n      return;\n  }\n\n  PDFViewerApplication.pdfSidebar.switchView(view, true);\n}\n\nfunction webViewerNamedAction(evt) {\n  var action = evt.action;\n\n  switch (action) {\n    case \"GoToPage\":\n      PDFViewerApplication.appConfig.toolbar.pageNumber.select();\n      break;\n\n    case \"Find\":\n      if (!PDFViewerApplication.supportsIntegratedFind) {\n        PDFViewerApplication.findBar.toggle();\n      }\n\n      break;\n  }\n}\n\nfunction webViewerPresentationModeChanged(evt) {\n  var active = evt.active,\n      switchInProgress = evt.switchInProgress;\n  PDFViewerApplication.pdfViewer.presentationModeState = switchInProgress ? _ui_utils.PresentationModeState.CHANGING : active ? _ui_utils.PresentationModeState.FULLSCREEN : _ui_utils.PresentationModeState.NORMAL;\n}\n\nfunction webViewerSidebarViewChanged(evt) {\n  PDFViewerApplication.pdfRenderingQueue.isThumbnailViewEnabled = PDFViewerApplication.pdfSidebar.isThumbnailViewVisible;\n  var store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"sidebarView\", evt.view)[\"catch\"](function () {});\n  }\n}\n\nfunction webViewerUpdateViewarea(evt) {\n  var location = evt.location,\n      store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.setMultiple({\n      page: location.pageNumber,\n      zoom: location.scale,\n      scrollLeft: location.left,\n      scrollTop: location.top,\n      rotation: location.rotation\n    })[\"catch\"](function () {});\n  }\n\n  var href = PDFViewerApplication.pdfLinkService.getAnchorUrl(location.pdfOpenParams);\n  PDFViewerApplication.appConfig.toolbar.viewBookmark.href = href;\n  PDFViewerApplication.appConfig.secondaryToolbar.viewBookmarkButton.href = href;\n  var currentPage = PDFViewerApplication.pdfViewer.getPageView(PDFViewerApplication.page - 1);\n  var loading = currentPage.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED;\n  PDFViewerApplication.toolbar.updateLoadingIndicatorState(loading);\n}\n\nfunction webViewerScrollModeChanged(evt) {\n  var store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"scrollMode\", evt.mode)[\"catch\"](function () {});\n  }\n}\n\nfunction webViewerSpreadModeChanged(evt) {\n  var store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"spreadMode\", evt.mode)[\"catch\"](function () {});\n  }\n}\n\nfunction webViewerResize() {\n  var pdfDocument = PDFViewerApplication.pdfDocument,\n      pdfViewer = PDFViewerApplication.pdfViewer;\n\n  if (!pdfDocument) {\n    return;\n  }\n\n  var currentScaleValue = pdfViewer.currentScaleValue;\n\n  if (currentScaleValue === \"auto\" || currentScaleValue === \"page-fit\" || currentScaleValue === \"page-width\") {\n    pdfViewer.currentScaleValue = currentScaleValue;\n  }\n\n  pdfViewer.update();\n}\n\nfunction webViewerHashchange(evt) {\n  var hash = evt.hash;\n\n  if (!hash) {\n    return;\n  }\n\n  if (!PDFViewerApplication.isInitialViewSet) {\n    PDFViewerApplication.initialBookmark = hash;\n  } else if (!PDFViewerApplication.pdfHistory.popStateInProgress) {\n    PDFViewerApplication.pdfLinkService.setHash(hash);\n  }\n}\n\nvar webViewerFileInputChange;\n{\n  webViewerFileInputChange = function webViewerFileInputChange(evt) {\n    if (PDFViewerApplication.pdfViewer && PDFViewerApplication.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    var file = evt.fileInput.files[0];\n\n    if (URL.createObjectURL && !_app_options.AppOptions.get(\"disableCreateObjectURL\")) {\n      var url = URL.createObjectURL(file);\n\n      if (file.name) {\n        url = {\n          url: url,\n          originalUrl: file.name\n        };\n      }\n\n      PDFViewerApplication.open(url);\n    } else {\n      PDFViewerApplication.setTitleUsingUrl(file.name);\n      var fileReader = new FileReader();\n\n      fileReader.onload = function webViewerChangeFileReaderOnload(evt) {\n        var buffer = evt.target.result;\n        PDFViewerApplication.open(new Uint8Array(buffer));\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    }\n\n    var appConfig = PDFViewerApplication.appConfig;\n    appConfig.toolbar.viewBookmark.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.viewBookmarkButton.setAttribute(\"hidden\", \"true\");\n    appConfig.toolbar.download.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.downloadButton.setAttribute(\"hidden\", \"true\");\n  };\n}\n\nfunction webViewerPresentationMode() {\n  PDFViewerApplication.requestPresentationMode();\n}\n\nfunction webViewerOpenFile() {\n  var openFileInputName = PDFViewerApplication.appConfig.openFileInputName;\n  document.getElementById(openFileInputName).click();\n}\n\nfunction webViewerPrint() {\n  window.print();\n}\n\nfunction webViewerDownload() {\n  PDFViewerApplication.download();\n}\n\nfunction webViewerFirstPage() {\n  if (PDFViewerApplication.pdfDocument) {\n    PDFViewerApplication.page = 1;\n  }\n}\n\nfunction webViewerLastPage() {\n  if (PDFViewerApplication.pdfDocument) {\n    PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n  }\n}\n\nfunction webViewerNextPage() {\n  PDFViewerApplication.page++;\n}\n\nfunction webViewerPreviousPage() {\n  PDFViewerApplication.page--;\n}\n\nfunction webViewerZoomIn() {\n  PDFViewerApplication.zoomIn();\n}\n\nfunction webViewerZoomOut() {\n  PDFViewerApplication.zoomOut();\n}\n\nfunction webViewerZoomReset() {\n  PDFViewerApplication.zoomReset();\n}\n\nfunction webViewerPageNumberChanged(evt) {\n  var pdfViewer = PDFViewerApplication.pdfViewer;\n\n  if (evt.value !== \"\") {\n    pdfViewer.currentPageLabel = evt.value;\n  }\n\n  if (evt.value !== pdfViewer.currentPageNumber.toString() && evt.value !== pdfViewer.currentPageLabel) {\n    PDFViewerApplication.toolbar.setPageNumber(pdfViewer.currentPageNumber, pdfViewer.currentPageLabel);\n  }\n}\n\nfunction webViewerScaleChanged(evt) {\n  PDFViewerApplication.pdfViewer.currentScaleValue = evt.value;\n}\n\nfunction webViewerRotateCw() {\n  PDFViewerApplication.rotatePages(90);\n}\n\nfunction webViewerRotateCcw() {\n  PDFViewerApplication.rotatePages(-90);\n}\n\nfunction webViewerSwitchScrollMode(evt) {\n  PDFViewerApplication.pdfViewer.scrollMode = evt.mode;\n}\n\nfunction webViewerSwitchSpreadMode(evt) {\n  PDFViewerApplication.pdfViewer.spreadMode = evt.mode;\n}\n\nfunction webViewerDocumentProperties() {\n  PDFViewerApplication.pdfDocumentProperties.open();\n}\n\nfunction webViewerFind(evt) {\n  PDFViewerApplication.findController.executeCommand(\"find\" + evt.type, {\n    query: evt.query,\n    phraseSearch: evt.phraseSearch,\n    caseSensitive: evt.caseSensitive,\n    entireWord: evt.entireWord,\n    highlightAll: evt.highlightAll,\n    findPrevious: evt.findPrevious\n  });\n}\n\nfunction webViewerFindFromUrlHash(evt) {\n  PDFViewerApplication.findController.executeCommand(\"find\", {\n    query: evt.query,\n    phraseSearch: evt.phraseSearch,\n    caseSensitive: false,\n    entireWord: false,\n    highlightAll: true,\n    findPrevious: false\n  });\n}\n\nfunction webViewerUpdateFindMatchesCount(_ref10) {\n  var matchesCount = _ref10.matchesCount;\n\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    PDFViewerApplication.externalServices.updateFindMatchesCount(matchesCount);\n  } else {\n    PDFViewerApplication.findBar.updateResultsCount(matchesCount);\n  }\n}\n\nfunction webViewerUpdateFindControlState(_ref11) {\n  var state = _ref11.state,\n      previous = _ref11.previous,\n      matchesCount = _ref11.matchesCount;\n\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    PDFViewerApplication.externalServices.updateFindControlState({\n      result: state,\n      findPrevious: previous,\n      matchesCount: matchesCount\n    });\n  } else {\n    PDFViewerApplication.findBar.updateUIState(state, previous, matchesCount);\n  }\n}\n\nfunction webViewerScaleChanging(evt) {\n  PDFViewerApplication.toolbar.setPageScale(evt.presetValue, evt.scale);\n  PDFViewerApplication.pdfViewer.update();\n}\n\nfunction webViewerRotationChanging(evt) {\n  PDFViewerApplication.pdfThumbnailViewer.pagesRotation = evt.pagesRotation;\n  PDFViewerApplication.forceRendering();\n  PDFViewerApplication.pdfViewer.currentPageNumber = evt.pageNumber;\n}\n\nfunction webViewerPageChanging(evt) {\n  var page = evt.pageNumber;\n  PDFViewerApplication.toolbar.setPageNumber(page, evt.pageLabel || null);\n  PDFViewerApplication.secondaryToolbar.setPageNumber(page);\n\n  if (PDFViewerApplication.pdfSidebar.isThumbnailViewVisible) {\n    PDFViewerApplication.pdfThumbnailViewer.scrollThumbnailIntoView(page);\n  }\n\n  if (typeof Stats !== \"undefined\" && Stats.enabled) {\n    var pageView = PDFViewerApplication.pdfViewer.getPageView(page - 1);\n\n    if (pageView && pageView.stats) {\n      Stats.add(page, pageView.stats);\n    }\n  }\n}\n\nfunction webViewerVisibilityChange(evt) {\n  if (document.visibilityState === \"visible\") {\n    setZoomDisabledTimeout();\n  }\n}\n\nvar zoomDisabledTimeout = null;\n\nfunction setZoomDisabledTimeout() {\n  if (zoomDisabledTimeout) {\n    clearTimeout(zoomDisabledTimeout);\n  }\n\n  zoomDisabledTimeout = setTimeout(function () {\n    zoomDisabledTimeout = null;\n  }, WHEEL_ZOOM_DISABLED_TIMEOUT);\n}\n\nfunction webViewerWheel(evt) {\n  var pdfViewer = PDFViewerApplication.pdfViewer,\n      supportedMouseWheelZoomModifierKeys = PDFViewerApplication.supportedMouseWheelZoomModifierKeys;\n\n  if (pdfViewer.isInPresentationMode) {\n    return;\n  }\n\n  if (evt.ctrlKey && supportedMouseWheelZoomModifierKeys.ctrlKey || evt.metaKey && supportedMouseWheelZoomModifierKeys.metaKey) {\n    evt.preventDefault();\n\n    if (zoomDisabledTimeout || document.visibilityState === \"hidden\") {\n      return;\n    }\n\n    var previousScale = pdfViewer.currentScale;\n    var delta = (0, _ui_utils.normalizeWheelEventDelta)(evt);\n    var MOUSE_WHEEL_DELTA_PER_PAGE_SCALE = 3.0;\n    var ticks = delta * MOUSE_WHEEL_DELTA_PER_PAGE_SCALE;\n\n    if (ticks < 0) {\n      PDFViewerApplication.zoomOut(-ticks);\n    } else {\n      PDFViewerApplication.zoomIn(ticks);\n    }\n\n    var currentScale = pdfViewer.currentScale;\n\n    if (previousScale !== currentScale) {\n      var scaleCorrectionFactor = currentScale / previousScale - 1;\n      var rect = pdfViewer.container.getBoundingClientRect();\n      var dx = evt.clientX - rect.left;\n      var dy = evt.clientY - rect.top;\n      pdfViewer.container.scrollLeft += dx * scaleCorrectionFactor;\n      pdfViewer.container.scrollTop += dy * scaleCorrectionFactor;\n    }\n  } else {\n    setZoomDisabledTimeout();\n  }\n}\n\nfunction webViewerClick(evt) {\n  if (!PDFViewerApplication.secondaryToolbar.isOpen) {\n    return;\n  }\n\n  var appConfig = PDFViewerApplication.appConfig;\n\n  if (PDFViewerApplication.pdfViewer.containsElement(evt.target) || appConfig.toolbar.container.contains(evt.target) && evt.target !== appConfig.secondaryToolbar.toggleButton) {\n    PDFViewerApplication.secondaryToolbar.close();\n  }\n}\n\nfunction webViewerKeyDown(evt) {\n  if (PDFViewerApplication.overlayManager.active) {\n    return;\n  }\n\n  var handled = false,\n      ensureViewerFocused = false;\n  var cmd = (evt.ctrlKey ? 1 : 0) | (evt.altKey ? 2 : 0) | (evt.shiftKey ? 4 : 0) | (evt.metaKey ? 8 : 0);\n  var pdfViewer = PDFViewerApplication.pdfViewer;\n  var isViewerInPresentationMode = pdfViewer && pdfViewer.isInPresentationMode;\n\n  if (cmd === 1 || cmd === 8 || cmd === 5 || cmd === 12) {\n    switch (evt.keyCode) {\n      case 70:\n        if (!PDFViewerApplication.supportsIntegratedFind) {\n          PDFViewerApplication.findBar.open();\n          handled = true;\n        }\n\n        break;\n\n      case 71:\n        if (!PDFViewerApplication.supportsIntegratedFind) {\n          var findState = PDFViewerApplication.findController.state;\n\n          if (findState) {\n            PDFViewerApplication.findController.executeCommand(\"findagain\", {\n              query: findState.query,\n              phraseSearch: findState.phraseSearch,\n              caseSensitive: findState.caseSensitive,\n              entireWord: findState.entireWord,\n              highlightAll: findState.highlightAll,\n              findPrevious: cmd === 5 || cmd === 12\n            });\n          }\n\n          handled = true;\n        }\n\n        break;\n\n      case 61:\n      case 107:\n      case 187:\n      case 171:\n        if (!isViewerInPresentationMode) {\n          PDFViewerApplication.zoomIn();\n        }\n\n        handled = true;\n        break;\n\n      case 173:\n      case 109:\n      case 189:\n        if (!isViewerInPresentationMode) {\n          PDFViewerApplication.zoomOut();\n        }\n\n        handled = true;\n        break;\n\n      case 48:\n      case 96:\n        if (!isViewerInPresentationMode) {\n          setTimeout(function () {\n            PDFViewerApplication.zoomReset();\n          });\n          handled = false;\n        }\n\n        break;\n\n      case 38:\n        if (isViewerInPresentationMode || PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page = 1;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 40:\n        if (isViewerInPresentationMode || PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n    }\n  }\n\n  if (cmd === 1 || cmd === 8) {\n    switch (evt.keyCode) {\n      case 83:\n        PDFViewerApplication.download();\n        handled = true;\n        break;\n    }\n  }\n\n  if (cmd === 3 || cmd === 10) {\n    switch (evt.keyCode) {\n      case 80:\n        PDFViewerApplication.requestPresentationMode();\n        handled = true;\n        break;\n\n      case 71:\n        PDFViewerApplication.appConfig.toolbar.pageNumber.select();\n        handled = true;\n        break;\n    }\n  }\n\n  if (handled) {\n    if (ensureViewerFocused && !isViewerInPresentationMode) {\n      pdfViewer.focus();\n    }\n\n    evt.preventDefault();\n    return;\n  }\n\n  var curElement = document.activeElement || document.querySelector(\":focus\");\n  var curElementTagName = curElement && curElement.tagName.toUpperCase();\n\n  if (curElementTagName === \"INPUT\" || curElementTagName === \"TEXTAREA\" || curElementTagName === \"SELECT\" || curElement && curElement.isContentEditable) {\n    if (evt.keyCode !== 27) {\n      return;\n    }\n  }\n\n  if (cmd === 0) {\n    var turnPage = 0,\n        turnOnlyIfPageFit = false;\n\n    switch (evt.keyCode) {\n      case 38:\n      case 33:\n        if (pdfViewer.isVerticalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = -1;\n        break;\n\n      case 8:\n        if (!isViewerInPresentationMode) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = -1;\n        break;\n\n      case 37:\n        if (pdfViewer.isHorizontalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n      case 75:\n      case 80:\n        turnPage = -1;\n        break;\n\n      case 27:\n        if (PDFViewerApplication.secondaryToolbar.isOpen) {\n          PDFViewerApplication.secondaryToolbar.close();\n          handled = true;\n        }\n\n        if (!PDFViewerApplication.supportsIntegratedFind && PDFViewerApplication.findBar.opened) {\n          PDFViewerApplication.findBar.close();\n          handled = true;\n        }\n\n        break;\n\n      case 40:\n      case 34:\n        if (pdfViewer.isVerticalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = 1;\n        break;\n\n      case 13:\n      case 32:\n        if (!isViewerInPresentationMode) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = 1;\n        break;\n\n      case 39:\n        if (pdfViewer.isHorizontalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n      case 74:\n      case 78:\n        turnPage = 1;\n        break;\n\n      case 36:\n        if (isViewerInPresentationMode || PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page = 1;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 35:\n        if (isViewerInPresentationMode || PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 83:\n        PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.SELECT);\n        break;\n\n      case 72:\n        PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.HAND);\n        break;\n\n      case 82:\n        PDFViewerApplication.rotatePages(90);\n        break;\n\n      case 115:\n        PDFViewerApplication.pdfSidebar.toggle();\n        break;\n    }\n\n    if (turnPage !== 0 && (!turnOnlyIfPageFit || pdfViewer.currentScaleValue === \"page-fit\")) {\n      if (turnPage > 0) {\n        if (PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page++;\n        }\n      } else {\n        if (PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page--;\n        }\n      }\n\n      handled = true;\n    }\n  }\n\n  if (cmd === 4) {\n    switch (evt.keyCode) {\n      case 13:\n      case 32:\n        if (!isViewerInPresentationMode && pdfViewer.currentScaleValue !== \"page-fit\") {\n          break;\n        }\n\n        if (PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page--;\n        }\n\n        handled = true;\n        break;\n\n      case 82:\n        PDFViewerApplication.rotatePages(-90);\n        break;\n    }\n  }\n\n  if (!handled && !isViewerInPresentationMode) {\n    if (evt.keyCode >= 33 && evt.keyCode <= 40 || evt.keyCode === 32 && curElementTagName !== \"BUTTON\") {\n      ensureViewerFocused = true;\n    }\n  }\n\n  if (ensureViewerFocused && !pdfViewer.containsElement(curElement)) {\n    pdfViewer.focus();\n  }\n\n  if (handled) {\n    evt.preventDefault();\n  }\n}\n\nfunction apiPageLayoutToSpreadMode(layout) {\n  switch (layout) {\n    case \"SinglePage\":\n    case \"OneColumn\":\n      return _ui_utils.SpreadMode.NONE;\n\n    case \"TwoColumnLeft\":\n    case \"TwoPageLeft\":\n      return _ui_utils.SpreadMode.ODD;\n\n    case \"TwoColumnRight\":\n    case \"TwoPageRight\":\n      return _ui_utils.SpreadMode.EVEN;\n  }\n\n  return _ui_utils.SpreadMode.NONE;\n}\n\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return _pdf_sidebar.SidebarView.NONE;\n\n    case \"UseThumbs\":\n      return _pdf_sidebar.SidebarView.THUMBS;\n\n    case \"UseOutlines\":\n      return _pdf_sidebar.SidebarView.OUTLINE;\n\n    case \"UseAttachments\":\n      return _pdf_sidebar.SidebarView.ATTACHMENTS;\n\n    case \"UseOC\":\n  }\n\n  return _pdf_sidebar.SidebarView.NONE;\n}\n\nvar PDFPrintServiceFactory = {\n  instance: {\n    supportsPrinting: false,\n    createPrintService: function createPrintService() {\n      throw new Error(\"Not implemented: createPrintService\");\n    }\n  }\n};\nexports.PDFPrintServiceFactory = PDFPrintServiceFactory;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(3);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined;\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap;\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && _typeof(value) === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    }\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator;\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator[\"return\"]) {\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      context[delegate.resultName] = info.value;\n      context.next = delegate.nextLoc;\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      return info;\n    }\n\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse();\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n  return exports;\n}(( false ? undefined : _typeof(module)) === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4)(module)))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n  if (!module.webpackPolyfill) {\n    module.deprecate = function () {};\n\n    module.paths = [];\n    if (!module.children) module.children = [];\n    Object.defineProperty(module, \"loaded\", {\n      enumerable: true,\n      get: function get() {\n        return module.l;\n      }\n    });\n    Object.defineProperty(module, \"id\", {\n      enumerable: true,\n      get: function get() {\n        return module.i;\n      }\n    });\n    module.webpackPolyfill = 1;\n  }\n\n  return module;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nvar DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nvar DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nvar MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nvar MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nvar UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nvar MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nvar SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nvar VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nvar PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nvar RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nvar TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nvar ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nvar SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nvar AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, function (all, name) {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nvar NullL10n = {\n  getLanguage: function () {\n    var _getLanguage = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee() {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", \"en-us\");\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getLanguage() {\n      return _getLanguage.apply(this, arguments);\n    }\n\n    return getLanguage;\n  }(),\n  getDirection: function () {\n    var _getDirection = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee2() {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", \"ltr\");\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function getDirection() {\n      return _getDirection.apply(this, arguments);\n    }\n\n    return getDirection;\n  }(),\n  get: function () {\n    var _get = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee3(property, args, fallback) {\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", formatL10nValue(fallback, args));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function get(_x, _x2, _x3) {\n      return _get.apply(this, arguments);\n    }\n\n    return get;\n  }(),\n  translate: function () {\n    var _translate = _asyncToGenerator(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee4(element) {\n      return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function translate(_x4) {\n      return _translate.apply(this, arguments);\n    }\n\n    return translate;\n  }()\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  var devicePixelRatio = window.devicePixelRatio || 1;\n  var backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  var pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot) {\n  var skipOverflowHiddenElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  var offsetY = element.offsetTop + element.clientTop;\n  var offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  var debounceScroll = function debounceScroll(evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      var currentX = viewAreaElement.scrollLeft;\n      var lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      var currentY = viewAreaElement.scrollTop;\n      var lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  var state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  var rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  var parts = query.split(\"&\");\n  var params = Object.create(null);\n\n  for (var i = 0, ii = parts.length; i < ii; ++i) {\n    var param = parts[i].split(\"=\");\n    var key = param[0].toLowerCase();\n    var value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  var minIndex = 0;\n  var maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    var currentIndex = minIndex + maxIndex >> 1;\n    var currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  var xinv = 1 / x;\n  var limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  var x_ = x > 1 ? xinv : x;\n  var a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    var p = a + c,\n        q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  var result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  var r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches(_ref) {\n  var view = _ref.view,\n      userUnit = _ref.userUnit,\n      rotate = _ref.rotate;\n\n  var _view = _slicedToArray(view, 4),\n      x1 = _view[0],\n      y1 = _view[1],\n      x2 = _view[2],\n      y2 = _view[3];\n\n  var changeOrientation = rotate % 180 !== 0;\n  var width = (x2 - x1) / 72 * userUnit;\n  var height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  var elt = views[index].div;\n  var pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (var i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views) {\n  var sortByVisibility = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var horizontal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var top = scrollEl.scrollTop,\n      bottom = top + scrollEl.clientHeight;\n  var left = scrollEl.scrollLeft,\n      right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    var element = view.div;\n    var elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    var element = view.div;\n    var elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  var visible = [],\n      numViews = views.length;\n  var firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  var lastEdge = horizontal ? right : -1;\n\n  for (var i = firstVisibleElementInd; i < numViews; i++) {\n    var view = views[i],\n        element = view.div;\n    var currentWidth = element.offsetLeft + element.clientLeft;\n    var currentHeight = element.offsetTop + element.clientTop;\n    var viewWidth = element.clientWidth,\n        viewHeight = element.clientHeight;\n    var viewRight = currentWidth + viewWidth;\n    var viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    var hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    var hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    var percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view: view,\n      percent: percent\n    });\n  }\n\n  var first = visible[0],\n      last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      var pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first: first,\n    last: last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  var i = 0;\n  var ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url) {\n  var defaultFilename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"document.pdf\";\n\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  var reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  var reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  var splitURI = reURI.exec(url);\n  var suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  var delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  var angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  var MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  var MOUSE_DOM_DELTA_LINE_MODE = 1;\n  var MOUSE_PIXELS_PER_LINE = 30;\n  var MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nvar WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout(_ref2) {\n  var target = _ref2.target,\n      name = _ref2.name,\n      _ref2$delay = _ref2.delay,\n      delay = _ref2$delay === void 0 ? 0 : _ref2$delay;\n  return new Promise(function (resolve, reject) {\n    if (_typeof(target) !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target.off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    var eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target.on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    var timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    var timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nvar animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nvar EventBus =\n/*#__PURE__*/\nfunction () {\n  function EventBus() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref3$dispatchToDOM = _ref3.dispatchToDOM,\n        dispatchToDOM = _ref3$dispatchToDOM === void 0 ? false : _ref3$dispatchToDOM;\n\n    _classCallCheck(this, EventBus);\n\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n  }\n\n  _createClass(EventBus, [{\n    key: \"on\",\n    value: function on(eventName, listener) {\n      var eventListeners = this._listeners[eventName];\n\n      if (!eventListeners) {\n        eventListeners = [];\n        this._listeners[eventName] = eventListeners;\n      }\n\n      eventListeners.push(listener);\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, listener) {\n      var eventListeners = this._listeners[eventName];\n      var i;\n\n      if (!eventListeners || (i = eventListeners.indexOf(listener)) < 0) {\n        return;\n      }\n\n      eventListeners.splice(i, 1);\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(eventName) {\n      var eventListeners = this._listeners[eventName];\n\n      if (!eventListeners || eventListeners.length === 0) {\n        if (this._dispatchToDOM) {\n          var _args5 = Array.prototype.slice.call(arguments, 1);\n\n          this._dispatchDOMEvent(eventName, _args5);\n        }\n\n        return;\n      }\n\n      var args = Array.prototype.slice.call(arguments, 1);\n      eventListeners.slice(0).forEach(function (listener) {\n        listener.apply(null, args);\n      });\n\n      if (this._dispatchToDOM) {\n        this._dispatchDOMEvent(eventName, args);\n      }\n    }\n  }, {\n    key: \"_dispatchDOMEvent\",\n    value: function _dispatchDOMEvent(eventName) {\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var details = Object.create(null);\n\n      if (args && args.length > 0) {\n        var obj = args[0];\n\n        for (var key in obj) {\n          var value = obj[key];\n\n          if (key === \"source\") {\n            if (value === window || value === document) {\n              return;\n            }\n\n            continue;\n          }\n\n          details[key] = value;\n        }\n      }\n\n      var event = document.createEvent(\"CustomEvent\");\n      event.initCustomEvent(eventName, true, true, details);\n      document.dispatchEvent(event);\n    }\n  }]);\n\n  return EventBus;\n}();\n\nexports.EventBus = EventBus;\nvar globalEventBus = null;\n\nfunction getGlobalEventBus() {\n  var dispatchToDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM: dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nvar ProgressBar =\n/*#__PURE__*/\nfunction () {\n  function ProgressBar(id) {\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        height = _ref4.height,\n        width = _ref4.width,\n        units = _ref4.units;\n\n    _classCallCheck(this, ProgressBar);\n\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _createClass(ProgressBar, [{\n    key: \"_updateBar\",\n    value: function _updateBar() {\n      if (this._indeterminate) {\n        this.div.classList.add(\"indeterminate\");\n        this.div.style.width = this.width + this.units;\n        return;\n      }\n\n      this.div.classList.remove(\"indeterminate\");\n      var progressSize = this.width * this._percent / 100;\n      this.div.style.width = progressSize + this.units;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(viewer) {\n      if (!viewer) {\n        return;\n      }\n\n      var container = viewer.parentNode;\n      var scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n      if (scrollbarWidth > 0) {\n        this.bar.setAttribute(\"style\", \"width: calc(100% - \" + scrollbarWidth + \"px);\");\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (!this.visible) {\n        return;\n      }\n\n      this.visible = false;\n      this.bar.classList.add(\"hidden\");\n      document.body.classList.remove(\"loadingInProgress\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.visible) {\n        return;\n      }\n\n      this.visible = true;\n      document.body.classList.add(\"loadingInProgress\");\n      this.bar.classList.remove(\"hidden\");\n    }\n  }, {\n    key: \"percent\",\n    get: function get() {\n      return this._percent;\n    },\n    set: function set(val) {\n      this._indeterminate = isNaN(val);\n      this._percent = clamp(val, 0, 100);\n\n      this._updateBar();\n    }\n  }]);\n\n  return ProgressBar;\n}();\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  var moved = [],\n      len = arr.length;\n  var write = 0;\n\n  for (var read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (var _read = 0; write < len; ++_read, ++write) {\n    arr[write] = moved[_read];\n  }\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptionKind = exports.AppOptions = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _viewer_compatibility = __webpack_require__(8);\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar OptionKind = {\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  PREFERENCE: 0x80\n};\nexports.OptionKind = OptionKind;\nvar defaultOptions = {\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultUrl: {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableWebGL: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  eventBusDispatchToDOM: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 16777216,\n    compatibility: _viewer_compatibility.viewerCompatibilityParams.maxCanvasPixels,\n    kind: OptionKind.VIEWER\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  renderer: {\n    value: \"canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  renderInteractiveForms: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  useOnlyCssZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableCreateObjectURL: {\n    value: false,\n    compatibility: _pdfjsLib.apiCompatibilityParams.disableCreateObjectURL,\n    kind: OptionKind.API\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.js\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: typeof navigator !== \"undefined\" ? navigator.language : \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.printResolution = {\n    value: 150,\n    kind: OptionKind.VIEWER\n  };\n}\nvar userOptions = Object.create(null);\n\nvar AppOptions =\n/*#__PURE__*/\nfunction () {\n  function AppOptions() {\n    _classCallCheck(this, AppOptions);\n\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n\n  _createClass(AppOptions, null, [{\n    key: \"get\",\n    value: function get(name) {\n      var userOption = userOptions[name];\n\n      if (userOption !== undefined) {\n        return userOption;\n      }\n\n      var defaultOption = defaultOptions[name];\n\n      if (defaultOption !== undefined) {\n        return defaultOption.compatibility || defaultOption.value;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      var kind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var options = Object.create(null);\n\n      for (var name in defaultOptions) {\n        var defaultOption = defaultOptions[name];\n\n        if (kind) {\n          if ((kind & defaultOption.kind) === 0) {\n            continue;\n          }\n\n          if (kind === OptionKind.PREFERENCE) {\n            var value = defaultOption.value,\n                valueType = _typeof(value);\n\n            if (valueType === \"boolean\" || valueType === \"string\" || valueType === \"number\" && Number.isInteger(value)) {\n              options[name] = value;\n              continue;\n            }\n\n            throw new Error(\"Invalid type for preference: \".concat(name));\n          }\n        }\n\n        var userOption = userOptions[name];\n        options[name] = userOption !== undefined ? userOption : defaultOption.compatibility || defaultOption.value;\n      }\n\n      return options;\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      userOptions[name] = value;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(name) {\n      delete userOptions[name];\n    }\n  }]);\n\n  return AppOptions;\n}();\n\nexports.AppOptions = AppOptions;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar pdfjsLib;\n\nif (typeof window !== \"undefined\" && window[\"pdfjs-dist/build/pdf\"]) {\n  pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\n} else {\n  pdfjsLib = require(\"../build/pdf.js\");\n}\n\nmodule.exports = pdfjsLib;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar compatibilityParams = Object.create(null);\n{\n  var userAgent = typeof navigator !== \"undefined\" && navigator.userAgent || \"\";\n  var platform = typeof navigator !== \"undefined\" && navigator.platform || \"\";\n  var maxTouchPoints = typeof navigator !== \"undefined\" && navigator.maxTouchPoints || 1;\n  var isAndroid = /Android/.test(userAgent);\n  var isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nexports.viewerCompatibilityParams = Object.freeze(compatibilityParams);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFCursorTools = exports.CursorTool = void 0;\n\nvar _grab_to_pan = __webpack_require__(10);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nexports.CursorTool = CursorTool;\n\nvar PDFCursorTools =\n/*#__PURE__*/\nfunction () {\n  function PDFCursorTools(_ref) {\n    var _this = this;\n\n    var container = _ref.container,\n        eventBus = _ref.eventBus,\n        _ref$cursorToolOnLoad = _ref.cursorToolOnLoad,\n        cursorToolOnLoad = _ref$cursorToolOnLoad === void 0 ? CursorTool.SELECT : _ref$cursorToolOnLoad;\n\n    _classCallCheck(this, PDFCursorTools);\n\n    this.container = container;\n    this.eventBus = eventBus;\n    this.active = CursorTool.SELECT;\n    this.activeBeforePresentationMode = null;\n    this.handTool = new _grab_to_pan.GrabToPan({\n      element: this.container\n    });\n\n    this._addEventListeners();\n\n    Promise.resolve().then(function () {\n      _this.switchTool(cursorToolOnLoad);\n    });\n  }\n\n  _createClass(PDFCursorTools, [{\n    key: \"switchTool\",\n    value: function switchTool(tool) {\n      var _this2 = this;\n\n      if (this.activeBeforePresentationMode !== null) {\n        return;\n      }\n\n      if (tool === this.active) {\n        return;\n      }\n\n      var disableActiveTool = function disableActiveTool() {\n        switch (_this2.active) {\n          case CursorTool.SELECT:\n            break;\n\n          case CursorTool.HAND:\n            _this2.handTool.deactivate();\n\n            break;\n\n          case CursorTool.ZOOM:\n        }\n      };\n\n      switch (tool) {\n        case CursorTool.SELECT:\n          disableActiveTool();\n          break;\n\n        case CursorTool.HAND:\n          disableActiveTool();\n          this.handTool.activate();\n          break;\n\n        case CursorTool.ZOOM:\n        default:\n          console.error(\"switchTool: \\\"\".concat(tool, \"\\\" is an unsupported value.\"));\n          return;\n      }\n\n      this.active = tool;\n\n      this._dispatchEvent();\n    }\n  }, {\n    key: \"_dispatchEvent\",\n    value: function _dispatchEvent() {\n      this.eventBus.dispatch(\"cursortoolchanged\", {\n        source: this,\n        tool: this.active\n      });\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      var _this3 = this;\n\n      this.eventBus.on(\"switchcursortool\", function (evt) {\n        _this3.switchTool(evt.tool);\n      });\n      this.eventBus.on(\"presentationmodechanged\", function (evt) {\n        if (evt.switchInProgress) {\n          return;\n        }\n\n        var previouslyActive;\n\n        if (evt.active) {\n          previouslyActive = _this3.active;\n\n          _this3.switchTool(CursorTool.SELECT);\n\n          _this3.activeBeforePresentationMode = previouslyActive;\n        } else {\n          previouslyActive = _this3.activeBeforePresentationMode;\n          _this3.activeBeforePresentationMode = null;\n\n          _this3.switchTool(previouslyActive);\n        }\n      });\n    }\n  }, {\n    key: \"activeTool\",\n    get: function get() {\n      return this.active;\n    }\n  }]);\n\n  return PDFCursorTools;\n}();\n\nexports.PDFCursorTools = PDFCursorTools;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GrabToPan = GrabToPan;\n\nfunction GrabToPan(options) {\n  this.element = options.element;\n  this.document = options.element.ownerDocument;\n\n  if (typeof options.ignoreTarget === \"function\") {\n    this.ignoreTarget = options.ignoreTarget;\n  }\n\n  this.onActiveChanged = options.onActiveChanged;\n  this.activate = this.activate.bind(this);\n  this.deactivate = this.deactivate.bind(this);\n  this.toggle = this.toggle.bind(this);\n  this._onmousedown = this._onmousedown.bind(this);\n  this._onmousemove = this._onmousemove.bind(this);\n  this._endPan = this._endPan.bind(this);\n  var overlay = this.overlay = document.createElement(\"div\");\n  overlay.className = \"grab-to-pan-grabbing\";\n}\n\nGrabToPan.prototype = {\n  CSS_CLASS_GRAB: \"grab-to-pan-grab\",\n  activate: function GrabToPan_activate() {\n    if (!this.active) {\n      this.active = true;\n      this.element.addEventListener(\"mousedown\", this._onmousedown, true);\n      this.element.classList.add(this.CSS_CLASS_GRAB);\n\n      if (this.onActiveChanged) {\n        this.onActiveChanged(true);\n      }\n    }\n  },\n  deactivate: function GrabToPan_deactivate() {\n    if (this.active) {\n      this.active = false;\n      this.element.removeEventListener(\"mousedown\", this._onmousedown, true);\n\n      this._endPan();\n\n      this.element.classList.remove(this.CSS_CLASS_GRAB);\n\n      if (this.onActiveChanged) {\n        this.onActiveChanged(false);\n      }\n    }\n  },\n  toggle: function GrabToPan_toggle() {\n    if (this.active) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  },\n  ignoreTarget: function GrabToPan_ignoreTarget(node) {\n    return node[matchesSelector](\"a[href], a[href] *, input, textarea, button, button *, select, option\");\n  },\n  _onmousedown: function GrabToPan__onmousedown(event) {\n    if (event.button !== 0 || this.ignoreTarget(event.target)) {\n      return;\n    }\n\n    if (event.originalTarget) {\n      try {\n        event.originalTarget.tagName;\n      } catch (e) {\n        return;\n      }\n    }\n\n    this.scrollLeftStart = this.element.scrollLeft;\n    this.scrollTopStart = this.element.scrollTop;\n    this.clientXStart = event.clientX;\n    this.clientYStart = event.clientY;\n    this.document.addEventListener(\"mousemove\", this._onmousemove, true);\n    this.document.addEventListener(\"mouseup\", this._endPan, true);\n    this.element.addEventListener(\"scroll\", this._endPan, true);\n    event.preventDefault();\n    event.stopPropagation();\n    var focusedElement = document.activeElement;\n\n    if (focusedElement && !focusedElement.contains(event.target)) {\n      focusedElement.blur();\n    }\n  },\n  _onmousemove: function GrabToPan__onmousemove(event) {\n    this.element.removeEventListener(\"scroll\", this._endPan, true);\n\n    if (isLeftMouseReleased(event)) {\n      this._endPan();\n\n      return;\n    }\n\n    var xDiff = event.clientX - this.clientXStart;\n    var yDiff = event.clientY - this.clientYStart;\n    var scrollTop = this.scrollTopStart - yDiff;\n    var scrollLeft = this.scrollLeftStart - xDiff;\n\n    if (this.element.scrollTo) {\n      this.element.scrollTo({\n        top: scrollTop,\n        left: scrollLeft,\n        behavior: \"instant\"\n      });\n    } else {\n      this.element.scrollTop = scrollTop;\n      this.element.scrollLeft = scrollLeft;\n    }\n\n    if (!this.overlay.parentNode) {\n      document.body.appendChild(this.overlay);\n    }\n  },\n  _endPan: function GrabToPan__endPan() {\n    this.element.removeEventListener(\"scroll\", this._endPan, true);\n    this.document.removeEventListener(\"mousemove\", this._onmousemove, true);\n    this.document.removeEventListener(\"mouseup\", this._endPan, true);\n    this.overlay.remove();\n  }\n};\nvar matchesSelector;\n[\"webkitM\", \"mozM\", \"msM\", \"oM\", \"m\"].some(function (prefix) {\n  var name = prefix + \"atches\";\n\n  if (name in document.documentElement) {\n    matchesSelector = name;\n  }\n\n  name += \"Selector\";\n\n  if (name in document.documentElement) {\n    matchesSelector = name;\n  }\n\n  return matchesSelector;\n});\nvar isNotIEorIsIE10plus = !document.documentMode || document.documentMode > 9;\nvar chrome = window.chrome;\nvar isChrome15OrOpera15plus = chrome && (chrome.webstore || chrome.app);\nvar isSafari6plus = /Apple/.test(navigator.vendor) && /Version\\/([6-9]\\d*|[1-5]\\d+)/.test(navigator.userAgent);\n\nfunction isLeftMouseReleased(event) {\n  if (\"buttons\" in event && isNotIEorIsIE10plus) {\n    return !(event.buttons & 1);\n  }\n\n  if (isChrome15OrOpera15plus || isSafari6plus) {\n    return event.which === 0;\n  }\n\n  return false;\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFRenderingQueue = exports.RenderingStates = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar CLEANUP_TIMEOUT = 30000;\nvar RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nexports.RenderingStates = RenderingStates;\n\nvar PDFRenderingQueue =\n/*#__PURE__*/\nfunction () {\n  function PDFRenderingQueue() {\n    _classCallCheck(this, PDFRenderingQueue);\n\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n  }\n\n  _createClass(PDFRenderingQueue, [{\n    key: \"setViewer\",\n    value: function setViewer(pdfViewer) {\n      this.pdfViewer = pdfViewer;\n    }\n  }, {\n    key: \"setThumbnailViewer\",\n    value: function setThumbnailViewer(pdfThumbnailViewer) {\n      this.pdfThumbnailViewer = pdfThumbnailViewer;\n    }\n  }, {\n    key: \"isHighestPriority\",\n    value: function isHighestPriority(view) {\n      return this.highestPriorityPage === view.renderingId;\n    }\n  }, {\n    key: \"renderHighestPriority\",\n    value: function renderHighestPriority(currentlyVisiblePages) {\n      if (this.idleTimeout) {\n        clearTimeout(this.idleTimeout);\n        this.idleTimeout = null;\n      }\n\n      if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n        return;\n      }\n\n      if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n        if (this.pdfThumbnailViewer.forceRendering()) {\n          return;\n        }\n      }\n\n      if (this.printing) {\n        return;\n      }\n\n      if (this.onIdle) {\n        this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n      }\n    }\n  }, {\n    key: \"getHighestPriority\",\n    value: function getHighestPriority(visible, views, scrolledDown) {\n      var visibleViews = visible.views;\n      var numVisible = visibleViews.length;\n\n      if (numVisible === 0) {\n        return null;\n      }\n\n      for (var i = 0; i < numVisible; ++i) {\n        var view = visibleViews[i].view;\n\n        if (!this.isViewFinished(view)) {\n          return view;\n        }\n      }\n\n      if (scrolledDown) {\n        var nextPageIndex = visible.last.id;\n\n        if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n          return views[nextPageIndex];\n        }\n      } else {\n        var previousPageIndex = visible.first.id - 2;\n\n        if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {\n          return views[previousPageIndex];\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"isViewFinished\",\n    value: function isViewFinished(view) {\n      return view.renderingState === RenderingStates.FINISHED;\n    }\n  }, {\n    key: \"renderView\",\n    value: function renderView(view) {\n      var _this = this;\n\n      switch (view.renderingState) {\n        case RenderingStates.FINISHED:\n          return false;\n\n        case RenderingStates.PAUSED:\n          this.highestPriorityPage = view.renderingId;\n          view.resume();\n          break;\n\n        case RenderingStates.RUNNING:\n          this.highestPriorityPage = view.renderingId;\n          break;\n\n        case RenderingStates.INITIAL:\n          this.highestPriorityPage = view.renderingId;\n          view.draw()[\"finally\"](function () {\n            _this.renderHighestPriority();\n          });\n          break;\n      }\n\n      return true;\n    }\n  }]);\n\n  return PDFRenderingQueue;\n}();\n\nexports.PDFRenderingQueue = PDFRenderingQueue;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSidebar = exports.SidebarView = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_rendering_queue = __webpack_require__(11);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar UI_NOTIFICATION_CLASS = \"pdfSidebarNotification\";\nvar SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nexports.SidebarView = SidebarView;\n\nvar PDFSidebar =\n/*#__PURE__*/\nfunction () {\n  function PDFSidebar(_ref) {\n    var elements = _ref.elements,\n        pdfViewer = _ref.pdfViewer,\n        pdfThumbnailViewer = _ref.pdfThumbnailViewer,\n        eventBus = _ref.eventBus,\n        _ref$l10n = _ref.l10n,\n        l10n = _ref$l10n === void 0 ? _ui_utils.NullL10n : _ref$l10n,\n        _ref$disableNotificat = _ref.disableNotification,\n        disableNotification = _ref$disableNotificat === void 0 ? false : _ref$disableNotificat;\n\n    _classCallCheck(this, PDFSidebar);\n\n    this.isOpen = false;\n    this.active = SidebarView.THUMBS;\n    this.isInitialViewSet = false;\n    this.onToggled = null;\n    this.pdfViewer = pdfViewer;\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n    this.outerContainer = elements.outerContainer;\n    this.viewerContainer = elements.viewerContainer;\n    this.toggleButton = elements.toggleButton;\n    this.thumbnailButton = elements.thumbnailButton;\n    this.outlineButton = elements.outlineButton;\n    this.attachmentsButton = elements.attachmentsButton;\n    this.thumbnailView = elements.thumbnailView;\n    this.outlineView = elements.outlineView;\n    this.attachmentsView = elements.attachmentsView;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this._disableNotification = disableNotification;\n\n    this._addEventListeners();\n  }\n\n  _createClass(PDFSidebar, [{\n    key: \"reset\",\n    value: function reset() {\n      this.isInitialViewSet = false;\n\n      this._hideUINotification(null);\n\n      this.switchView(SidebarView.THUMBS);\n      this.outlineButton.disabled = false;\n      this.attachmentsButton.disabled = false;\n    }\n  }, {\n    key: \"setInitialView\",\n    value: function setInitialView() {\n      var view = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SidebarView.NONE;\n\n      if (this.isInitialViewSet) {\n        return;\n      }\n\n      this.isInitialViewSet = true;\n\n      if (view === SidebarView.NONE || view === SidebarView.UNKNOWN) {\n        this._dispatchEvent();\n\n        return;\n      }\n\n      if (!this._switchView(view, true)) {\n        this._dispatchEvent();\n      }\n    }\n  }, {\n    key: \"switchView\",\n    value: function switchView(view) {\n      var forceOpen = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._switchView(view, forceOpen);\n    }\n  }, {\n    key: \"_switchView\",\n    value: function _switchView(view) {\n      var forceOpen = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var isViewChanged = view !== this.active;\n      var shouldForceRendering = false;\n\n      switch (view) {\n        case SidebarView.NONE:\n          if (this.isOpen) {\n            this.close();\n            return true;\n          }\n\n          return false;\n\n        case SidebarView.THUMBS:\n          if (this.isOpen && isViewChanged) {\n            shouldForceRendering = true;\n          }\n\n          break;\n\n        case SidebarView.OUTLINE:\n          if (this.outlineButton.disabled) {\n            return false;\n          }\n\n          break;\n\n        case SidebarView.ATTACHMENTS:\n          if (this.attachmentsButton.disabled) {\n            return false;\n          }\n\n          break;\n\n        default:\n          console.error(\"PDFSidebar._switchView: \\\"\".concat(view, \"\\\" is not a valid view.\"));\n          return false;\n      }\n\n      this.active = view;\n      this.thumbnailButton.classList.toggle(\"toggled\", view === SidebarView.THUMBS);\n      this.outlineButton.classList.toggle(\"toggled\", view === SidebarView.OUTLINE);\n      this.attachmentsButton.classList.toggle(\"toggled\", view === SidebarView.ATTACHMENTS);\n      this.thumbnailView.classList.toggle(\"hidden\", view !== SidebarView.THUMBS);\n      this.outlineView.classList.toggle(\"hidden\", view !== SidebarView.OUTLINE);\n      this.attachmentsView.classList.toggle(\"hidden\", view !== SidebarView.ATTACHMENTS);\n\n      if (forceOpen && !this.isOpen) {\n        this.open();\n        return true;\n      }\n\n      if (shouldForceRendering) {\n        this._updateThumbnailViewer();\n\n        this._forceRendering();\n      }\n\n      if (isViewChanged) {\n        this._dispatchEvent();\n      }\n\n      this._hideUINotification(this.active);\n\n      return isViewChanged;\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      if (this.isOpen) {\n        return;\n      }\n\n      this.isOpen = true;\n      this.toggleButton.classList.add(\"toggled\");\n      this.outerContainer.classList.add(\"sidebarMoving\", \"sidebarOpen\");\n\n      if (this.active === SidebarView.THUMBS) {\n        this._updateThumbnailViewer();\n      }\n\n      this._forceRendering();\n\n      this._dispatchEvent();\n\n      this._hideUINotification(this.active);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.isOpen) {\n        return;\n      }\n\n      this.isOpen = false;\n      this.toggleButton.classList.remove(\"toggled\");\n      this.outerContainer.classList.add(\"sidebarMoving\");\n      this.outerContainer.classList.remove(\"sidebarOpen\");\n\n      this._forceRendering();\n\n      this._dispatchEvent();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.isOpen) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n  }, {\n    key: \"_dispatchEvent\",\n    value: function _dispatchEvent() {\n      this.eventBus.dispatch(\"sidebarviewchanged\", {\n        source: this,\n        view: this.visibleView\n      });\n    }\n  }, {\n    key: \"_forceRendering\",\n    value: function _forceRendering() {\n      if (this.onToggled) {\n        this.onToggled();\n      } else {\n        this.pdfViewer.forceRendering();\n        this.pdfThumbnailViewer.forceRendering();\n      }\n    }\n  }, {\n    key: \"_updateThumbnailViewer\",\n    value: function _updateThumbnailViewer() {\n      var pdfViewer = this.pdfViewer,\n          pdfThumbnailViewer = this.pdfThumbnailViewer;\n      var pagesCount = pdfViewer.pagesCount;\n\n      for (var pageIndex = 0; pageIndex < pagesCount; pageIndex++) {\n        var pageView = pdfViewer.getPageView(pageIndex);\n\n        if (pageView && pageView.renderingState === _pdf_rendering_queue.RenderingStates.FINISHED) {\n          var thumbnailView = pdfThumbnailViewer.getThumbnail(pageIndex);\n          thumbnailView.setImage(pageView);\n        }\n      }\n\n      pdfThumbnailViewer.scrollThumbnailIntoView(pdfViewer.currentPageNumber);\n    }\n  }, {\n    key: \"_showUINotification\",\n    value: function _showUINotification(view) {\n      var _this = this;\n\n      if (this._disableNotification) {\n        return;\n      }\n\n      this.l10n.get(\"toggle_sidebar_notification.title\", null, \"Toggle Sidebar (document contains outline/attachments)\").then(function (msg) {\n        _this.toggleButton.title = msg;\n      });\n\n      if (!this.isOpen) {\n        this.toggleButton.classList.add(UI_NOTIFICATION_CLASS);\n      } else if (view === this.active) {\n        return;\n      }\n\n      switch (view) {\n        case SidebarView.OUTLINE:\n          this.outlineButton.classList.add(UI_NOTIFICATION_CLASS);\n          break;\n\n        case SidebarView.ATTACHMENTS:\n          this.attachmentsButton.classList.add(UI_NOTIFICATION_CLASS);\n          break;\n      }\n    }\n  }, {\n    key: \"_hideUINotification\",\n    value: function _hideUINotification(view) {\n      var _this2 = this;\n\n      if (this._disableNotification) {\n        return;\n      }\n\n      var removeNotification = function removeNotification(view) {\n        switch (view) {\n          case SidebarView.OUTLINE:\n            _this2.outlineButton.classList.remove(UI_NOTIFICATION_CLASS);\n\n            break;\n\n          case SidebarView.ATTACHMENTS:\n            _this2.attachmentsButton.classList.remove(UI_NOTIFICATION_CLASS);\n\n            break;\n        }\n      };\n\n      if (!this.isOpen && view !== null) {\n        return;\n      }\n\n      this.toggleButton.classList.remove(UI_NOTIFICATION_CLASS);\n\n      if (view !== null) {\n        removeNotification(view);\n        return;\n      }\n\n      for (view in SidebarView) {\n        removeNotification(SidebarView[view]);\n      }\n\n      this.l10n.get(\"toggle_sidebar.title\", null, \"Toggle Sidebar\").then(function (msg) {\n        _this2.toggleButton.title = msg;\n      });\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      var _this3 = this;\n\n      this.viewerContainer.addEventListener(\"transitionend\", function (evt) {\n        if (evt.target === _this3.viewerContainer) {\n          _this3.outerContainer.classList.remove(\"sidebarMoving\");\n        }\n      });\n      this.toggleButton.addEventListener(\"click\", function () {\n        _this3.toggle();\n      });\n      this.thumbnailButton.addEventListener(\"click\", function () {\n        _this3.switchView(SidebarView.THUMBS);\n      });\n      this.outlineButton.addEventListener(\"click\", function () {\n        _this3.switchView(SidebarView.OUTLINE);\n      });\n      this.outlineButton.addEventListener(\"dblclick\", function () {\n        _this3.eventBus.dispatch(\"toggleoutlinetree\", {\n          source: _this3\n        });\n      });\n      this.attachmentsButton.addEventListener(\"click\", function () {\n        _this3.switchView(SidebarView.ATTACHMENTS);\n      });\n      this.eventBus.on(\"outlineloaded\", function (evt) {\n        var outlineCount = evt.outlineCount;\n        _this3.outlineButton.disabled = !outlineCount;\n\n        if (outlineCount) {\n          _this3._showUINotification(SidebarView.OUTLINE);\n        } else if (_this3.active === SidebarView.OUTLINE) {\n          _this3.switchView(SidebarView.THUMBS);\n        }\n      });\n      this.eventBus.on(\"attachmentsloaded\", function (evt) {\n        if (evt.attachmentsCount) {\n          _this3.attachmentsButton.disabled = false;\n\n          _this3._showUINotification(SidebarView.ATTACHMENTS);\n\n          return;\n        }\n\n        Promise.resolve().then(function () {\n          if (_this3.attachmentsView.hasChildNodes()) {\n            return;\n          }\n\n          _this3.attachmentsButton.disabled = true;\n\n          if (_this3.active === SidebarView.ATTACHMENTS) {\n            _this3.switchView(SidebarView.THUMBS);\n          }\n        });\n      });\n      this.eventBus.on(\"presentationmodechanged\", function (evt) {\n        if (!evt.active && !evt.switchInProgress && _this3.isThumbnailViewVisible) {\n          _this3._updateThumbnailViewer();\n        }\n      });\n    }\n  }, {\n    key: \"visibleView\",\n    get: function get() {\n      return this.isOpen ? this.active : SidebarView.NONE;\n    }\n  }, {\n    key: \"isThumbnailViewVisible\",\n    get: function get() {\n      return this.isOpen && this.active === SidebarView.THUMBS;\n    }\n  }, {\n    key: \"isOutlineViewVisible\",\n    get: function get() {\n      return this.isOpen && this.active === SidebarView.OUTLINE;\n    }\n  }, {\n    key: \"isAttachmentsViewVisible\",\n    get: function get() {\n      return this.isOpen && this.active === SidebarView.ATTACHMENTS;\n    }\n  }]);\n\n  return PDFSidebar;\n}();\n\nexports.PDFSidebar = PDFSidebar;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OverlayManager = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar OverlayManager =\n/*#__PURE__*/\nfunction () {\n  function OverlayManager() {\n    _classCallCheck(this, OverlayManager);\n\n    this._overlays = {};\n    this._active = null;\n    this._keyDownBound = this._keyDown.bind(this);\n  }\n\n  _createClass(OverlayManager, [{\n    key: \"register\",\n    value: function () {\n      var _register = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee(name, element) {\n        var callerCloseMethod,\n            canForceClose,\n            container,\n            _args = arguments;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                callerCloseMethod = _args.length > 2 && _args[2] !== undefined ? _args[2] : null;\n                canForceClose = _args.length > 3 && _args[3] !== undefined ? _args[3] : false;\n\n                if (!(!name || !element || !(container = element.parentNode))) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new Error(\"Not enough parameters.\");\n\n              case 6:\n                if (!this._overlays[name]) {\n                  _context.next = 8;\n                  break;\n                }\n\n                throw new Error(\"The overlay is already registered.\");\n\n              case 8:\n                this._overlays[name] = {\n                  element: element,\n                  container: container,\n                  callerCloseMethod: callerCloseMethod,\n                  canForceClose: canForceClose\n                };\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function register(_x, _x2) {\n        return _register.apply(this, arguments);\n      }\n\n      return register;\n    }()\n  }, {\n    key: \"unregister\",\n    value: function () {\n      var _unregister = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2(name) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this._overlays[name]) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                throw new Error(\"The overlay does not exist.\");\n\n              case 4:\n                if (!(this._active === name)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                throw new Error(\"The overlay cannot be removed while it is active.\");\n\n              case 6:\n                delete this._overlays[name];\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function unregister(_x3) {\n        return _unregister.apply(this, arguments);\n      }\n\n      return unregister;\n    }()\n  }, {\n    key: \"open\",\n    value: function () {\n      var _open = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3(name) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this._overlays[name]) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                throw new Error(\"The overlay does not exist.\");\n\n              case 4:\n                if (!this._active) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                if (!this._overlays[name].canForceClose) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                this._closeThroughCaller();\n\n                _context3.next = 14;\n                break;\n\n              case 9:\n                if (!(this._active === name)) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                throw new Error(\"The overlay is already active.\");\n\n              case 13:\n                throw new Error(\"Another overlay is currently active.\");\n\n              case 14:\n                this._active = name;\n\n                this._overlays[this._active].element.classList.remove(\"hidden\");\n\n                this._overlays[this._active].container.classList.remove(\"hidden\");\n\n                window.addEventListener(\"keydown\", this._keyDownBound);\n\n              case 18:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function open(_x4) {\n        return _open.apply(this, arguments);\n      }\n\n      return open;\n    }()\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee4(name) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this._overlays[name]) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error(\"The overlay does not exist.\");\n\n              case 4:\n                if (this._active) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                throw new Error(\"The overlay is currently not active.\");\n\n              case 8:\n                if (!(this._active !== name)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                throw new Error(\"Another overlay is currently active.\");\n\n              case 10:\n                this._overlays[this._active].container.classList.add(\"hidden\");\n\n                this._overlays[this._active].element.classList.add(\"hidden\");\n\n                this._active = null;\n                window.removeEventListener(\"keydown\", this._keyDownBound);\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function close(_x5) {\n        return _close.apply(this, arguments);\n      }\n\n      return close;\n    }()\n  }, {\n    key: \"_keyDown\",\n    value: function _keyDown(evt) {\n      if (this._active && evt.keyCode === 27) {\n        this._closeThroughCaller();\n\n        evt.preventDefault();\n      }\n    }\n  }, {\n    key: \"_closeThroughCaller\",\n    value: function _closeThroughCaller() {\n      if (this._overlays[this._active].callerCloseMethod) {\n        this._overlays[this._active].callerCloseMethod();\n      }\n\n      if (this._active) {\n        this.close(this._active);\n      }\n    }\n  }, {\n    key: \"active\",\n    get: function get() {\n      return this._active;\n    }\n  }]);\n\n  return OverlayManager;\n}();\n\nexports.OverlayManager = OverlayManager;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PasswordPrompt = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PasswordPrompt =\n/*#__PURE__*/\nfunction () {\n  function PasswordPrompt(options, overlayManager) {\n    var _this = this;\n\n    var l10n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _ui_utils.NullL10n;\n\n    _classCallCheck(this, PasswordPrompt);\n\n    this.overlayName = options.overlayName;\n    this.container = options.container;\n    this.label = options.label;\n    this.input = options.input;\n    this.submitButton = options.submitButton;\n    this.cancelButton = options.cancelButton;\n    this.overlayManager = overlayManager;\n    this.l10n = l10n;\n    this.updateCallback = null;\n    this.reason = null;\n    this.submitButton.addEventListener(\"click\", this.verify.bind(this));\n    this.cancelButton.addEventListener(\"click\", this.close.bind(this));\n    this.input.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 13) {\n        _this.verify();\n      }\n    });\n    this.overlayManager.register(this.overlayName, this.container, this.close.bind(this), true);\n  }\n\n  _createClass(PasswordPrompt, [{\n    key: \"open\",\n    value: function open() {\n      var _this2 = this;\n\n      this.overlayManager.open(this.overlayName).then(function () {\n        _this2.input.focus();\n\n        var promptString;\n\n        if (_this2.reason === _pdfjsLib.PasswordResponses.INCORRECT_PASSWORD) {\n          promptString = _this2.l10n.get(\"password_invalid\", null, \"Invalid password. Please try again.\");\n        } else {\n          promptString = _this2.l10n.get(\"password_label\", null, \"Enter the password to open this PDF file.\");\n        }\n\n        promptString.then(function (msg) {\n          _this2.label.textContent = msg;\n        });\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this3 = this;\n\n      this.overlayManager.close(this.overlayName).then(function () {\n        _this3.input.value = \"\";\n      });\n    }\n  }, {\n    key: \"verify\",\n    value: function verify() {\n      var password = this.input.value;\n\n      if (password && password.length > 0) {\n        this.close();\n        this.updateCallback(password);\n      }\n    }\n  }, {\n    key: \"setUpdateCallback\",\n    value: function setUpdateCallback(updateCallback, reason) {\n      this.updateCallback = updateCallback;\n      this.reason = reason;\n    }\n  }]);\n\n  return PasswordPrompt;\n}();\n\nexports.PasswordPrompt = PasswordPrompt;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFAttachmentViewer = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PDFAttachmentViewer =\n/*#__PURE__*/\nfunction () {\n  function PDFAttachmentViewer(_ref) {\n    var container = _ref.container,\n        eventBus = _ref.eventBus,\n        downloadManager = _ref.downloadManager;\n\n    _classCallCheck(this, PDFAttachmentViewer);\n\n    this.container = container;\n    this.eventBus = eventBus;\n    this.downloadManager = downloadManager;\n    this.reset();\n    this.eventBus.on(\"fileattachmentannotation\", this._appendAttachment.bind(this));\n  }\n\n  _createClass(PDFAttachmentViewer, [{\n    key: \"reset\",\n    value: function reset() {\n      var keepRenderedCapability = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.attachments = null;\n      this.container.textContent = \"\";\n\n      if (!keepRenderedCapability) {\n        this._renderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n      }\n    }\n  }, {\n    key: \"_dispatchEvent\",\n    value: function _dispatchEvent(attachmentsCount) {\n      this._renderedCapability.resolve();\n\n      this.eventBus.dispatch(\"attachmentsloaded\", {\n        source: this,\n        attachmentsCount: attachmentsCount\n      });\n    }\n  }, {\n    key: \"_bindPdfLink\",\n    value: function _bindPdfLink(button, content, filename) {\n      if (this.downloadManager.disableCreateObjectURL) {\n        throw new Error('bindPdfLink: Unsupported \"disableCreateObjectURL\" value.');\n      }\n\n      var blobUrl;\n\n      button.onclick = function () {\n        if (!blobUrl) {\n          blobUrl = (0, _pdfjsLib.createObjectURL)(content, \"application/pdf\");\n        }\n\n        var viewerUrl;\n        viewerUrl = \"?file=\" + encodeURIComponent(blobUrl + \"#\" + filename);\n        window.open(viewerUrl);\n        return false;\n      };\n    }\n  }, {\n    key: \"_bindLink\",\n    value: function _bindLink(button, content, filename) {\n      var _this = this;\n\n      button.onclick = function () {\n        _this.downloadManager.downloadData(content, filename, \"\");\n\n        return false;\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render(_ref2) {\n      var attachments = _ref2.attachments,\n          _ref2$keepRenderedCap = _ref2.keepRenderedCapability,\n          keepRenderedCapability = _ref2$keepRenderedCap === void 0 ? false : _ref2$keepRenderedCap;\n      var attachmentsCount = 0;\n\n      if (this.attachments) {\n        this.reset(keepRenderedCapability === true);\n      }\n\n      this.attachments = attachments || null;\n\n      if (!attachments) {\n        this._dispatchEvent(attachmentsCount);\n\n        return;\n      }\n\n      var names = Object.keys(attachments).sort(function (a, b) {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n      });\n      attachmentsCount = names.length;\n\n      for (var i = 0; i < attachmentsCount; i++) {\n        var item = attachments[names[i]];\n        var filename = (0, _pdfjsLib.removeNullCharacters)((0, _pdfjsLib.getFilenameFromUrl)(item.filename));\n        var div = document.createElement(\"div\");\n        div.className = \"attachmentsItem\";\n        var button = document.createElement(\"button\");\n        button.textContent = filename;\n\n        if (/\\.pdf$/i.test(filename) && !this.downloadManager.disableCreateObjectURL) {\n          this._bindPdfLink(button, item.content, filename);\n        } else {\n          this._bindLink(button, item.content, filename);\n        }\n\n        div.appendChild(button);\n        this.container.appendChild(div);\n      }\n\n      this._dispatchEvent(attachmentsCount);\n    }\n  }, {\n    key: \"_appendAttachment\",\n    value: function _appendAttachment(_ref3) {\n      var _this2 = this;\n\n      var id = _ref3.id,\n          filename = _ref3.filename,\n          content = _ref3.content;\n\n      this._renderedCapability.promise.then(function () {\n        var attachments = _this2.attachments;\n\n        if (!attachments) {\n          attachments = Object.create(null);\n        } else {\n          for (var name in attachments) {\n            if (id === name) {\n              return;\n            }\n          }\n        }\n\n        attachments[id] = {\n          filename: filename,\n          content: content\n        };\n\n        _this2.render({\n          attachments: attachments,\n          keepRenderedCapability: true\n        });\n      });\n    }\n  }]);\n\n  return PDFAttachmentViewer;\n}();\n\nexports.PDFAttachmentViewer = PDFAttachmentViewer;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFDocumentProperties = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_FIELD_CONTENT = \"-\";\nvar NON_METRIC_LOCALES = [\"en-us\", \"en-lr\", \"my\"];\nvar US_PAGE_NAMES = {\n  \"8.5x11\": \"Letter\",\n  \"8.5x14\": \"Legal\"\n};\nvar METRIC_PAGE_NAMES = {\n  \"297x420\": \"A3\",\n  \"210x297\": \"A4\"\n};\n\nfunction getPageName(size, isPortrait, pageNames) {\n  var width = isPortrait ? size.width : size.height;\n  var height = isPortrait ? size.height : size.width;\n  return pageNames[\"\".concat(width, \"x\").concat(height)];\n}\n\nvar PDFDocumentProperties =\n/*#__PURE__*/\nfunction () {\n  function PDFDocumentProperties(_ref, overlayManager, eventBus) {\n    var _this = this;\n\n    var overlayName = _ref.overlayName,\n        fields = _ref.fields,\n        container = _ref.container,\n        closeButton = _ref.closeButton;\n    var l10n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _ui_utils.NullL10n;\n\n    _classCallCheck(this, PDFDocumentProperties);\n\n    this.overlayName = overlayName;\n    this.fields = fields;\n    this.container = container;\n    this.overlayManager = overlayManager;\n    this.l10n = l10n;\n\n    this._reset();\n\n    if (closeButton) {\n      closeButton.addEventListener(\"click\", this.close.bind(this));\n    }\n\n    this.overlayManager.register(this.overlayName, this.container, this.close.bind(this));\n\n    if (eventBus) {\n      eventBus.on(\"pagechanging\", function (evt) {\n        _this._currentPageNumber = evt.pageNumber;\n      });\n      eventBus.on(\"rotationchanging\", function (evt) {\n        _this._pagesRotation = evt.pagesRotation;\n      });\n    }\n\n    this._isNonMetricLocale = true;\n    l10n.getLanguage().then(function (locale) {\n      _this._isNonMetricLocale = NON_METRIC_LOCALES.includes(locale);\n    });\n  }\n\n  _createClass(PDFDocumentProperties, [{\n    key: \"open\",\n    value: function open() {\n      var _this2 = this;\n\n      var freezeFieldData = function freezeFieldData(data) {\n        Object.defineProperty(_this2, \"fieldData\", {\n          value: Object.freeze(data),\n          writable: false,\n          enumerable: true,\n          configurable: true\n        });\n      };\n\n      Promise.all([this.overlayManager.open(this.overlayName), this._dataAvailableCapability.promise]).then(function () {\n        var currentPageNumber = _this2._currentPageNumber;\n        var pagesRotation = _this2._pagesRotation;\n\n        if (_this2.fieldData && currentPageNumber === _this2.fieldData[\"_currentPageNumber\"] && pagesRotation === _this2.fieldData[\"_pagesRotation\"]) {\n          _this2._updateUI();\n\n          return;\n        }\n\n        _this2.pdfDocument.getMetadata().then(function (_ref2) {\n          var info = _ref2.info,\n              metadata = _ref2.metadata,\n              contentDispositionFilename = _ref2.contentDispositionFilename;\n          return Promise.all([info, metadata, contentDispositionFilename || (0, _ui_utils.getPDFFileNameFromURL)(_this2.url || \"\"), _this2._parseFileSize(_this2.maybeFileSize), _this2._parseDate(info.CreationDate), _this2._parseDate(info.ModDate), _this2.pdfDocument.getPage(currentPageNumber).then(function (pdfPage) {\n            return _this2._parsePageSize((0, _ui_utils.getPageSizeInches)(pdfPage), pagesRotation);\n          }), _this2._parseLinearization(info.IsLinearized)]);\n        }).then(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 8),\n              info = _ref4[0],\n              metadata = _ref4[1],\n              fileName = _ref4[2],\n              fileSize = _ref4[3],\n              creationDate = _ref4[4],\n              modDate = _ref4[5],\n              pageSize = _ref4[6],\n              isLinearized = _ref4[7];\n\n          freezeFieldData({\n            fileName: fileName,\n            fileSize: fileSize,\n            title: info.Title,\n            author: info.Author,\n            subject: info.Subject,\n            keywords: info.Keywords,\n            creationDate: creationDate,\n            modificationDate: modDate,\n            creator: info.Creator,\n            producer: info.Producer,\n            version: info.PDFFormatVersion,\n            pageCount: _this2.pdfDocument.numPages,\n            pageSize: pageSize,\n            linearized: isLinearized,\n            _currentPageNumber: currentPageNumber,\n            _pagesRotation: pagesRotation\n          });\n\n          _this2._updateUI();\n\n          return _this2.pdfDocument.getDownloadInfo();\n        }).then(function (_ref5) {\n          var length = _ref5.length;\n          _this2.maybeFileSize = length;\n          return _this2._parseFileSize(length);\n        }).then(function (fileSize) {\n          if (fileSize === _this2.fieldData[\"fileSize\"]) {\n            return;\n          }\n\n          var data = Object.assign(Object.create(null), _this2.fieldData);\n          data[\"fileSize\"] = fileSize;\n          freezeFieldData(data);\n\n          _this2._updateUI();\n        });\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.overlayManager.close(this.overlayName);\n    }\n  }, {\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (this.pdfDocument) {\n        this._reset();\n\n        this._updateUI(true);\n      }\n\n      if (!pdfDocument) {\n        return;\n      }\n\n      this.pdfDocument = pdfDocument;\n      this.url = url;\n\n      this._dataAvailableCapability.resolve();\n    }\n  }, {\n    key: \"setFileSize\",\n    value: function setFileSize(fileSize) {\n      if (Number.isInteger(fileSize) && fileSize > 0) {\n        this.maybeFileSize = fileSize;\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this.pdfDocument = null;\n      this.url = null;\n      this.maybeFileSize = 0;\n      delete this.fieldData;\n      this._dataAvailableCapability = (0, _pdfjsLib.createPromiseCapability)();\n      this._currentPageNumber = 1;\n      this._pagesRotation = 0;\n    }\n  }, {\n    key: \"_updateUI\",\n    value: function _updateUI() {\n      var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (reset || !this.fieldData) {\n        for (var id in this.fields) {\n          this.fields[id].textContent = DEFAULT_FIELD_CONTENT;\n        }\n\n        return;\n      }\n\n      if (this.overlayManager.active !== this.overlayName) {\n        return;\n      }\n\n      for (var _id in this.fields) {\n        var content = this.fieldData[_id];\n        this.fields[_id].textContent = content || content === 0 ? content : DEFAULT_FIELD_CONTENT;\n      }\n    }\n  }, {\n    key: \"_parseFileSize\",\n    value: function () {\n      var _parseFileSize2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        var fileSize,\n            kb,\n            _args = arguments;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fileSize = _args.length > 0 && _args[0] !== undefined ? _args[0] : 0;\n                kb = fileSize / 1024;\n\n                if (kb) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", undefined);\n\n              case 6:\n                if (!(kb < 1024)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.l10n.get(\"document_properties_kb\", {\n                  size_kb: (+kb.toPrecision(3)).toLocaleString(),\n                  size_b: fileSize.toLocaleString()\n                }, \"{{size_kb}} KB ({{size_b}} bytes)\"));\n\n              case 8:\n                return _context.abrupt(\"return\", this.l10n.get(\"document_properties_mb\", {\n                  size_mb: (+(kb / 1024).toPrecision(3)).toLocaleString(),\n                  size_b: fileSize.toLocaleString()\n                }, \"{{size_mb}} MB ({{size_b}} bytes)\"));\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _parseFileSize() {\n        return _parseFileSize2.apply(this, arguments);\n      }\n\n      return _parseFileSize;\n    }()\n  }, {\n    key: \"_parsePageSize\",\n    value: function () {\n      var _parsePageSize2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2(pageSizeInches, pagesRotation) {\n        var _this3 = this;\n\n        var isPortrait, sizeInches, sizeMillimeters, pageName, name, exactMillimeters, intMillimeters;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (pageSizeInches) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", undefined);\n\n              case 2:\n                if (pagesRotation % 180 !== 0) {\n                  pageSizeInches = {\n                    width: pageSizeInches.height,\n                    height: pageSizeInches.width\n                  };\n                }\n\n                isPortrait = (0, _ui_utils.isPortraitOrientation)(pageSizeInches);\n                sizeInches = {\n                  width: Math.round(pageSizeInches.width * 100) / 100,\n                  height: Math.round(pageSizeInches.height * 100) / 100\n                };\n                sizeMillimeters = {\n                  width: Math.round(pageSizeInches.width * 25.4 * 10) / 10,\n                  height: Math.round(pageSizeInches.height * 25.4 * 10) / 10\n                };\n                pageName = null;\n                name = getPageName(sizeInches, isPortrait, US_PAGE_NAMES) || getPageName(sizeMillimeters, isPortrait, METRIC_PAGE_NAMES);\n\n                if (!name && !(Number.isInteger(sizeMillimeters.width) && Number.isInteger(sizeMillimeters.height))) {\n                  exactMillimeters = {\n                    width: pageSizeInches.width * 25.4,\n                    height: pageSizeInches.height * 25.4\n                  };\n                  intMillimeters = {\n                    width: Math.round(sizeMillimeters.width),\n                    height: Math.round(sizeMillimeters.height)\n                  };\n\n                  if (Math.abs(exactMillimeters.width - intMillimeters.width) < 0.1 && Math.abs(exactMillimeters.height - intMillimeters.height) < 0.1) {\n                    name = getPageName(intMillimeters, isPortrait, METRIC_PAGE_NAMES);\n\n                    if (name) {\n                      sizeInches = {\n                        width: Math.round(intMillimeters.width / 25.4 * 100) / 100,\n                        height: Math.round(intMillimeters.height / 25.4 * 100) / 100\n                      };\n                      sizeMillimeters = intMillimeters;\n                    }\n                  }\n                }\n\n                if (name) {\n                  pageName = this.l10n.get(\"document_properties_page_size_name_\" + name.toLowerCase(), null, name);\n                }\n\n                return _context2.abrupt(\"return\", Promise.all([this._isNonMetricLocale ? sizeInches : sizeMillimeters, this.l10n.get(\"document_properties_page_size_unit_\" + (this._isNonMetricLocale ? \"inches\" : \"millimeters\"), null, this._isNonMetricLocale ? \"in\" : \"mm\"), pageName, this.l10n.get(\"document_properties_page_size_orientation_\" + (isPortrait ? \"portrait\" : \"landscape\"), null, isPortrait ? \"portrait\" : \"landscape\")]).then(function (_ref6) {\n                  var _ref7 = _slicedToArray(_ref6, 4),\n                      _ref7$ = _ref7[0],\n                      width = _ref7$.width,\n                      height = _ref7$.height,\n                      unit = _ref7[1],\n                      name = _ref7[2],\n                      orientation = _ref7[3];\n\n                  return _this3.l10n.get(\"document_properties_page_size_dimension_\" + (name ? \"name_\" : \"\") + \"string\", {\n                    width: width.toLocaleString(),\n                    height: height.toLocaleString(),\n                    unit: unit,\n                    name: name,\n                    orientation: orientation\n                  }, \"{{width}}  {{height}} {{unit}} (\" + (name ? \"{{name}}, \" : \"\") + \"{{orientation}})\");\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _parsePageSize(_x, _x2) {\n        return _parsePageSize2.apply(this, arguments);\n      }\n\n      return _parsePageSize;\n    }()\n  }, {\n    key: \"_parseDate\",\n    value: function () {\n      var _parseDate2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3(inputDate) {\n        var dateObject;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                dateObject = _pdfjsLib.PDFDateString.toDateObject(inputDate);\n\n                if (dateObject) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", undefined);\n\n              case 3:\n                return _context3.abrupt(\"return\", this.l10n.get(\"document_properties_date_string\", {\n                  date: dateObject.toLocaleDateString(),\n                  time: dateObject.toLocaleTimeString()\n                }, \"{{date}}, {{time}}\"));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _parseDate(_x3) {\n        return _parseDate2.apply(this, arguments);\n      }\n\n      return _parseDate;\n    }()\n  }, {\n    key: \"_parseLinearization\",\n    value: function _parseLinearization(isLinearized) {\n      return this.l10n.get(\"document_properties_linearized_\" + (isLinearized ? \"yes\" : \"no\"), null, isLinearized ? \"Yes\" : \"No\");\n    }\n  }]);\n\n  return PDFDocumentProperties;\n}();\n\nexports.PDFDocumentProperties = PDFDocumentProperties;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFFindBar = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_find_controller = __webpack_require__(18);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MATCHES_COUNT_LIMIT = 1000;\n\nvar PDFFindBar =\n/*#__PURE__*/\nfunction () {\n  function PDFFindBar(options) {\n    var _this = this;\n\n    var eventBus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _ui_utils.getGlobalEventBus)();\n    var l10n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _ui_utils.NullL10n;\n\n    _classCallCheck(this, PDFFindBar);\n\n    this.opened = false;\n    this.bar = options.bar || null;\n    this.toggleButton = options.toggleButton || null;\n    this.findField = options.findField || null;\n    this.highlightAll = options.highlightAllCheckbox || null;\n    this.caseSensitive = options.caseSensitiveCheckbox || null;\n    this.entireWord = options.entireWordCheckbox || null;\n    this.findMsg = options.findMsg || null;\n    this.findResultsCount = options.findResultsCount || null;\n    this.findPreviousButton = options.findPreviousButton || null;\n    this.findNextButton = options.findNextButton || null;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this.toggleButton.addEventListener(\"click\", function () {\n      _this.toggle();\n    });\n    this.findField.addEventListener(\"input\", function () {\n      _this.dispatchEvent(\"\");\n    });\n    this.bar.addEventListener(\"keydown\", function (e) {\n      switch (e.keyCode) {\n        case 13:\n          if (e.target === _this.findField) {\n            _this.dispatchEvent(\"again\", e.shiftKey);\n          }\n\n          break;\n\n        case 27:\n          _this.close();\n\n          break;\n      }\n    });\n    this.findPreviousButton.addEventListener(\"click\", function () {\n      _this.dispatchEvent(\"again\", true);\n    });\n    this.findNextButton.addEventListener(\"click\", function () {\n      _this.dispatchEvent(\"again\", false);\n    });\n    this.highlightAll.addEventListener(\"click\", function () {\n      _this.dispatchEvent(\"highlightallchange\");\n    });\n    this.caseSensitive.addEventListener(\"click\", function () {\n      _this.dispatchEvent(\"casesensitivitychange\");\n    });\n    this.entireWord.addEventListener(\"click\", function () {\n      _this.dispatchEvent(\"entirewordchange\");\n    });\n    this.eventBus.on(\"resize\", this._adjustWidth.bind(this));\n  }\n\n  _createClass(PDFFindBar, [{\n    key: \"reset\",\n    value: function reset() {\n      this.updateUIState();\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(type, findPrev) {\n      this.eventBus.dispatch(\"find\", {\n        source: this,\n        type: type,\n        query: this.findField.value,\n        phraseSearch: true,\n        caseSensitive: this.caseSensitive.checked,\n        entireWord: this.entireWord.checked,\n        highlightAll: this.highlightAll.checked,\n        findPrevious: findPrev\n      });\n    }\n  }, {\n    key: \"updateUIState\",\n    value: function updateUIState(state, previous, matchesCount) {\n      var _this2 = this;\n\n      var notFound = false;\n      var findMsg = \"\";\n      var status = \"\";\n\n      switch (state) {\n        case _pdf_find_controller.FindState.FOUND:\n          break;\n\n        case _pdf_find_controller.FindState.PENDING:\n          status = \"pending\";\n          break;\n\n        case _pdf_find_controller.FindState.NOT_FOUND:\n          findMsg = this.l10n.get(\"find_not_found\", null, \"Phrase not found\");\n          notFound = true;\n          break;\n\n        case _pdf_find_controller.FindState.WRAPPED:\n          if (previous) {\n            findMsg = this.l10n.get(\"find_reached_top\", null, \"Reached top of document, continued from bottom\");\n          } else {\n            findMsg = this.l10n.get(\"find_reached_bottom\", null, \"Reached end of document, continued from top\");\n          }\n\n          break;\n      }\n\n      this.findField.classList.toggle(\"notFound\", notFound);\n      this.findField.setAttribute(\"data-status\", status);\n      Promise.resolve(findMsg).then(function (msg) {\n        _this2.findMsg.textContent = msg;\n\n        _this2._adjustWidth();\n      });\n      this.updateResultsCount(matchesCount);\n    }\n  }, {\n    key: \"updateResultsCount\",\n    value: function updateResultsCount() {\n      var _this3 = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$current = _ref.current,\n          current = _ref$current === void 0 ? 0 : _ref$current,\n          _ref$total = _ref.total,\n          total = _ref$total === void 0 ? 0 : _ref$total;\n\n      if (!this.findResultsCount) {\n        return;\n      }\n\n      var limit = MATCHES_COUNT_LIMIT;\n      var matchesCountMsg = \"\";\n\n      if (total > 0) {\n        if (total > limit) {\n          matchesCountMsg = this.l10n.get(\"find_match_count_limit\", {\n            limit: limit\n          }, \"More than {{limit}} match\" + (limit !== 1 ? \"es\" : \"\"));\n        } else {\n          matchesCountMsg = this.l10n.get(\"find_match_count\", {\n            current: current,\n            total: total\n          }, \"{{current}} of {{total}} match\" + (total !== 1 ? \"es\" : \"\"));\n        }\n      }\n\n      Promise.resolve(matchesCountMsg).then(function (msg) {\n        _this3.findResultsCount.textContent = msg;\n\n        _this3.findResultsCount.classList.toggle(\"hidden\", !total);\n\n        _this3._adjustWidth();\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      if (!this.opened) {\n        this.opened = true;\n        this.toggleButton.classList.add(\"toggled\");\n        this.bar.classList.remove(\"hidden\");\n      }\n\n      this.findField.select();\n      this.findField.focus();\n\n      this._adjustWidth();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.opened = false;\n      this.toggleButton.classList.remove(\"toggled\");\n      this.bar.classList.add(\"hidden\");\n      this.eventBus.dispatch(\"findbarclose\", {\n        source: this\n      });\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.opened) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n  }, {\n    key: \"_adjustWidth\",\n    value: function _adjustWidth() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.bar.classList.remove(\"wrapContainers\");\n      var findbarHeight = this.bar.clientHeight;\n      var inputContainerHeight = this.bar.firstElementChild.clientHeight;\n\n      if (findbarHeight > inputContainerHeight) {\n        this.bar.classList.add(\"wrapContainers\");\n      }\n    }\n  }]);\n\n  return PDFFindBar;\n}();\n\nexports.PDFFindBar = PDFFindBar;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFFindController = exports.FindState = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _pdf_find_utils = __webpack_require__(19);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nexports.FindState = FindState;\nvar FIND_TIMEOUT = 250;\nvar MATCH_SCROLL_OFFSET_TOP = -50;\nvar MATCH_SCROLL_OFFSET_LEFT = -400;\nvar CHARACTERS_TO_NORMALIZE = {\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\xBC\": \"1/4\",\n  \"\\xBD\": \"1/2\",\n  \"\\xBE\": \"3/4\"\n};\nvar normalizationRegex = null;\n\nfunction normalize(text) {\n  if (!normalizationRegex) {\n    var replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    normalizationRegex = new RegExp(\"[\".concat(replace, \"]\"), \"g\");\n  }\n\n  return text.replace(normalizationRegex, function (ch) {\n    return CHARACTERS_TO_NORMALIZE[ch];\n  });\n}\n\nvar PDFFindController =\n/*#__PURE__*/\nfunction () {\n  function PDFFindController(_ref) {\n    var linkService = _ref.linkService,\n        _ref$eventBus = _ref.eventBus,\n        eventBus = _ref$eventBus === void 0 ? (0, _ui_utils.getGlobalEventBus)() : _ref$eventBus;\n\n    _classCallCheck(this, PDFFindController);\n\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n\n    this._reset();\n\n    eventBus.on(\"findbarclose\", this._onFindBarClose.bind(this));\n  }\n\n  _createClass(PDFFindController, [{\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      if (this._pdfDocument) {\n        this._reset();\n      }\n\n      if (!pdfDocument) {\n        return;\n      }\n\n      this._pdfDocument = pdfDocument;\n\n      this._firstPageCapability.resolve();\n    }\n  }, {\n    key: \"executeCommand\",\n    value: function executeCommand(cmd, state) {\n      var _this = this;\n\n      if (!state) {\n        return;\n      }\n\n      var pdfDocument = this._pdfDocument;\n\n      if (this._state === null || this._shouldDirtyMatch(cmd, state)) {\n        this._dirtyMatch = true;\n      }\n\n      this._state = state;\n\n      if (cmd !== \"findhighlightallchange\") {\n        this._updateUIState(FindState.PENDING);\n      }\n\n      this._firstPageCapability.promise.then(function () {\n        if (!_this._pdfDocument || pdfDocument && _this._pdfDocument !== pdfDocument) {\n          return;\n        }\n\n        _this._extractText();\n\n        var findbarClosed = !_this._highlightMatches;\n        var pendingTimeout = !!_this._findTimeout;\n\n        if (_this._findTimeout) {\n          clearTimeout(_this._findTimeout);\n          _this._findTimeout = null;\n        }\n\n        if (cmd === \"find\") {\n          _this._findTimeout = setTimeout(function () {\n            _this._nextMatch();\n\n            _this._findTimeout = null;\n          }, FIND_TIMEOUT);\n        } else if (_this._dirtyMatch) {\n          _this._nextMatch();\n        } else if (cmd === \"findagain\") {\n          _this._nextMatch();\n\n          if (findbarClosed && _this._state.highlightAll) {\n            _this._updateAllPages();\n          }\n        } else if (cmd === \"findhighlightallchange\") {\n          if (pendingTimeout) {\n            _this._nextMatch();\n          } else {\n            _this._highlightMatches = true;\n          }\n\n          _this._updateAllPages();\n        } else {\n          _this._nextMatch();\n        }\n      });\n    }\n  }, {\n    key: \"scrollMatchIntoView\",\n    value: function scrollMatchIntoView(_ref2) {\n      var _ref2$element = _ref2.element,\n          element = _ref2$element === void 0 ? null : _ref2$element,\n          _ref2$pageIndex = _ref2.pageIndex,\n          pageIndex = _ref2$pageIndex === void 0 ? -1 : _ref2$pageIndex,\n          _ref2$matchIndex = _ref2.matchIndex,\n          matchIndex = _ref2$matchIndex === void 0 ? -1 : _ref2$matchIndex;\n\n      if (!this._scrollMatches || !element) {\n        return;\n      } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n        return;\n      } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n        return;\n      }\n\n      this._scrollMatches = false;\n      var spot = {\n        top: MATCH_SCROLL_OFFSET_TOP,\n        left: MATCH_SCROLL_OFFSET_LEFT\n      };\n      (0, _ui_utils.scrollIntoView)(element, spot, true);\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._highlightMatches = false;\n      this._scrollMatches = false;\n      this._pdfDocument = null;\n      this._pageMatches = [];\n      this._pageMatchesLength = [];\n      this._state = null;\n      this._selected = {\n        pageIdx: -1,\n        matchIdx: -1\n      };\n      this._offset = {\n        pageIdx: null,\n        matchIdx: null,\n        wrapped: false\n      };\n      this._extractTextPromises = [];\n      this._pageContents = [];\n      this._matchesCountTotal = 0;\n      this._pagesToSearch = null;\n      this._pendingFindMatches = Object.create(null);\n      this._resumePageIdx = null;\n      this._dirtyMatch = false;\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n      this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n    }\n  }, {\n    key: \"_shouldDirtyMatch\",\n    value: function _shouldDirtyMatch(cmd, state) {\n      if (state.query !== this._state.query) {\n        return true;\n      }\n\n      switch (cmd) {\n        case \"findagain\":\n          var pageNumber = this._selected.pageIdx + 1;\n          var linkService = this._linkService;\n\n          if (pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !linkService.isPageVisible(pageNumber)) {\n            return true;\n          }\n\n          return false;\n\n        case \"findhighlightallchange\":\n          return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_prepareMatches\",\n    value: function _prepareMatches(matchesWithLength, matches, matchesLength) {\n      function isSubTerm(matchesWithLength, currentIndex) {\n        var currentElem = matchesWithLength[currentIndex];\n        var nextElem = matchesWithLength[currentIndex + 1];\n\n        if (currentIndex < matchesWithLength.length - 1 && currentElem.match === nextElem.match) {\n          currentElem.skipped = true;\n          return true;\n        }\n\n        for (var i = currentIndex - 1; i >= 0; i--) {\n          var prevElem = matchesWithLength[i];\n\n          if (prevElem.skipped) {\n            continue;\n          }\n\n          if (prevElem.match + prevElem.matchLength < currentElem.match) {\n            break;\n          }\n\n          if (prevElem.match + prevElem.matchLength >= currentElem.match + currentElem.matchLength) {\n            currentElem.skipped = true;\n            return true;\n          }\n        }\n\n        return false;\n      }\n\n      matchesWithLength.sort(function (a, b) {\n        return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n      });\n\n      for (var i = 0, len = matchesWithLength.length; i < len; i++) {\n        if (isSubTerm(matchesWithLength, i)) {\n          continue;\n        }\n\n        matches.push(matchesWithLength[i].match);\n        matchesLength.push(matchesWithLength[i].matchLength);\n      }\n    }\n  }, {\n    key: \"_isEntireWord\",\n    value: function _isEntireWord(content, startIdx, length) {\n      if (startIdx > 0) {\n        var first = content.charCodeAt(startIdx);\n        var limit = content.charCodeAt(startIdx - 1);\n\n        if ((0, _pdf_find_utils.getCharacterType)(first) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n          return false;\n        }\n      }\n\n      var endIdx = startIdx + length - 1;\n\n      if (endIdx < content.length - 1) {\n        var last = content.charCodeAt(endIdx);\n\n        var _limit = content.charCodeAt(endIdx + 1);\n\n        if ((0, _pdf_find_utils.getCharacterType)(last) === (0, _pdf_find_utils.getCharacterType)(_limit)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_calculatePhraseMatch\",\n    value: function _calculatePhraseMatch(query, pageIndex, pageContent, entireWord) {\n      var matches = [];\n      var queryLen = query.length;\n      var matchIdx = -queryLen;\n\n      while (true) {\n        matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n\n        if (matchIdx === -1) {\n          break;\n        }\n\n        if (entireWord && !this._isEntireWord(pageContent, matchIdx, queryLen)) {\n          continue;\n        }\n\n        matches.push(matchIdx);\n      }\n\n      this._pageMatches[pageIndex] = matches;\n    }\n  }, {\n    key: \"_calculateWordMatch\",\n    value: function _calculateWordMatch(query, pageIndex, pageContent, entireWord) {\n      var matchesWithLength = [];\n      var queryArray = query.match(/\\S+/g);\n\n      for (var i = 0, len = queryArray.length; i < len; i++) {\n        var subquery = queryArray[i];\n        var subqueryLen = subquery.length;\n        var matchIdx = -subqueryLen;\n\n        while (true) {\n          matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n\n          if (matchIdx === -1) {\n            break;\n          }\n\n          if (entireWord && !this._isEntireWord(pageContent, matchIdx, subqueryLen)) {\n            continue;\n          }\n\n          matchesWithLength.push({\n            match: matchIdx,\n            matchLength: subqueryLen,\n            skipped: false\n          });\n        }\n      }\n\n      this._pageMatchesLength[pageIndex] = [];\n      this._pageMatches[pageIndex] = [];\n\n      this._prepareMatches(matchesWithLength, this._pageMatches[pageIndex], this._pageMatchesLength[pageIndex]);\n    }\n  }, {\n    key: \"_calculateMatch\",\n    value: function _calculateMatch(pageIndex) {\n      var pageContent = this._pageContents[pageIndex];\n      var query = this._query;\n      var _this$_state = this._state,\n          caseSensitive = _this$_state.caseSensitive,\n          entireWord = _this$_state.entireWord,\n          phraseSearch = _this$_state.phraseSearch;\n\n      if (query.length === 0) {\n        return;\n      }\n\n      if (!caseSensitive) {\n        pageContent = pageContent.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      if (phraseSearch) {\n        this._calculatePhraseMatch(query, pageIndex, pageContent, entireWord);\n      } else {\n        this._calculateWordMatch(query, pageIndex, pageContent, entireWord);\n      }\n\n      if (this._state.highlightAll) {\n        this._updatePage(pageIndex);\n      }\n\n      if (this._resumePageIdx === pageIndex) {\n        this._resumePageIdx = null;\n\n        this._nextPageMatch();\n      }\n\n      var pageMatchesCount = this._pageMatches[pageIndex].length;\n\n      if (pageMatchesCount > 0) {\n        this._matchesCountTotal += pageMatchesCount;\n\n        this._updateUIResultsCount();\n      }\n    }\n  }, {\n    key: \"_extractText\",\n    value: function _extractText() {\n      var _this2 = this;\n\n      if (this._extractTextPromises.length > 0) {\n        return;\n      }\n\n      var promise = Promise.resolve();\n\n      var _loop = function _loop(i, ii) {\n        var extractTextCapability = (0, _pdfjsLib.createPromiseCapability)();\n        _this2._extractTextPromises[i] = extractTextCapability.promise;\n        promise = promise.then(function () {\n          return _this2._pdfDocument.getPage(i + 1).then(function (pdfPage) {\n            return pdfPage.getTextContent({\n              normalizeWhitespace: true\n            });\n          }).then(function (textContent) {\n            var textItems = textContent.items;\n            var strBuf = [];\n\n            for (var j = 0, jj = textItems.length; j < jj; j++) {\n              strBuf.push(textItems[j].str);\n            }\n\n            _this2._pageContents[i] = normalize(strBuf.join(\"\"));\n            extractTextCapability.resolve(i);\n          }, function (reason) {\n            console.error(\"Unable to get text content for page \".concat(i + 1), reason);\n            _this2._pageContents[i] = \"\";\n            extractTextCapability.resolve(i);\n          });\n        });\n      };\n\n      for (var i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n        _loop(i, ii);\n      }\n    }\n  }, {\n    key: \"_updatePage\",\n    value: function _updatePage(index) {\n      if (this._scrollMatches && this._selected.pageIdx === index) {\n        this._linkService.page = index + 1;\n      }\n\n      this._eventBus.dispatch(\"updatetextlayermatches\", {\n        source: this,\n        pageIndex: index\n      });\n    }\n  }, {\n    key: \"_updateAllPages\",\n    value: function _updateAllPages() {\n      this._eventBus.dispatch(\"updatetextlayermatches\", {\n        source: this,\n        pageIndex: -1\n      });\n    }\n  }, {\n    key: \"_nextMatch\",\n    value: function _nextMatch() {\n      var _this3 = this;\n\n      var previous = this._state.findPrevious;\n      var currentPageIndex = this._linkService.page - 1;\n      var numPages = this._linkService.pagesCount;\n      this._highlightMatches = true;\n\n      if (this._dirtyMatch) {\n        this._dirtyMatch = false;\n        this._selected.pageIdx = this._selected.matchIdx = -1;\n        this._offset.pageIdx = currentPageIndex;\n        this._offset.matchIdx = null;\n        this._offset.wrapped = false;\n        this._resumePageIdx = null;\n        this._pageMatches.length = 0;\n        this._pageMatchesLength.length = 0;\n        this._matchesCountTotal = 0;\n\n        this._updateAllPages();\n\n        for (var i = 0; i < numPages; i++) {\n          if (this._pendingFindMatches[i] === true) {\n            continue;\n          }\n\n          this._pendingFindMatches[i] = true;\n\n          this._extractTextPromises[i].then(function (pageIdx) {\n            delete _this3._pendingFindMatches[pageIdx];\n\n            _this3._calculateMatch(pageIdx);\n          });\n        }\n      }\n\n      if (this._query === \"\") {\n        this._updateUIState(FindState.FOUND);\n\n        return;\n      }\n\n      if (this._resumePageIdx) {\n        return;\n      }\n\n      var offset = this._offset;\n      this._pagesToSearch = numPages;\n\n      if (offset.matchIdx !== null) {\n        var numPageMatches = this._pageMatches[offset.pageIdx].length;\n\n        if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n          offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n\n          this._updateMatch(true);\n\n          return;\n        }\n\n        this._advanceOffsetPage(previous);\n      }\n\n      this._nextPageMatch();\n    }\n  }, {\n    key: \"_matchesReady\",\n    value: function _matchesReady(matches) {\n      var offset = this._offset;\n      var numMatches = matches.length;\n      var previous = this._state.findPrevious;\n\n      if (numMatches) {\n        offset.matchIdx = previous ? numMatches - 1 : 0;\n\n        this._updateMatch(true);\n\n        return true;\n      }\n\n      this._advanceOffsetPage(previous);\n\n      if (offset.wrapped) {\n        offset.matchIdx = null;\n\n        if (this._pagesToSearch < 0) {\n          this._updateMatch(false);\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_nextPageMatch\",\n    value: function _nextPageMatch() {\n      if (this._resumePageIdx !== null) {\n        console.error(\"There can only be one pending page.\");\n      }\n\n      var matches = null;\n\n      do {\n        var pageIdx = this._offset.pageIdx;\n        matches = this._pageMatches[pageIdx];\n\n        if (!matches) {\n          this._resumePageIdx = pageIdx;\n          break;\n        }\n      } while (!this._matchesReady(matches));\n    }\n  }, {\n    key: \"_advanceOffsetPage\",\n    value: function _advanceOffsetPage(previous) {\n      var offset = this._offset;\n      var numPages = this._linkService.pagesCount;\n      offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n      offset.matchIdx = null;\n      this._pagesToSearch--;\n\n      if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n        offset.pageIdx = previous ? numPages - 1 : 0;\n        offset.wrapped = true;\n      }\n    }\n  }, {\n    key: \"_updateMatch\",\n    value: function _updateMatch() {\n      var found = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var state = FindState.NOT_FOUND;\n      var wrapped = this._offset.wrapped;\n      this._offset.wrapped = false;\n\n      if (found) {\n        var previousPage = this._selected.pageIdx;\n        this._selected.pageIdx = this._offset.pageIdx;\n        this._selected.matchIdx = this._offset.matchIdx;\n        state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n        if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n          this._updatePage(previousPage);\n        }\n      }\n\n      this._updateUIState(state, this._state.findPrevious);\n\n      if (this._selected.pageIdx !== -1) {\n        this._scrollMatches = true;\n\n        this._updatePage(this._selected.pageIdx);\n      }\n    }\n  }, {\n    key: \"_onFindBarClose\",\n    value: function _onFindBarClose(evt) {\n      var _this4 = this;\n\n      var pdfDocument = this._pdfDocument;\n\n      this._firstPageCapability.promise.then(function () {\n        if (!_this4._pdfDocument || pdfDocument && _this4._pdfDocument !== pdfDocument) {\n          return;\n        }\n\n        if (_this4._findTimeout) {\n          clearTimeout(_this4._findTimeout);\n          _this4._findTimeout = null;\n        }\n\n        if (_this4._resumePageIdx) {\n          _this4._resumePageIdx = null;\n          _this4._dirtyMatch = true;\n        }\n\n        _this4._updateUIState(FindState.FOUND);\n\n        _this4._highlightMatches = false;\n\n        _this4._updateAllPages();\n      });\n    }\n  }, {\n    key: \"_requestMatchesCount\",\n    value: function _requestMatchesCount() {\n      var _this$_selected = this._selected,\n          pageIdx = _this$_selected.pageIdx,\n          matchIdx = _this$_selected.matchIdx;\n      var current = 0,\n          total = this._matchesCountTotal;\n\n      if (matchIdx !== -1) {\n        for (var i = 0; i < pageIdx; i++) {\n          current += this._pageMatches[i] && this._pageMatches[i].length || 0;\n        }\n\n        current += matchIdx + 1;\n      }\n\n      if (current < 1 || current > total) {\n        current = total = 0;\n      }\n\n      return {\n        current: current,\n        total: total\n      };\n    }\n  }, {\n    key: \"_updateUIResultsCount\",\n    value: function _updateUIResultsCount() {\n      this._eventBus.dispatch(\"updatefindmatchescount\", {\n        source: this,\n        matchesCount: this._requestMatchesCount()\n      });\n    }\n  }, {\n    key: \"_updateUIState\",\n    value: function _updateUIState(state, previous) {\n      this._eventBus.dispatch(\"updatefindcontrolstate\", {\n        source: this,\n        state: state,\n        previous: previous,\n        matchesCount: this._requestMatchesCount()\n      });\n    }\n  }, {\n    key: \"highlightMatches\",\n    get: function get() {\n      return this._highlightMatches;\n    }\n  }, {\n    key: \"pageMatches\",\n    get: function get() {\n      return this._pageMatches;\n    }\n  }, {\n    key: \"pageMatchesLength\",\n    get: function get() {\n      return this._pageMatchesLength;\n    }\n  }, {\n    key: \"selected\",\n    get: function get() {\n      return this._selected;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"_query\",\n    get: function get() {\n      if (this._state.query !== this._rawQuery) {\n        this._rawQuery = this._state.query;\n        this._normalizedQuery = normalize(this._state.query);\n      }\n\n      return this._normalizedQuery;\n    }\n  }]);\n\n  return PDFFindController;\n}();\n\nexports.PDFFindController = PDFFindController;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCharacterType = getCharacterType;\nexports.CharacterType = void 0;\nvar CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nexports.CharacterType = CharacterType;\n\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\n\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\n\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\n\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\n\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\n\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\n\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\n\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\n\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\n\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\n\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n\n    return CharacterType.ALPHA_LETTER;\n  }\n\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n\n  return CharacterType.ALPHA_LETTER;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isDestHashesEqual = isDestHashesEqual;\nexports.isDestArraysEqual = isDestArraysEqual;\nexports.PDFHistory = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HASH_CHANGE_TIMEOUT = 1000;\nvar POSITION_UPDATED_THRESHOLD = 50;\nvar UPDATE_VIEWAREA_TIMEOUT = 1000;\n\nfunction getCurrentHash() {\n  return document.location.hash;\n}\n\nvar PDFHistory =\n/*#__PURE__*/\nfunction () {\n  function PDFHistory(_ref) {\n    var _this = this;\n\n    var linkService = _ref.linkService,\n        eventBus = _ref.eventBus;\n\n    _classCallCheck(this, PDFHistory);\n\n    this.linkService = linkService;\n    this.eventBus = eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this._boundEvents = null;\n    this._isViewerInPresentationMode = false;\n    this.eventBus.on(\"presentationmodechanged\", function (evt) {\n      _this._isViewerInPresentationMode = evt.active || evt.switchInProgress;\n    });\n    this.eventBus.on(\"pagesinit\", function () {\n      _this._isPagesLoaded = false;\n\n      var onPagesLoaded = function onPagesLoaded(evt) {\n        _this.eventBus.off(\"pagesloaded\", onPagesLoaded);\n\n        _this._isPagesLoaded = !!evt.pagesCount;\n      };\n\n      _this.eventBus.on(\"pagesloaded\", onPagesLoaded);\n    });\n  }\n\n  _createClass(PDFHistory, [{\n    key: \"initialize\",\n    value: function initialize(_ref2) {\n      var fingerprint = _ref2.fingerprint,\n          _ref2$resetHistory = _ref2.resetHistory,\n          resetHistory = _ref2$resetHistory === void 0 ? false : _ref2$resetHistory,\n          _ref2$updateUrl = _ref2.updateUrl,\n          updateUrl = _ref2$updateUrl === void 0 ? false : _ref2$updateUrl;\n\n      if (!fingerprint || typeof fingerprint !== \"string\") {\n        console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n        return;\n      }\n\n      if (this._initialized) {\n        this.reset();\n      }\n\n      var reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n      this._fingerprint = fingerprint;\n      this._updateUrl = updateUrl === true;\n      this._initialized = true;\n\n      this._bindEvents();\n\n      var state = window.history.state;\n      this._popStateInProgress = false;\n      this._blockHashChange = 0;\n      this._currentHash = getCurrentHash();\n      this._numPositionUpdates = 0;\n      this._uid = this._maxUid = 0;\n      this._destination = null;\n      this._position = null;\n\n      if (!this._isValidState(state, true) || resetHistory) {\n        var _this$_parseCurrentHa = this._parseCurrentHash(),\n            hash = _this$_parseCurrentHa.hash,\n            page = _this$_parseCurrentHa.page,\n            rotation = _this$_parseCurrentHa.rotation;\n\n        if (!hash || reInitialized || resetHistory) {\n          this._pushOrReplaceState(null, true);\n\n          return;\n        }\n\n        this._pushOrReplaceState({\n          hash: hash,\n          page: page,\n          rotation: rotation\n        }, true);\n\n        return;\n      }\n\n      var destination = state.destination;\n\n      this._updateInternalState(destination, state.uid, true);\n\n      if (this._uid > this._maxUid) {\n        this._maxUid = this._uid;\n      }\n\n      if (destination.rotation !== undefined) {\n        this._initialRotation = destination.rotation;\n      }\n\n      if (destination.dest) {\n        this._initialBookmark = JSON.stringify(destination.dest);\n        this._destination.page = null;\n      } else if (destination.hash) {\n        this._initialBookmark = destination.hash;\n      } else if (destination.page) {\n        this._initialBookmark = \"page=\".concat(destination.page);\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this._initialized) {\n        this._pageHide();\n\n        this._initialized = false;\n\n        this._unbindEvents();\n      }\n\n      if (this._updateViewareaTimeout) {\n        clearTimeout(this._updateViewareaTimeout);\n        this._updateViewareaTimeout = null;\n      }\n\n      this._initialBookmark = null;\n      this._initialRotation = null;\n    }\n  }, {\n    key: \"push\",\n    value: function push(_ref3) {\n      var _this2 = this;\n\n      var _ref3$namedDest = _ref3.namedDest,\n          namedDest = _ref3$namedDest === void 0 ? null : _ref3$namedDest,\n          explicitDest = _ref3.explicitDest,\n          pageNumber = _ref3.pageNumber;\n\n      if (!this._initialized) {\n        return;\n      }\n\n      if (namedDest && typeof namedDest !== \"string\") {\n        console.error(\"PDFHistory.push: \" + \"\\\"\".concat(namedDest, \"\\\" is not a valid namedDest parameter.\"));\n        return;\n      } else if (!Array.isArray(explicitDest)) {\n        console.error(\"PDFHistory.push: \" + \"\\\"\".concat(explicitDest, \"\\\" is not a valid explicitDest parameter.\"));\n        return;\n      } else if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.linkService.pagesCount)) {\n        if (pageNumber !== null || this._destination) {\n          console.error(\"PDFHistory.push: \" + \"\\\"\".concat(pageNumber, \"\\\" is not a valid pageNumber parameter.\"));\n          return;\n        }\n      }\n\n      var hash = namedDest || JSON.stringify(explicitDest);\n\n      if (!hash) {\n        return;\n      }\n\n      var forceReplace = false;\n\n      if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n        if (this._destination.page) {\n          return;\n        }\n\n        forceReplace = true;\n      }\n\n      if (this._popStateInProgress && !forceReplace) {\n        return;\n      }\n\n      this._pushOrReplaceState({\n        dest: explicitDest,\n        hash: hash,\n        page: pageNumber,\n        rotation: this.linkService.rotation\n      }, forceReplace);\n\n      if (!this._popStateInProgress) {\n        this._popStateInProgress = true;\n        Promise.resolve().then(function () {\n          _this2._popStateInProgress = false;\n        });\n      }\n    }\n  }, {\n    key: \"pushCurrentPosition\",\n    value: function pushCurrentPosition() {\n      if (!this._initialized || this._popStateInProgress) {\n        return;\n      }\n\n      this._tryPushCurrentPosition();\n    }\n  }, {\n    key: \"back\",\n    value: function back() {\n      if (!this._initialized || this._popStateInProgress) {\n        return;\n      }\n\n      var state = window.history.state;\n\n      if (this._isValidState(state) && state.uid > 0) {\n        window.history.back();\n      }\n    }\n  }, {\n    key: \"forward\",\n    value: function forward() {\n      if (!this._initialized || this._popStateInProgress) {\n        return;\n      }\n\n      var state = window.history.state;\n\n      if (this._isValidState(state) && state.uid < this._maxUid) {\n        window.history.forward();\n      }\n    }\n  }, {\n    key: \"_pushOrReplaceState\",\n    value: function _pushOrReplaceState(destination) {\n      var forceReplace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var shouldReplace = forceReplace || !this._destination;\n      var newState = {\n        fingerprint: this._fingerprint,\n        uid: shouldReplace ? this._uid : this._uid + 1,\n        destination: destination\n      };\n\n      this._updateInternalState(destination, newState.uid);\n\n      var newUrl;\n\n      if (this._updateUrl && destination && destination.hash) {\n        var baseUrl = document.location.href.split(\"#\")[0];\n\n        if (!baseUrl.startsWith(\"file://\")) {\n          newUrl = \"\".concat(baseUrl, \"#\").concat(destination.hash);\n        }\n      }\n\n      if (shouldReplace) {\n        window.history.replaceState(newState, \"\", newUrl);\n      } else {\n        this._maxUid = this._uid;\n        window.history.pushState(newState, \"\", newUrl);\n      }\n    }\n  }, {\n    key: \"_tryPushCurrentPosition\",\n    value: function _tryPushCurrentPosition() {\n      var temporary = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this._position) {\n        return;\n      }\n\n      var position = this._position;\n\n      if (temporary) {\n        position = Object.assign(Object.create(null), this._position);\n        position.temporary = true;\n      }\n\n      if (!this._destination) {\n        this._pushOrReplaceState(position);\n\n        return;\n      }\n\n      if (this._destination.temporary) {\n        this._pushOrReplaceState(position, true);\n\n        return;\n      }\n\n      if (this._destination.hash === position.hash) {\n        return;\n      }\n\n      if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n        return;\n      }\n\n      var forceReplace = false;\n\n      if (this._destination.page >= position.first && this._destination.page <= position.page) {\n        if (this._destination.dest || !this._destination.first) {\n          return;\n        }\n\n        forceReplace = true;\n      }\n\n      this._pushOrReplaceState(position, forceReplace);\n    }\n  }, {\n    key: \"_isValidState\",\n    value: function _isValidState(state) {\n      var checkReload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!state) {\n        return false;\n      }\n\n      if (state.fingerprint !== this._fingerprint) {\n        if (checkReload) {\n          if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n            return false;\n          }\n\n          var _performance$getEntri = performance.getEntriesByType(\"navigation\"),\n              _performance$getEntri2 = _slicedToArray(_performance$getEntri, 1),\n              perfEntry = _performance$getEntri2[0];\n\n          if (!perfEntry || perfEntry.type !== \"reload\") {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      }\n\n      if (!Number.isInteger(state.uid) || state.uid < 0) {\n        return false;\n      }\n\n      if (state.destination === null || _typeof(state.destination) !== \"object\") {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_updateInternalState\",\n    value: function _updateInternalState(destination, uid) {\n      var removeTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (this._updateViewareaTimeout) {\n        clearTimeout(this._updateViewareaTimeout);\n        this._updateViewareaTimeout = null;\n      }\n\n      if (removeTemporary && destination && destination.temporary) {\n        delete destination.temporary;\n      }\n\n      this._destination = destination;\n      this._uid = uid;\n      this._numPositionUpdates = 0;\n    }\n  }, {\n    key: \"_parseCurrentHash\",\n    value: function _parseCurrentHash() {\n      var hash = unescape(getCurrentHash()).substring(1);\n      var page = (0, _ui_utils.parseQueryString)(hash).page | 0;\n\n      if (!(Number.isInteger(page) && page > 0 && page <= this.linkService.pagesCount)) {\n        page = null;\n      }\n\n      return {\n        hash: hash,\n        page: page,\n        rotation: this.linkService.rotation\n      };\n    }\n  }, {\n    key: \"_updateViewarea\",\n    value: function _updateViewarea(_ref4) {\n      var _this3 = this;\n\n      var location = _ref4.location;\n\n      if (this._updateViewareaTimeout) {\n        clearTimeout(this._updateViewareaTimeout);\n        this._updateViewareaTimeout = null;\n      }\n\n      this._position = {\n        hash: this._isViewerInPresentationMode ? \"page=\".concat(location.pageNumber) : location.pdfOpenParams.substring(1),\n        page: this.linkService.page,\n        first: location.pageNumber,\n        rotation: location.rotation\n      };\n\n      if (this._popStateInProgress) {\n        return;\n      }\n\n      if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n        this._numPositionUpdates++;\n      }\n\n      if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n        this._updateViewareaTimeout = setTimeout(function () {\n          if (!_this3._popStateInProgress) {\n            _this3._tryPushCurrentPosition(true);\n          }\n\n          _this3._updateViewareaTimeout = null;\n        }, UPDATE_VIEWAREA_TIMEOUT);\n      }\n    }\n  }, {\n    key: \"_popState\",\n    value: function _popState(_ref5) {\n      var _this4 = this;\n\n      var state = _ref5.state;\n      var newHash = getCurrentHash(),\n          hashChanged = this._currentHash !== newHash;\n      this._currentHash = newHash;\n\n      if (!state) {\n        this._uid++;\n\n        var _this$_parseCurrentHa2 = this._parseCurrentHash(),\n            hash = _this$_parseCurrentHa2.hash,\n            page = _this$_parseCurrentHa2.page,\n            rotation = _this$_parseCurrentHa2.rotation;\n\n        this._pushOrReplaceState({\n          hash: hash,\n          page: page,\n          rotation: rotation\n        }, true);\n\n        return;\n      }\n\n      if (!this._isValidState(state)) {\n        return;\n      }\n\n      this._popStateInProgress = true;\n\n      if (hashChanged) {\n        this._blockHashChange++;\n        (0, _ui_utils.waitOnEventOrTimeout)({\n          target: window,\n          name: \"hashchange\",\n          delay: HASH_CHANGE_TIMEOUT\n        }).then(function () {\n          _this4._blockHashChange--;\n        });\n      }\n\n      var destination = state.destination;\n\n      this._updateInternalState(destination, state.uid, true);\n\n      if (this._uid > this._maxUid) {\n        this._maxUid = this._uid;\n      }\n\n      if ((0, _ui_utils.isValidRotation)(destination.rotation)) {\n        this.linkService.rotation = destination.rotation;\n      }\n\n      if (destination.dest) {\n        this.linkService.navigateTo(destination.dest);\n      } else if (destination.hash) {\n        this.linkService.setHash(destination.hash);\n      } else if (destination.page) {\n        this.linkService.page = destination.page;\n      }\n\n      Promise.resolve().then(function () {\n        _this4._popStateInProgress = false;\n      });\n    }\n  }, {\n    key: \"_pageHide\",\n    value: function _pageHide() {\n      if (!this._destination || this._destination.temporary) {\n        this._tryPushCurrentPosition();\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      if (this._boundEvents) {\n        return;\n      }\n\n      this._boundEvents = {\n        updateViewarea: this._updateViewarea.bind(this),\n        popState: this._popState.bind(this),\n        pageHide: this._pageHide.bind(this)\n      };\n      this.eventBus.on(\"updateviewarea\", this._boundEvents.updateViewarea);\n      window.addEventListener(\"popstate\", this._boundEvents.popState);\n      window.addEventListener(\"pagehide\", this._boundEvents.pageHide);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (!this._boundEvents) {\n        return;\n      }\n\n      this.eventBus.off(\"updateviewarea\", this._boundEvents.updateViewarea);\n      window.removeEventListener(\"popstate\", this._boundEvents.popState);\n      window.removeEventListener(\"pagehide\", this._boundEvents.pageHide);\n      this._boundEvents = null;\n    }\n  }, {\n    key: \"popStateInProgress\",\n    get: function get() {\n      return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n    }\n  }, {\n    key: \"initialBookmark\",\n    get: function get() {\n      return this._initialized ? this._initialBookmark : null;\n    }\n  }, {\n    key: \"initialRotation\",\n    get: function get() {\n      return this._initialized ? this._initialRotation : null;\n    }\n  }]);\n\n  return PDFHistory;\n}();\n\nexports.PDFHistory = PDFHistory;\n\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n\n  if (destHash === pushHash) {\n    return true;\n  }\n\n  var _parseQueryString = (0, _ui_utils.parseQueryString)(destHash),\n      nameddest = _parseQueryString.nameddest;\n\n  if (nameddest === pushHash) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (_typeof(first) !== _typeof(second)) {\n      return false;\n    }\n\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n\n    if (first !== null && _typeof(first) === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n\n      for (var key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n\n  for (var i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleLinkService = exports.PDFLinkService = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PDFLinkService =\n/*#__PURE__*/\nfunction () {\n  function PDFLinkService() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        eventBus = _ref.eventBus,\n        _ref$externalLinkTarg = _ref.externalLinkTarget,\n        externalLinkTarget = _ref$externalLinkTarg === void 0 ? null : _ref$externalLinkTarg,\n        _ref$externalLinkRel = _ref.externalLinkRel,\n        externalLinkRel = _ref$externalLinkRel === void 0 ? null : _ref$externalLinkRel,\n        _ref$externalLinkEnab = _ref.externalLinkEnabled,\n        externalLinkEnabled = _ref$externalLinkEnab === void 0 ? true : _ref$externalLinkEnab;\n\n    _classCallCheck(this, PDFLinkService);\n\n    this.eventBus = eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this.externalLinkEnabled = externalLinkEnabled;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n    this._pagesRefCache = null;\n  }\n\n  _createClass(PDFLinkService, [{\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      var baseUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      this.baseUrl = baseUrl;\n      this.pdfDocument = pdfDocument;\n      this._pagesRefCache = Object.create(null);\n    }\n  }, {\n    key: \"setViewer\",\n    value: function setViewer(pdfViewer) {\n      this.pdfViewer = pdfViewer;\n    }\n  }, {\n    key: \"setHistory\",\n    value: function setHistory(pdfHistory) {\n      this.pdfHistory = pdfHistory;\n    }\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(dest) {\n      var _this = this;\n\n      var goToDestination = function goToDestination(_ref2) {\n        var namedDest = _ref2.namedDest,\n            explicitDest = _ref2.explicitDest;\n        var destRef = explicitDest[0];\n        var pageNumber;\n\n        if (destRef instanceof Object) {\n          pageNumber = _this._cachedPageNumber(destRef);\n\n          if (pageNumber === null) {\n            _this.pdfDocument.getPageIndex(destRef).then(function (pageIndex) {\n              _this.cachePageRef(pageIndex + 1, destRef);\n\n              goToDestination({\n                namedDest: namedDest,\n                explicitDest: explicitDest\n              });\n            })[\"catch\"](function () {\n              console.error(\"PDFLinkService.navigateTo: \\\"\".concat(destRef, \"\\\" is not \") + \"a valid page reference, for dest=\\\"\".concat(dest, \"\\\".\"));\n            });\n\n            return;\n          }\n        } else if (Number.isInteger(destRef)) {\n          pageNumber = destRef + 1;\n        } else {\n          console.error(\"PDFLinkService.navigateTo: \\\"\".concat(destRef, \"\\\" is not \") + \"a valid destination reference, for dest=\\\"\".concat(dest, \"\\\".\"));\n          return;\n        }\n\n        if (!pageNumber || pageNumber < 1 || pageNumber > _this.pagesCount) {\n          console.error(\"PDFLinkService.navigateTo: \\\"\".concat(pageNumber, \"\\\" is not \") + \"a valid page number, for dest=\\\"\".concat(dest, \"\\\".\"));\n          return;\n        }\n\n        if (_this.pdfHistory) {\n          _this.pdfHistory.pushCurrentPosition();\n\n          _this.pdfHistory.push({\n            namedDest: namedDest,\n            explicitDest: explicitDest,\n            pageNumber: pageNumber\n          });\n        }\n\n        _this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber,\n          destArray: explicitDest\n        });\n      };\n\n      new Promise(function (resolve, reject) {\n        if (typeof dest === \"string\") {\n          _this.pdfDocument.getDestination(dest).then(function (destArray) {\n            resolve({\n              namedDest: dest,\n              explicitDest: destArray\n            });\n          });\n\n          return;\n        }\n\n        resolve({\n          namedDest: \"\",\n          explicitDest: dest\n        });\n      }).then(function (data) {\n        if (!Array.isArray(data.explicitDest)) {\n          console.error(\"PDFLinkService.navigateTo: \\\"\".concat(data.explicitDest, \"\\\" is\") + \" not a valid destination array, for dest=\\\"\".concat(dest, \"\\\".\"));\n          return;\n        }\n\n        goToDestination(data);\n      });\n    }\n  }, {\n    key: \"getDestinationHash\",\n    value: function getDestinationHash(dest) {\n      if (typeof dest === \"string\") {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n\n      if (Array.isArray(dest)) {\n        var str = JSON.stringify(dest);\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n\n      return this.getAnchorUrl(\"\");\n    }\n  }, {\n    key: \"getAnchorUrl\",\n    value: function getAnchorUrl(anchor) {\n      return (this.baseUrl || \"\") + anchor;\n    }\n  }, {\n    key: \"setHash\",\n    value: function setHash(hash) {\n      var pageNumber, dest;\n\n      if (hash.includes(\"=\")) {\n        var params = (0, _ui_utils.parseQueryString)(hash);\n\n        if (\"search\" in params) {\n          this.eventBus.dispatch(\"findfromurlhash\", {\n            source: this,\n            query: params[\"search\"].replace(/\"/g, \"\"),\n            phraseSearch: params[\"phrase\"] === \"true\"\n          });\n        }\n\n        if (\"nameddest\" in params) {\n          this.navigateTo(params.nameddest);\n          return;\n        }\n\n        if (\"page\" in params) {\n          pageNumber = params.page | 0 || 1;\n        }\n\n        if (\"zoom\" in params) {\n          var zoomArgs = params.zoom.split(\",\");\n          var zoomArg = zoomArgs[0];\n          var zoomArgNumber = parseFloat(zoomArg);\n\n          if (!zoomArg.includes(\"Fit\")) {\n            dest = [null, {\n              name: \"XYZ\"\n            }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n          } else {\n            if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n              dest = [null, {\n                name: zoomArg\n              }];\n            } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n              dest = [null, {\n                name: zoomArg\n              }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n            } else if (zoomArg === \"FitR\") {\n              if (zoomArgs.length !== 5) {\n                console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n              } else {\n                dest = [null, {\n                  name: zoomArg\n                }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n              }\n            } else {\n              console.error(\"PDFLinkService.setHash: \\\"\".concat(zoomArg, \"\\\" is not \") + \"a valid zoom value.\");\n            }\n          }\n        }\n\n        if (dest) {\n          this.pdfViewer.scrollPageIntoView({\n            pageNumber: pageNumber || this.page,\n            destArray: dest,\n            allowNegativeOffset: true\n          });\n        } else if (pageNumber) {\n          this.page = pageNumber;\n        }\n\n        if (\"pagemode\" in params) {\n          this.eventBus.dispatch(\"pagemode\", {\n            source: this,\n            mode: params.pagemode\n          });\n        }\n      } else {\n        dest = unescape(hash);\n\n        try {\n          dest = JSON.parse(dest);\n\n          if (!Array.isArray(dest)) {\n            dest = dest.toString();\n          }\n        } catch (ex) {}\n\n        if (typeof dest === \"string\" || isValidExplicitDestination(dest)) {\n          this.navigateTo(dest);\n          return;\n        }\n\n        console.error(\"PDFLinkService.setHash: \\\"\".concat(unescape(hash), \"\\\" is not \") + \"a valid destination.\");\n      }\n    }\n  }, {\n    key: \"executeNamedAction\",\n    value: function executeNamedAction(action) {\n      switch (action) {\n        case \"GoBack\":\n          if (this.pdfHistory) {\n            this.pdfHistory.back();\n          }\n\n          break;\n\n        case \"GoForward\":\n          if (this.pdfHistory) {\n            this.pdfHistory.forward();\n          }\n\n          break;\n\n        case \"NextPage\":\n          if (this.page < this.pagesCount) {\n            this.page++;\n          }\n\n          break;\n\n        case \"PrevPage\":\n          if (this.page > 1) {\n            this.page--;\n          }\n\n          break;\n\n        case \"LastPage\":\n          this.page = this.pagesCount;\n          break;\n\n        case \"FirstPage\":\n          this.page = 1;\n          break;\n\n        default:\n          break;\n      }\n\n      this.eventBus.dispatch(\"namedaction\", {\n        source: this,\n        action: action\n      });\n    }\n  }, {\n    key: \"cachePageRef\",\n    value: function cachePageRef(pageNum, pageRef) {\n      if (!pageRef) {\n        return;\n      }\n\n      var refStr = pageRef.gen === 0 ? \"\".concat(pageRef.num, \"R\") : \"\".concat(pageRef.num, \"R\").concat(pageRef.gen);\n      this._pagesRefCache[refStr] = pageNum;\n    }\n  }, {\n    key: \"_cachedPageNumber\",\n    value: function _cachedPageNumber(pageRef) {\n      var refStr = pageRef.gen === 0 ? \"\".concat(pageRef.num, \"R\") : \"\".concat(pageRef.num, \"R\").concat(pageRef.gen);\n      return this._pagesRefCache && this._pagesRefCache[refStr] || null;\n    }\n  }, {\n    key: \"isPageVisible\",\n    value: function isPageVisible(pageNumber) {\n      return this.pdfViewer.isPageVisible(pageNumber);\n    }\n  }, {\n    key: \"pagesCount\",\n    get: function get() {\n      return this.pdfDocument ? this.pdfDocument.numPages : 0;\n    }\n  }, {\n    key: \"page\",\n    get: function get() {\n      return this.pdfViewer.currentPageNumber;\n    },\n    set: function set(value) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }, {\n    key: \"rotation\",\n    get: function get() {\n      return this.pdfViewer.pagesRotation;\n    },\n    set: function set(value) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }]);\n\n  return PDFLinkService;\n}();\n\nexports.PDFLinkService = PDFLinkService;\n\nfunction isValidExplicitDestination(dest) {\n  if (!Array.isArray(dest)) {\n    return false;\n  }\n\n  var destLength = dest.length;\n\n  if (destLength < 2) {\n    return false;\n  }\n\n  var page = dest[0];\n\n  if (!(_typeof(page) === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n    return false;\n  }\n\n  var zoom = dest[1];\n\n  if (!(_typeof(zoom) === \"object\" && typeof zoom.name === \"string\")) {\n    return false;\n  }\n\n  var allowNull = true;\n\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (destLength !== 5) {\n        return false;\n      }\n\n      break;\n\n    case \"Fit\":\n    case \"FitB\":\n      return destLength === 2;\n\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (destLength !== 3) {\n        return false;\n      }\n\n      break;\n\n    case \"FitR\":\n      if (destLength !== 6) {\n        return false;\n      }\n\n      allowNull = false;\n      break;\n\n    default:\n      return false;\n  }\n\n  for (var i = 2; i < destLength; i++) {\n    var param = dest[i];\n\n    if (!(typeof param === \"number\" || allowNull && param === null)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nvar SimpleLinkService =\n/*#__PURE__*/\nfunction () {\n  function SimpleLinkService() {\n    _classCallCheck(this, SimpleLinkService);\n\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n    this.externalLinkEnabled = true;\n  }\n\n  _createClass(SimpleLinkService, [{\n    key: \"navigateTo\",\n    value: function navigateTo(dest) {}\n  }, {\n    key: \"getDestinationHash\",\n    value: function getDestinationHash(dest) {\n      return \"#\";\n    }\n  }, {\n    key: \"getAnchorUrl\",\n    value: function getAnchorUrl(hash) {\n      return \"#\";\n    }\n  }, {\n    key: \"setHash\",\n    value: function setHash(hash) {}\n  }, {\n    key: \"executeNamedAction\",\n    value: function executeNamedAction(action) {}\n  }, {\n    key: \"cachePageRef\",\n    value: function cachePageRef(pageNum, pageRef) {}\n  }, {\n    key: \"isPageVisible\",\n    value: function isPageVisible(pageNumber) {\n      return true;\n    }\n  }, {\n    key: \"pagesCount\",\n    get: function get() {\n      return 0;\n    }\n  }, {\n    key: \"page\",\n    get: function get() {\n      return 0;\n    },\n    set: function set(value) {}\n  }, {\n    key: \"rotation\",\n    get: function get() {\n      return 0;\n    },\n    set: function set(value) {}\n  }]);\n\n  return SimpleLinkService;\n}();\n\nexports.SimpleLinkService = SimpleLinkService;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFOutlineViewer = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_TITLE = \"\\u2013\";\n\nvar PDFOutlineViewer =\n/*#__PURE__*/\nfunction () {\n  function PDFOutlineViewer(_ref) {\n    var container = _ref.container,\n        linkService = _ref.linkService,\n        eventBus = _ref.eventBus;\n\n    _classCallCheck(this, PDFOutlineViewer);\n\n    this.container = container;\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this.reset();\n    eventBus.on(\"toggleoutlinetree\", this.toggleOutlineTree.bind(this));\n  }\n\n  _createClass(PDFOutlineViewer, [{\n    key: \"reset\",\n    value: function reset() {\n      this.outline = null;\n      this.lastToggleIsShow = true;\n      this.container.textContent = \"\";\n      this.container.classList.remove(\"outlineWithDeepNesting\");\n    }\n  }, {\n    key: \"_dispatchEvent\",\n    value: function _dispatchEvent(outlineCount) {\n      this.eventBus.dispatch(\"outlineloaded\", {\n        source: this,\n        outlineCount: outlineCount\n      });\n    }\n  }, {\n    key: \"_bindLink\",\n    value: function _bindLink(element, _ref2) {\n      var url = _ref2.url,\n          newWindow = _ref2.newWindow,\n          dest = _ref2.dest;\n      var linkService = this.linkService;\n\n      if (url) {\n        (0, _pdfjsLib.addLinkAttributes)(element, {\n          url: url,\n          target: newWindow ? _pdfjsLib.LinkTarget.BLANK : linkService.externalLinkTarget,\n          rel: linkService.externalLinkRel,\n          enabled: linkService.externalLinkEnabled\n        });\n        return;\n      }\n\n      element.href = linkService.getDestinationHash(dest);\n\n      element.onclick = function () {\n        if (dest) {\n          linkService.navigateTo(dest);\n        }\n\n        return false;\n      };\n    }\n  }, {\n    key: \"_setStyles\",\n    value: function _setStyles(element, _ref3) {\n      var bold = _ref3.bold,\n          italic = _ref3.italic;\n      var styleStr = \"\";\n\n      if (bold) {\n        styleStr += \"font-weight: bold;\";\n      }\n\n      if (italic) {\n        styleStr += \"font-style: italic;\";\n      }\n\n      if (styleStr) {\n        element.setAttribute(\"style\", styleStr);\n      }\n    }\n  }, {\n    key: \"_addToggleButton\",\n    value: function _addToggleButton(div, _ref4) {\n      var _this = this;\n\n      var count = _ref4.count,\n          items = _ref4.items;\n      var toggler = document.createElement(\"div\");\n      toggler.className = \"outlineItemToggler\";\n\n      if (count < 0 && Math.abs(count) === items.length) {\n        toggler.classList.add(\"outlineItemsHidden\");\n      }\n\n      toggler.onclick = function (evt) {\n        evt.stopPropagation();\n        toggler.classList.toggle(\"outlineItemsHidden\");\n\n        if (evt.shiftKey) {\n          var shouldShowAll = !toggler.classList.contains(\"outlineItemsHidden\");\n\n          _this._toggleOutlineItem(div, shouldShowAll);\n        }\n      };\n\n      div.insertBefore(toggler, div.firstChild);\n    }\n  }, {\n    key: \"_toggleOutlineItem\",\n    value: function _toggleOutlineItem(root) {\n      var show = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.lastToggleIsShow = show;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = root.querySelectorAll(\".outlineItemToggler\")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var toggler = _step.value;\n          toggler.classList.toggle(\"outlineItemsHidden\", !show);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"toggleOutlineTree\",\n    value: function toggleOutlineTree() {\n      if (!this.outline) {\n        return;\n      }\n\n      this._toggleOutlineItem(this.container, !this.lastToggleIsShow);\n    }\n  }, {\n    key: \"render\",\n    value: function render(_ref5) {\n      var outline = _ref5.outline;\n      var outlineCount = 0;\n\n      if (this.outline) {\n        this.reset();\n      }\n\n      this.outline = outline || null;\n\n      if (!outline) {\n        this._dispatchEvent(outlineCount);\n\n        return;\n      }\n\n      var fragment = document.createDocumentFragment();\n      var queue = [{\n        parent: fragment,\n        items: this.outline\n      }];\n      var hasAnyNesting = false;\n\n      while (queue.length > 0) {\n        var levelData = queue.shift();\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = levelData.items[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var item = _step2.value;\n            var div = document.createElement(\"div\");\n            div.className = \"outlineItem\";\n            var element = document.createElement(\"a\");\n\n            this._bindLink(element, item);\n\n            this._setStyles(element, item);\n\n            element.textContent = (0, _pdfjsLib.removeNullCharacters)(item.title) || DEFAULT_TITLE;\n            div.appendChild(element);\n\n            if (item.items.length > 0) {\n              hasAnyNesting = true;\n\n              this._addToggleButton(div, item);\n\n              var itemsDiv = document.createElement(\"div\");\n              itemsDiv.className = \"outlineItems\";\n              div.appendChild(itemsDiv);\n              queue.push({\n                parent: itemsDiv,\n                items: item.items\n              });\n            }\n\n            levelData.parent.appendChild(div);\n            outlineCount++;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      if (hasAnyNesting) {\n        this.container.classList.add(\"outlineWithDeepNesting\");\n        this.lastToggleIsShow = fragment.querySelectorAll(\".outlineItemsHidden\").length === 0;\n      }\n\n      this.container.appendChild(fragment);\n\n      this._dispatchEvent(outlineCount);\n    }\n  }]);\n\n  return PDFOutlineViewer;\n}();\n\nexports.PDFOutlineViewer = PDFOutlineViewer;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPresentationMode = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS = 1500;\nvar DELAY_BEFORE_HIDING_CONTROLS = 3000;\nvar ACTIVE_SELECTOR = \"pdfPresentationMode\";\nvar CONTROLS_SELECTOR = \"pdfPresentationModeControls\";\nvar MOUSE_SCROLL_COOLDOWN_TIME = 50;\nvar PAGE_SWITCH_THRESHOLD = 0.1;\nvar SWIPE_MIN_DISTANCE_THRESHOLD = 50;\nvar SWIPE_ANGLE_THRESHOLD = Math.PI / 6;\n\nvar PDFPresentationMode =\n/*#__PURE__*/\nfunction () {\n  function PDFPresentationMode(_ref) {\n    var _this = this;\n\n    var container = _ref.container,\n        pdfViewer = _ref.pdfViewer,\n        eventBus = _ref.eventBus,\n        _ref$contextMenuItems = _ref.contextMenuItems,\n        contextMenuItems = _ref$contextMenuItems === void 0 ? null : _ref$contextMenuItems;\n\n    _classCallCheck(this, PDFPresentationMode);\n\n    this.container = container;\n    this.pdfViewer = pdfViewer;\n    this.eventBus = eventBus;\n    this.active = false;\n    this.args = null;\n    this.contextMenuOpen = false;\n    this.mouseScrollTimeStamp = 0;\n    this.mouseScrollDelta = 0;\n    this.touchSwipeState = null;\n\n    if (contextMenuItems) {\n      contextMenuItems.contextFirstPage.addEventListener(\"click\", function () {\n        _this.contextMenuOpen = false;\n\n        _this.eventBus.dispatch(\"firstpage\", {\n          source: _this\n        });\n      });\n      contextMenuItems.contextLastPage.addEventListener(\"click\", function () {\n        _this.contextMenuOpen = false;\n\n        _this.eventBus.dispatch(\"lastpage\", {\n          source: _this\n        });\n      });\n      contextMenuItems.contextPageRotateCw.addEventListener(\"click\", function () {\n        _this.contextMenuOpen = false;\n\n        _this.eventBus.dispatch(\"rotatecw\", {\n          source: _this\n        });\n      });\n      contextMenuItems.contextPageRotateCcw.addEventListener(\"click\", function () {\n        _this.contextMenuOpen = false;\n\n        _this.eventBus.dispatch(\"rotateccw\", {\n          source: _this\n        });\n      });\n    }\n  }\n\n  _createClass(PDFPresentationMode, [{\n    key: \"request\",\n    value: function request() {\n      if (this.switchInProgress || this.active || !this.pdfViewer.pagesCount) {\n        return false;\n      }\n\n      this._addFullscreenChangeListeners();\n\n      this._setSwitchInProgress();\n\n      this._notifyStateChange();\n\n      if (this.container.requestFullscreen) {\n        this.container.requestFullscreen();\n      } else if (this.container.mozRequestFullScreen) {\n        this.container.mozRequestFullScreen();\n      } else if (this.container.webkitRequestFullscreen) {\n        this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n      } else if (this.container.msRequestFullscreen) {\n        this.container.msRequestFullscreen();\n      } else {\n        return false;\n      }\n\n      this.args = {\n        page: this.pdfViewer.currentPageNumber,\n        previousScale: this.pdfViewer.currentScaleValue\n      };\n      return true;\n    }\n  }, {\n    key: \"_mouseWheel\",\n    value: function _mouseWheel(evt) {\n      if (!this.active) {\n        return;\n      }\n\n      evt.preventDefault();\n      var delta = (0, _ui_utils.normalizeWheelEventDelta)(evt);\n      var currentTime = new Date().getTime();\n      var storedTime = this.mouseScrollTimeStamp;\n\n      if (currentTime > storedTime && currentTime - storedTime < MOUSE_SCROLL_COOLDOWN_TIME) {\n        return;\n      }\n\n      if (this.mouseScrollDelta > 0 && delta < 0 || this.mouseScrollDelta < 0 && delta > 0) {\n        this._resetMouseScrollState();\n      }\n\n      this.mouseScrollDelta += delta;\n\n      if (Math.abs(this.mouseScrollDelta) >= PAGE_SWITCH_THRESHOLD) {\n        var totalDelta = this.mouseScrollDelta;\n\n        this._resetMouseScrollState();\n\n        var success = totalDelta > 0 ? this._goToPreviousPage() : this._goToNextPage();\n\n        if (success) {\n          this.mouseScrollTimeStamp = currentTime;\n        }\n      }\n    }\n  }, {\n    key: \"_goToPreviousPage\",\n    value: function _goToPreviousPage() {\n      var page = this.pdfViewer.currentPageNumber;\n\n      if (page <= 1) {\n        return false;\n      }\n\n      this.pdfViewer.currentPageNumber = page - 1;\n      return true;\n    }\n  }, {\n    key: \"_goToNextPage\",\n    value: function _goToNextPage() {\n      var page = this.pdfViewer.currentPageNumber;\n\n      if (page >= this.pdfViewer.pagesCount) {\n        return false;\n      }\n\n      this.pdfViewer.currentPageNumber = page + 1;\n      return true;\n    }\n  }, {\n    key: \"_notifyStateChange\",\n    value: function _notifyStateChange() {\n      this.eventBus.dispatch(\"presentationmodechanged\", {\n        source: this,\n        active: this.active,\n        switchInProgress: !!this.switchInProgress\n      });\n    }\n  }, {\n    key: \"_setSwitchInProgress\",\n    value: function _setSwitchInProgress() {\n      var _this2 = this;\n\n      if (this.switchInProgress) {\n        clearTimeout(this.switchInProgress);\n      }\n\n      this.switchInProgress = setTimeout(function () {\n        _this2._removeFullscreenChangeListeners();\n\n        delete _this2.switchInProgress;\n\n        _this2._notifyStateChange();\n      }, DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS);\n    }\n  }, {\n    key: \"_resetSwitchInProgress\",\n    value: function _resetSwitchInProgress() {\n      if (this.switchInProgress) {\n        clearTimeout(this.switchInProgress);\n        delete this.switchInProgress;\n      }\n    }\n  }, {\n    key: \"_enter\",\n    value: function _enter() {\n      var _this3 = this;\n\n      this.active = true;\n\n      this._resetSwitchInProgress();\n\n      this._notifyStateChange();\n\n      this.container.classList.add(ACTIVE_SELECTOR);\n      setTimeout(function () {\n        _this3.pdfViewer.currentPageNumber = _this3.args.page;\n        _this3.pdfViewer.currentScaleValue = \"page-fit\";\n      }, 0);\n\n      this._addWindowListeners();\n\n      this._showControls();\n\n      this.contextMenuOpen = false;\n      this.container.setAttribute(\"contextmenu\", \"viewerContextMenu\");\n      window.getSelection().removeAllRanges();\n    }\n  }, {\n    key: \"_exit\",\n    value: function _exit() {\n      var _this4 = this;\n\n      var page = this.pdfViewer.currentPageNumber;\n      this.container.classList.remove(ACTIVE_SELECTOR);\n      setTimeout(function () {\n        _this4.active = false;\n\n        _this4._removeFullscreenChangeListeners();\n\n        _this4._notifyStateChange();\n\n        _this4.pdfViewer.currentScaleValue = _this4.args.previousScale;\n        _this4.pdfViewer.currentPageNumber = page;\n        _this4.args = null;\n      }, 0);\n\n      this._removeWindowListeners();\n\n      this._hideControls();\n\n      this._resetMouseScrollState();\n\n      this.container.removeAttribute(\"contextmenu\");\n      this.contextMenuOpen = false;\n    }\n  }, {\n    key: \"_mouseDown\",\n    value: function _mouseDown(evt) {\n      if (this.contextMenuOpen) {\n        this.contextMenuOpen = false;\n        evt.preventDefault();\n        return;\n      }\n\n      if (evt.button === 0) {\n        var isInternalLink = evt.target.href && evt.target.classList.contains(\"internalLink\");\n\n        if (!isInternalLink) {\n          evt.preventDefault();\n\n          if (evt.shiftKey) {\n            this._goToPreviousPage();\n          } else {\n            this._goToNextPage();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_contextMenu\",\n    value: function _contextMenu() {\n      this.contextMenuOpen = true;\n    }\n  }, {\n    key: \"_showControls\",\n    value: function _showControls() {\n      var _this5 = this;\n\n      if (this.controlsTimeout) {\n        clearTimeout(this.controlsTimeout);\n      } else {\n        this.container.classList.add(CONTROLS_SELECTOR);\n      }\n\n      this.controlsTimeout = setTimeout(function () {\n        _this5.container.classList.remove(CONTROLS_SELECTOR);\n\n        delete _this5.controlsTimeout;\n      }, DELAY_BEFORE_HIDING_CONTROLS);\n    }\n  }, {\n    key: \"_hideControls\",\n    value: function _hideControls() {\n      if (!this.controlsTimeout) {\n        return;\n      }\n\n      clearTimeout(this.controlsTimeout);\n      this.container.classList.remove(CONTROLS_SELECTOR);\n      delete this.controlsTimeout;\n    }\n  }, {\n    key: \"_resetMouseScrollState\",\n    value: function _resetMouseScrollState() {\n      this.mouseScrollTimeStamp = 0;\n      this.mouseScrollDelta = 0;\n    }\n  }, {\n    key: \"_touchSwipe\",\n    value: function _touchSwipe(evt) {\n      if (!this.active) {\n        return;\n      }\n\n      if (evt.touches.length > 1) {\n        this.touchSwipeState = null;\n        return;\n      }\n\n      switch (evt.type) {\n        case \"touchstart\":\n          this.touchSwipeState = {\n            startX: evt.touches[0].pageX,\n            startY: evt.touches[0].pageY,\n            endX: evt.touches[0].pageX,\n            endY: evt.touches[0].pageY\n          };\n          break;\n\n        case \"touchmove\":\n          if (this.touchSwipeState === null) {\n            return;\n          }\n\n          this.touchSwipeState.endX = evt.touches[0].pageX;\n          this.touchSwipeState.endY = evt.touches[0].pageY;\n          evt.preventDefault();\n          break;\n\n        case \"touchend\":\n          if (this.touchSwipeState === null) {\n            return;\n          }\n\n          var delta = 0;\n          var dx = this.touchSwipeState.endX - this.touchSwipeState.startX;\n          var dy = this.touchSwipeState.endY - this.touchSwipeState.startY;\n          var absAngle = Math.abs(Math.atan2(dy, dx));\n\n          if (Math.abs(dx) > SWIPE_MIN_DISTANCE_THRESHOLD && (absAngle <= SWIPE_ANGLE_THRESHOLD || absAngle >= Math.PI - SWIPE_ANGLE_THRESHOLD)) {\n            delta = dx;\n          } else if (Math.abs(dy) > SWIPE_MIN_DISTANCE_THRESHOLD && Math.abs(absAngle - Math.PI / 2) <= SWIPE_ANGLE_THRESHOLD) {\n            delta = dy;\n          }\n\n          if (delta > 0) {\n            this._goToPreviousPage();\n          } else if (delta < 0) {\n            this._goToNextPage();\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"_addWindowListeners\",\n    value: function _addWindowListeners() {\n      this.showControlsBind = this._showControls.bind(this);\n      this.mouseDownBind = this._mouseDown.bind(this);\n      this.mouseWheelBind = this._mouseWheel.bind(this);\n      this.resetMouseScrollStateBind = this._resetMouseScrollState.bind(this);\n      this.contextMenuBind = this._contextMenu.bind(this);\n      this.touchSwipeBind = this._touchSwipe.bind(this);\n      window.addEventListener(\"mousemove\", this.showControlsBind);\n      window.addEventListener(\"mousedown\", this.mouseDownBind);\n      window.addEventListener(\"wheel\", this.mouseWheelBind);\n      window.addEventListener(\"keydown\", this.resetMouseScrollStateBind);\n      window.addEventListener(\"contextmenu\", this.contextMenuBind);\n      window.addEventListener(\"touchstart\", this.touchSwipeBind);\n      window.addEventListener(\"touchmove\", this.touchSwipeBind);\n      window.addEventListener(\"touchend\", this.touchSwipeBind);\n    }\n  }, {\n    key: \"_removeWindowListeners\",\n    value: function _removeWindowListeners() {\n      window.removeEventListener(\"mousemove\", this.showControlsBind);\n      window.removeEventListener(\"mousedown\", this.mouseDownBind);\n      window.removeEventListener(\"wheel\", this.mouseWheelBind);\n      window.removeEventListener(\"keydown\", this.resetMouseScrollStateBind);\n      window.removeEventListener(\"contextmenu\", this.contextMenuBind);\n      window.removeEventListener(\"touchstart\", this.touchSwipeBind);\n      window.removeEventListener(\"touchmove\", this.touchSwipeBind);\n      window.removeEventListener(\"touchend\", this.touchSwipeBind);\n      delete this.showControlsBind;\n      delete this.mouseDownBind;\n      delete this.mouseWheelBind;\n      delete this.resetMouseScrollStateBind;\n      delete this.contextMenuBind;\n      delete this.touchSwipeBind;\n    }\n  }, {\n    key: \"_fullscreenChange\",\n    value: function _fullscreenChange() {\n      if (this.isFullscreen) {\n        this._enter();\n      } else {\n        this._exit();\n      }\n    }\n  }, {\n    key: \"_addFullscreenChangeListeners\",\n    value: function _addFullscreenChangeListeners() {\n      this.fullscreenChangeBind = this._fullscreenChange.bind(this);\n      window.addEventListener(\"fullscreenchange\", this.fullscreenChangeBind);\n      window.addEventListener(\"mozfullscreenchange\", this.fullscreenChangeBind);\n      window.addEventListener(\"webkitfullscreenchange\", this.fullscreenChangeBind);\n      window.addEventListener(\"MSFullscreenChange\", this.fullscreenChangeBind);\n    }\n  }, {\n    key: \"_removeFullscreenChangeListeners\",\n    value: function _removeFullscreenChangeListeners() {\n      window.removeEventListener(\"fullscreenchange\", this.fullscreenChangeBind);\n      window.removeEventListener(\"mozfullscreenchange\", this.fullscreenChangeBind);\n      window.removeEventListener(\"webkitfullscreenchange\", this.fullscreenChangeBind);\n      window.removeEventListener(\"MSFullscreenChange\", this.fullscreenChangeBind);\n      delete this.fullscreenChangeBind;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return !!(document.fullscreenElement || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement);\n    }\n  }]);\n\n  return PDFPresentationMode;\n}();\n\nexports.PDFPresentationMode = PDFPresentationMode;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSidebarResizer = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SIDEBAR_WIDTH_VAR = \"--sidebar-width\";\nvar SIDEBAR_MIN_WIDTH = 200;\nvar SIDEBAR_RESIZING_CLASS = \"sidebarResizing\";\n\nvar PDFSidebarResizer =\n/*#__PURE__*/\nfunction () {\n  function PDFSidebarResizer(options, eventBus) {\n    var _this = this;\n\n    var l10n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _ui_utils.NullL10n;\n\n    _classCallCheck(this, PDFSidebarResizer);\n\n    this.enabled = false;\n    this.isRTL = false;\n    this.sidebarOpen = false;\n    this.doc = document.documentElement;\n    this._width = null;\n    this._outerContainerWidth = null;\n    this._boundEvents = Object.create(null);\n    this.outerContainer = options.outerContainer;\n    this.resizer = options.resizer;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n\n    if (typeof CSS === \"undefined\" || typeof CSS.supports !== \"function\" || !CSS.supports(SIDEBAR_WIDTH_VAR, \"calc(-1 * \".concat(SIDEBAR_MIN_WIDTH, \"px)\"))) {\n      console.warn(\"PDFSidebarResizer: \" + \"The browser does not support resizing of the sidebar.\");\n      return;\n    }\n\n    this.enabled = true;\n    this.resizer.classList.remove(\"hidden\");\n    this.l10n.getDirection().then(function (dir) {\n      _this.isRTL = dir === \"rtl\";\n    });\n\n    this._addEventListeners();\n  }\n\n  _createClass(PDFSidebarResizer, [{\n    key: \"_updateWidth\",\n    value: function _updateWidth() {\n      var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (!this.enabled) {\n        return false;\n      }\n\n      var newWidth = (0, _ui_utils.clamp)(width, SIDEBAR_MIN_WIDTH, Math.floor(this.outerContainerWidth / 2));\n\n      if (newWidth === this._width) {\n        return false;\n      }\n\n      this._width = newWidth;\n      this.doc.style.setProperty(SIDEBAR_WIDTH_VAR, \"\".concat(newWidth, \"px\"));\n      return true;\n    }\n  }, {\n    key: \"_mouseMove\",\n    value: function _mouseMove(evt) {\n      var width = evt.clientX;\n\n      if (this.isRTL) {\n        width = this.outerContainerWidth - width;\n      }\n\n      this._updateWidth(width);\n    }\n  }, {\n    key: \"_mouseUp\",\n    value: function _mouseUp(evt) {\n      this.outerContainer.classList.remove(SIDEBAR_RESIZING_CLASS);\n      this.eventBus.dispatch(\"resize\", {\n        source: this\n      });\n      var _boundEvents = this._boundEvents;\n      window.removeEventListener(\"mousemove\", _boundEvents.mouseMove);\n      window.removeEventListener(\"mouseup\", _boundEvents.mouseUp);\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      var _this2 = this;\n\n      if (!this.enabled) {\n        return;\n      }\n\n      var _boundEvents = this._boundEvents;\n      _boundEvents.mouseMove = this._mouseMove.bind(this);\n      _boundEvents.mouseUp = this._mouseUp.bind(this);\n      this.resizer.addEventListener(\"mousedown\", function (evt) {\n        if (evt.button !== 0) {\n          return;\n        }\n\n        _this2.outerContainer.classList.add(SIDEBAR_RESIZING_CLASS);\n\n        window.addEventListener(\"mousemove\", _boundEvents.mouseMove);\n        window.addEventListener(\"mouseup\", _boundEvents.mouseUp);\n      });\n      this.eventBus.on(\"sidebarviewchanged\", function (evt) {\n        _this2.sidebarOpen = !!(evt && evt.view);\n      });\n      this.eventBus.on(\"resize\", function (evt) {\n        if (!evt || evt.source !== window) {\n          return;\n        }\n\n        _this2._outerContainerWidth = null;\n\n        if (!_this2._width) {\n          return;\n        }\n\n        if (!_this2.sidebarOpen) {\n          _this2._updateWidth(_this2._width);\n\n          return;\n        }\n\n        _this2.outerContainer.classList.add(SIDEBAR_RESIZING_CLASS);\n\n        var updated = _this2._updateWidth(_this2._width);\n\n        Promise.resolve().then(function () {\n          _this2.outerContainer.classList.remove(SIDEBAR_RESIZING_CLASS);\n\n          if (updated) {\n            _this2.eventBus.dispatch(\"resize\", {\n              source: _this2\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"outerContainerWidth\",\n    get: function get() {\n      if (!this._outerContainerWidth) {\n        this._outerContainerWidth = this.outerContainer.clientWidth;\n      }\n\n      return this._outerContainerWidth;\n    }\n  }]);\n\n  return PDFSidebarResizer;\n}();\n\nexports.PDFSidebarResizer = PDFSidebarResizer;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFThumbnailViewer = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_thumbnail_view = __webpack_require__(26);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar THUMBNAIL_SCROLL_MARGIN = -19;\nvar THUMBNAIL_SELECTED_CLASS = \"selected\";\n\nvar PDFThumbnailViewer =\n/*#__PURE__*/\nfunction () {\n  function PDFThumbnailViewer(_ref) {\n    var container = _ref.container,\n        linkService = _ref.linkService,\n        renderingQueue = _ref.renderingQueue,\n        _ref$l10n = _ref.l10n,\n        l10n = _ref$l10n === void 0 ? _ui_utils.NullL10n : _ref$l10n;\n\n    _classCallCheck(this, PDFThumbnailViewer);\n\n    this.container = container;\n    this.linkService = linkService;\n    this.renderingQueue = renderingQueue;\n    this.l10n = l10n;\n    this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdated.bind(this));\n\n    this._resetView();\n  }\n\n  _createClass(PDFThumbnailViewer, [{\n    key: \"_scrollUpdated\",\n    value: function _scrollUpdated() {\n      this.renderingQueue.renderHighestPriority();\n    }\n  }, {\n    key: \"getThumbnail\",\n    value: function getThumbnail(index) {\n      return this._thumbnails[index];\n    }\n  }, {\n    key: \"_getVisibleThumbs\",\n    value: function _getVisibleThumbs() {\n      return (0, _ui_utils.getVisibleElements)(this.container, this._thumbnails);\n    }\n  }, {\n    key: \"scrollThumbnailIntoView\",\n    value: function scrollThumbnailIntoView(pageNumber) {\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      var thumbnailView = this._thumbnails[pageNumber - 1];\n\n      if (!thumbnailView) {\n        console.error('scrollThumbnailIntoView: Invalid \"pageNumber\" parameter.');\n        return;\n      }\n\n      if (pageNumber !== this._currentPageNumber) {\n        var prevThumbnailView = this._thumbnails[this._currentPageNumber - 1];\n        prevThumbnailView.div.classList.remove(THUMBNAIL_SELECTED_CLASS);\n        thumbnailView.div.classList.add(THUMBNAIL_SELECTED_CLASS);\n      }\n\n      var visibleThumbs = this._getVisibleThumbs();\n\n      var numVisibleThumbs = visibleThumbs.views.length;\n\n      if (numVisibleThumbs > 0) {\n        var first = visibleThumbs.first.id;\n        var last = numVisibleThumbs > 1 ? visibleThumbs.last.id : first;\n        var shouldScroll = false;\n\n        if (pageNumber <= first || pageNumber >= last) {\n          shouldScroll = true;\n        } else {\n          visibleThumbs.views.some(function (view) {\n            if (view.id !== pageNumber) {\n              return false;\n            }\n\n            shouldScroll = view.percent < 100;\n            return true;\n          });\n        }\n\n        if (shouldScroll) {\n          (0, _ui_utils.scrollIntoView)(thumbnailView.div, {\n            top: THUMBNAIL_SCROLL_MARGIN\n          });\n        }\n      }\n\n      this._currentPageNumber = pageNumber;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      _pdf_thumbnail_view.PDFThumbnailView.cleanup();\n    }\n  }, {\n    key: \"_resetView\",\n    value: function _resetView() {\n      this._thumbnails = [];\n      this._currentPageNumber = 1;\n      this._pageLabels = null;\n      this._pagesRotation = 0;\n      this._pagesRequests = new WeakMap();\n      this.container.textContent = \"\";\n    }\n  }, {\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      var _this = this;\n\n      if (this.pdfDocument) {\n        this._cancelRendering();\n\n        this._resetView();\n      }\n\n      this.pdfDocument = pdfDocument;\n\n      if (!pdfDocument) {\n        return;\n      }\n\n      pdfDocument.getPage(1).then(function (firstPdfPage) {\n        var pagesCount = pdfDocument.numPages;\n        var viewport = firstPdfPage.getViewport({\n          scale: 1\n        });\n\n        for (var pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n          var thumbnail = new _pdf_thumbnail_view.PDFThumbnailView({\n            container: _this.container,\n            id: pageNum,\n            defaultViewport: viewport.clone(),\n            linkService: _this.linkService,\n            renderingQueue: _this.renderingQueue,\n            disableCanvasToImageConversion: false,\n            l10n: _this.l10n\n          });\n\n          _this._thumbnails.push(thumbnail);\n        }\n\n        var firstThumbnailView = _this._thumbnails[0];\n\n        if (firstThumbnailView) {\n          firstThumbnailView.setPdfPage(firstPdfPage);\n        }\n\n        var thumbnailView = _this._thumbnails[_this._currentPageNumber - 1];\n        thumbnailView.div.classList.add(THUMBNAIL_SELECTED_CLASS);\n      })[\"catch\"](function (reason) {\n        console.error(\"Unable to initialize thumbnail viewer\", reason);\n      });\n    }\n  }, {\n    key: \"_cancelRendering\",\n    value: function _cancelRendering() {\n      for (var i = 0, ii = this._thumbnails.length; i < ii; i++) {\n        if (this._thumbnails[i]) {\n          this._thumbnails[i].cancelRendering();\n        }\n      }\n    }\n  }, {\n    key: \"setPageLabels\",\n    value: function setPageLabels(labels) {\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      if (!labels) {\n        this._pageLabels = null;\n      } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n        this._pageLabels = null;\n        console.error(\"PDFThumbnailViewer_setPageLabels: Invalid page labels.\");\n      } else {\n        this._pageLabels = labels;\n      }\n\n      for (var i = 0, ii = this._thumbnails.length; i < ii; i++) {\n        var label = this._pageLabels && this._pageLabels[i];\n\n        this._thumbnails[i].setPageLabel(label);\n      }\n    }\n  }, {\n    key: \"_ensurePdfPageLoaded\",\n    value: function _ensurePdfPageLoaded(thumbView) {\n      var _this2 = this;\n\n      if (thumbView.pdfPage) {\n        return Promise.resolve(thumbView.pdfPage);\n      }\n\n      if (this._pagesRequests.has(thumbView)) {\n        return this._pagesRequests.get(thumbView);\n      }\n\n      var promise = this.pdfDocument.getPage(thumbView.id).then(function (pdfPage) {\n        if (!thumbView.pdfPage) {\n          thumbView.setPdfPage(pdfPage);\n        }\n\n        _this2._pagesRequests[\"delete\"](thumbView);\n\n        return pdfPage;\n      })[\"catch\"](function (reason) {\n        console.error(\"Unable to get page for thumb view\", reason);\n\n        _this2._pagesRequests[\"delete\"](thumbView);\n      });\n\n      this._pagesRequests.set(thumbView, promise);\n\n      return promise;\n    }\n  }, {\n    key: \"forceRendering\",\n    value: function forceRendering() {\n      var _this3 = this;\n\n      var visibleThumbs = this._getVisibleThumbs();\n\n      var thumbView = this.renderingQueue.getHighestPriority(visibleThumbs, this._thumbnails, this.scroll.down);\n\n      if (thumbView) {\n        this._ensurePdfPageLoaded(thumbView).then(function () {\n          _this3.renderingQueue.renderView(thumbView);\n        });\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"pagesRotation\",\n    get: function get() {\n      return this._pagesRotation;\n    },\n    set: function set(rotation) {\n      if (!(0, _ui_utils.isValidRotation)(rotation)) {\n        throw new Error(\"Invalid thumbnails rotation angle.\");\n      }\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      if (this._pagesRotation === rotation) {\n        return;\n      }\n\n      this._pagesRotation = rotation;\n\n      for (var i = 0, ii = this._thumbnails.length; i < ii; i++) {\n        this._thumbnails[i].update(rotation);\n      }\n    }\n  }]);\n\n  return PDFThumbnailViewer;\n}();\n\nexports.PDFThumbnailViewer = PDFThumbnailViewer;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFThumbnailView = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_rendering_queue = __webpack_require__(11);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MAX_NUM_SCALING_STEPS = 3;\nvar THUMBNAIL_CANVAS_BORDER_WIDTH = 1;\nvar THUMBNAIL_WIDTH = 98;\n\nvar TempImageFactory = function TempImageFactoryClosure() {\n  var tempCanvasCache = null;\n  return {\n    getCanvas: function getCanvas(width, height) {\n      var tempCanvas = tempCanvasCache;\n\n      if (!tempCanvas) {\n        tempCanvas = document.createElement(\"canvas\");\n        tempCanvasCache = tempCanvas;\n      }\n\n      tempCanvas.width = width;\n      tempCanvas.height = height;\n      tempCanvas.mozOpaque = true;\n      var ctx = tempCanvas.getContext(\"2d\", {\n        alpha: false\n      });\n      ctx.save();\n      ctx.fillStyle = \"rgb(255, 255, 255)\";\n      ctx.fillRect(0, 0, width, height);\n      ctx.restore();\n      return tempCanvas;\n    },\n    destroyCanvas: function destroyCanvas() {\n      var tempCanvas = tempCanvasCache;\n\n      if (tempCanvas) {\n        tempCanvas.width = 0;\n        tempCanvas.height = 0;\n      }\n\n      tempCanvasCache = null;\n    }\n  };\n}();\n\nvar PDFThumbnailView =\n/*#__PURE__*/\nfunction () {\n  function PDFThumbnailView(_ref) {\n    var container = _ref.container,\n        id = _ref.id,\n        defaultViewport = _ref.defaultViewport,\n        linkService = _ref.linkService,\n        renderingQueue = _ref.renderingQueue,\n        _ref$disableCanvasToI = _ref.disableCanvasToImageConversion,\n        disableCanvasToImageConversion = _ref$disableCanvasToI === void 0 ? false : _ref$disableCanvasToI,\n        _ref$l10n = _ref.l10n,\n        l10n = _ref$l10n === void 0 ? _ui_utils.NullL10n : _ref$l10n;\n\n    _classCallCheck(this, PDFThumbnailView);\n\n    this.id = id;\n    this.renderingId = \"thumbnail\" + id;\n    this.pageLabel = null;\n    this.pdfPage = null;\n    this.rotation = 0;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this.linkService = linkService;\n    this.renderingQueue = renderingQueue;\n    this.renderTask = null;\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.resume = null;\n    this.disableCanvasToImageConversion = disableCanvasToImageConversion;\n    this.pageWidth = this.viewport.width;\n    this.pageHeight = this.viewport.height;\n    this.pageRatio = this.pageWidth / this.pageHeight;\n    this.canvasWidth = THUMBNAIL_WIDTH;\n    this.canvasHeight = this.canvasWidth / this.pageRatio | 0;\n    this.scale = this.canvasWidth / this.pageWidth;\n    this.l10n = l10n;\n    var anchor = document.createElement(\"a\");\n    anchor.href = linkService.getAnchorUrl(\"#page=\" + id);\n    this.l10n.get(\"thumb_page_title\", {\n      page: id\n    }, \"Page {{page}}\").then(function (msg) {\n      anchor.title = msg;\n    });\n\n    anchor.onclick = function () {\n      linkService.page = id;\n      return false;\n    };\n\n    this.anchor = anchor;\n    var div = document.createElement(\"div\");\n    div.className = \"thumbnail\";\n    div.setAttribute(\"data-page-number\", this.id);\n    this.div = div;\n    var ring = document.createElement(\"div\");\n    ring.className = \"thumbnailSelectionRing\";\n    var borderAdjustment = 2 * THUMBNAIL_CANVAS_BORDER_WIDTH;\n    ring.style.width = this.canvasWidth + borderAdjustment + \"px\";\n    ring.style.height = this.canvasHeight + borderAdjustment + \"px\";\n    this.ring = ring;\n    div.appendChild(ring);\n    anchor.appendChild(div);\n    container.appendChild(anchor);\n  }\n\n  _createClass(PDFThumbnailView, [{\n    key: \"setPdfPage\",\n    value: function setPdfPage(pdfPage) {\n      this.pdfPage = pdfPage;\n      this.pdfPageRotate = pdfPage.rotate;\n      var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n      this.viewport = pdfPage.getViewport({\n        scale: 1,\n        rotation: totalRotation\n      });\n      this.reset();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.cancelRendering();\n      this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n      this.pageWidth = this.viewport.width;\n      this.pageHeight = this.viewport.height;\n      this.pageRatio = this.pageWidth / this.pageHeight;\n      this.canvasHeight = this.canvasWidth / this.pageRatio | 0;\n      this.scale = this.canvasWidth / this.pageWidth;\n      this.div.removeAttribute(\"data-loaded\");\n      var ring = this.ring;\n      var childNodes = ring.childNodes;\n\n      for (var i = childNodes.length - 1; i >= 0; i--) {\n        ring.removeChild(childNodes[i]);\n      }\n\n      var borderAdjustment = 2 * THUMBNAIL_CANVAS_BORDER_WIDTH;\n      ring.style.width = this.canvasWidth + borderAdjustment + \"px\";\n      ring.style.height = this.canvasHeight + borderAdjustment + \"px\";\n\n      if (this.canvas) {\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n\n      if (this.image) {\n        this.image.removeAttribute(\"src\");\n        delete this.image;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(rotation) {\n      if (typeof rotation !== \"undefined\") {\n        this.rotation = rotation;\n      }\n\n      var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n      this.viewport = this.viewport.clone({\n        scale: 1,\n        rotation: totalRotation\n      });\n      this.reset();\n    }\n  }, {\n    key: \"cancelRendering\",\n    value: function cancelRendering() {\n      if (this.renderTask) {\n        this.renderTask.cancel();\n        this.renderTask = null;\n      }\n\n      this.resume = null;\n    }\n  }, {\n    key: \"_getPageDrawContext\",\n    value: function _getPageDrawContext() {\n      var noCtxScale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var canvas = document.createElement(\"canvas\");\n      this.canvas = canvas;\n      canvas.mozOpaque = true;\n      var ctx = canvas.getContext(\"2d\", {\n        alpha: false\n      });\n      var outputScale = (0, _ui_utils.getOutputScale)(ctx);\n      canvas.width = this.canvasWidth * outputScale.sx | 0;\n      canvas.height = this.canvasHeight * outputScale.sy | 0;\n      canvas.style.width = this.canvasWidth + \"px\";\n      canvas.style.height = this.canvasHeight + \"px\";\n\n      if (!noCtxScale && outputScale.scaled) {\n        ctx.scale(outputScale.sx, outputScale.sy);\n      }\n\n      return ctx;\n    }\n  }, {\n    key: \"_convertCanvasToImage\",\n    value: function _convertCanvasToImage() {\n      var _this = this;\n\n      if (!this.canvas) {\n        return;\n      }\n\n      if (this.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n        return;\n      }\n\n      var id = this.renderingId;\n      var className = \"thumbnailImage\";\n\n      if (this.disableCanvasToImageConversion) {\n        this.canvas.id = id;\n        this.canvas.className = className;\n        this.l10n.get(\"thumb_page_canvas\", {\n          page: this.pageId\n        }, \"Thumbnail of Page {{page}}\").then(function (msg) {\n          _this.canvas.setAttribute(\"aria-label\", msg);\n        });\n        this.div.setAttribute(\"data-loaded\", true);\n        this.ring.appendChild(this.canvas);\n        return;\n      }\n\n      var image = document.createElement(\"img\");\n      image.id = id;\n      image.className = className;\n      this.l10n.get(\"thumb_page_canvas\", {\n        page: this.pageId\n      }, \"Thumbnail of Page {{page}}\").then(function (msg) {\n        image.setAttribute(\"aria-label\", msg);\n      });\n      image.style.width = this.canvasWidth + \"px\";\n      image.style.height = this.canvasHeight + \"px\";\n      image.src = this.canvas.toDataURL();\n      this.image = image;\n      this.div.setAttribute(\"data-loaded\", true);\n      this.ring.appendChild(image);\n      this.canvas.width = 0;\n      this.canvas.height = 0;\n      delete this.canvas;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this2 = this;\n\n      if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n        console.error(\"Must be in new state before drawing\");\n        return Promise.resolve(undefined);\n      }\n\n      this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n      var renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n\n      var finishRenderTask = function finishRenderTask(error) {\n        if (renderTask === _this2.renderTask) {\n          _this2.renderTask = null;\n        }\n\n        if (error instanceof _pdfjsLib.RenderingCancelledException) {\n          renderCapability.resolve(undefined);\n          return;\n        }\n\n        _this2.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n        _this2._convertCanvasToImage();\n\n        if (!error) {\n          renderCapability.resolve(undefined);\n        } else {\n          renderCapability.reject(error);\n        }\n      };\n\n      var ctx = this._getPageDrawContext();\n\n      var drawViewport = this.viewport.clone({\n        scale: this.scale\n      });\n\n      var renderContinueCallback = function renderContinueCallback(cont) {\n        if (!_this2.renderingQueue.isHighestPriority(_this2)) {\n          _this2.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n          _this2.resume = function () {\n            _this2.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n            cont();\n          };\n\n          return;\n        }\n\n        cont();\n      };\n\n      var renderContext = {\n        canvasContext: ctx,\n        viewport: drawViewport\n      };\n      var renderTask = this.renderTask = this.pdfPage.render(renderContext);\n      renderTask.onContinue = renderContinueCallback;\n      renderTask.promise.then(function () {\n        finishRenderTask(null);\n      }, function (error) {\n        finishRenderTask(error);\n      });\n      return renderCapability.promise;\n    }\n  }, {\n    key: \"setImage\",\n    value: function setImage(pageView) {\n      if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n        return;\n      }\n\n      var img = pageView.canvas;\n\n      if (!img) {\n        return;\n      }\n\n      if (!this.pdfPage) {\n        this.setPdfPage(pageView.pdfPage);\n      }\n\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      var ctx = this._getPageDrawContext(true);\n\n      var canvas = ctx.canvas;\n\n      if (img.width <= 2 * canvas.width) {\n        ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\n\n        this._convertCanvasToImage();\n\n        return;\n      }\n\n      var reducedWidth = canvas.width << MAX_NUM_SCALING_STEPS;\n      var reducedHeight = canvas.height << MAX_NUM_SCALING_STEPS;\n      var reducedImage = TempImageFactory.getCanvas(reducedWidth, reducedHeight);\n      var reducedImageCtx = reducedImage.getContext(\"2d\");\n\n      while (reducedWidth > img.width || reducedHeight > img.height) {\n        reducedWidth >>= 1;\n        reducedHeight >>= 1;\n      }\n\n      reducedImageCtx.drawImage(img, 0, 0, img.width, img.height, 0, 0, reducedWidth, reducedHeight);\n\n      while (reducedWidth > 2 * canvas.width) {\n        reducedImageCtx.drawImage(reducedImage, 0, 0, reducedWidth, reducedHeight, 0, 0, reducedWidth >> 1, reducedHeight >> 1);\n        reducedWidth >>= 1;\n        reducedHeight >>= 1;\n      }\n\n      ctx.drawImage(reducedImage, 0, 0, reducedWidth, reducedHeight, 0, 0, canvas.width, canvas.height);\n\n      this._convertCanvasToImage();\n    }\n  }, {\n    key: \"setPageLabel\",\n    value: function setPageLabel(label) {\n      var _this3 = this;\n\n      this.pageLabel = typeof label === \"string\" ? label : null;\n      this.l10n.get(\"thumb_page_title\", {\n        page: this.pageId\n      }, \"Page {{page}}\").then(function (msg) {\n        _this3.anchor.title = msg;\n      });\n\n      if (this.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n        return;\n      }\n\n      this.l10n.get(\"thumb_page_canvas\", {\n        page: this.pageId\n      }, \"Thumbnail of Page {{page}}\").then(function (ariaLabel) {\n        if (_this3.image) {\n          _this3.image.setAttribute(\"aria-label\", ariaLabel);\n        } else if (_this3.disableCanvasToImageConversion && _this3.canvas) {\n          _this3.canvas.setAttribute(\"aria-label\", ariaLabel);\n        }\n      });\n    }\n  }, {\n    key: \"pageId\",\n    get: function get() {\n      return this.pageLabel !== null ? this.pageLabel : this.id;\n    }\n  }], [{\n    key: \"cleanup\",\n    value: function cleanup() {\n      TempImageFactory.destroyCanvas();\n    }\n  }]);\n\n  return PDFThumbnailView;\n}();\n\nexports.PDFThumbnailView = PDFThumbnailView;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFViewer = void 0;\n\nvar _base_viewer = __webpack_require__(28);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PDFViewer =\n/*#__PURE__*/\nfunction (_BaseViewer) {\n  _inherits(PDFViewer, _BaseViewer);\n\n  function PDFViewer() {\n    _classCallCheck(this, PDFViewer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PDFViewer).apply(this, arguments));\n  }\n\n  _createClass(PDFViewer, [{\n    key: \"_scrollIntoView\",\n    value: function _scrollIntoView(_ref) {\n      var pageDiv = _ref.pageDiv,\n          _ref$pageSpot = _ref.pageSpot,\n          pageSpot = _ref$pageSpot === void 0 ? null : _ref$pageSpot,\n          _ref$pageNumber = _ref.pageNumber,\n          pageNumber = _ref$pageNumber === void 0 ? null : _ref$pageNumber;\n\n      if (!pageSpot && !this.isInPresentationMode) {\n        var left = pageDiv.offsetLeft + pageDiv.clientLeft;\n        var right = left + pageDiv.clientWidth;\n        var _this$container = this.container,\n            scrollLeft = _this$container.scrollLeft,\n            clientWidth = _this$container.clientWidth;\n\n        if (this._isScrollModeHorizontal || left < scrollLeft || right > scrollLeft + clientWidth) {\n          pageSpot = {\n            left: 0,\n            top: 0\n          };\n        }\n      }\n\n      _get(_getPrototypeOf(PDFViewer.prototype), \"_scrollIntoView\", this).call(this, {\n        pageDiv: pageDiv,\n        pageSpot: pageSpot,\n        pageNumber: pageNumber\n      });\n    }\n  }, {\n    key: \"_getVisiblePages\",\n    value: function _getVisiblePages() {\n      if (this.isInPresentationMode) {\n        return this._getCurrentVisiblePage();\n      }\n\n      return _get(_getPrototypeOf(PDFViewer.prototype), \"_getVisiblePages\", this).call(this);\n    }\n  }, {\n    key: \"_updateHelper\",\n    value: function _updateHelper(visiblePages) {\n      if (this.isInPresentationMode) {\n        return;\n      }\n\n      var currentId = this._currentPageNumber;\n      var stillFullyVisible = false;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = visiblePages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var page = _step.value;\n\n          if (page.percent < 100) {\n            break;\n          }\n\n          if (page.id === currentId) {\n            stillFullyVisible = true;\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (!stillFullyVisible) {\n        currentId = visiblePages[0].id;\n      }\n\n      this._setCurrentPageNumber(currentId);\n    }\n  }, {\n    key: \"_setDocumentViewerElement\",\n    get: function get() {\n      return (0, _pdfjsLib.shadow)(this, \"_setDocumentViewerElement\", this.viewer);\n    }\n  }]);\n\n  return PDFViewer;\n}(_base_viewer.BaseViewer);\n\nexports.PDFViewer = PDFViewer;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseViewer = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_rendering_queue = __webpack_require__(11);\n\nvar _annotation_layer_builder = __webpack_require__(29);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _pdf_page_view = __webpack_require__(30);\n\nvar _pdf_link_service = __webpack_require__(21);\n\nvar _text_layer_builder = __webpack_require__(31);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_CACHE_SIZE = 10;\n\nfunction PDFPageViewBuffer(size) {\n  var data = [];\n\n  this.push = function (view) {\n    var i = data.indexOf(view);\n\n    if (i >= 0) {\n      data.splice(i, 1);\n    }\n\n    data.push(view);\n\n    if (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n\n  this.resize = function (newSize, pagesToKeep) {\n    size = newSize;\n\n    if (pagesToKeep) {\n      var pageIdsToKeep = new Set();\n\n      for (var i = 0, iMax = pagesToKeep.length; i < iMax; ++i) {\n        pageIdsToKeep.add(pagesToKeep[i].id);\n      }\n\n      (0, _ui_utils.moveToEndOfArray)(data, function (page) {\n        return pageIdsToKeep.has(page.id);\n      });\n    }\n\n    while (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n}\n\nfunction isSameScale(oldScale, newScale) {\n  if (newScale === oldScale) {\n    return true;\n  }\n\n  if (Math.abs(newScale - oldScale) < 1e-15) {\n    return true;\n  }\n\n  return false;\n}\n\nvar BaseViewer =\n/*#__PURE__*/\nfunction () {\n  function BaseViewer(options) {\n    var _this = this;\n\n    _classCallCheck(this, BaseViewer);\n\n    if (this.constructor === BaseViewer) {\n      throw new Error(\"Cannot initialize BaseViewer.\");\n    }\n\n    this._name = this.constructor.name;\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    this.eventBus = options.eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this.linkService = options.linkService || new _pdf_link_service.SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.removePageBorders = options.removePageBorders || false;\n    this.textLayerMode = Number.isInteger(options.textLayerMode) ? options.textLayerMode : _ui_utils.TextLayerMode.ENABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.enableWebGL = options.enableWebGL || false;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n || _ui_utils.NullL10n;\n    this.defaultRenderingQueue = !options.renderingQueue;\n\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n\n    this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdate.bind(this));\n    this.presentationModeState = _ui_utils.PresentationModeState.UNKNOWN;\n    this._onBeforeDraw = this._onAfterDraw = null;\n\n    this._resetView();\n\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n\n    Promise.resolve().then(function () {\n      _this.eventBus.dispatch(\"baseviewerinit\", {\n        source: _this\n      });\n    });\n  }\n\n  _createClass(BaseViewer, [{\n    key: \"getPageView\",\n    value: function getPageView(index) {\n      return this._pages[index];\n    }\n  }, {\n    key: \"_setCurrentPageNumber\",\n    value: function _setCurrentPageNumber(val) {\n      var resetCurrentPageView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this._currentPageNumber === val) {\n        if (resetCurrentPageView) {\n          this._resetCurrentPageView();\n        }\n\n        return true;\n      }\n\n      if (!(0 < val && val <= this.pagesCount)) {\n        return false;\n      }\n\n      this._currentPageNumber = val;\n      this.eventBus.dispatch(\"pagechanging\", {\n        source: this,\n        pageNumber: val,\n        pageLabel: this._pageLabels && this._pageLabels[val - 1]\n      });\n\n      if (resetCurrentPageView) {\n        this._resetCurrentPageView();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      var _this2 = this;\n\n      if (this.pdfDocument) {\n        this._cancelRendering();\n\n        this._resetView();\n\n        if (this.findController) {\n          this.findController.setDocument(null);\n        }\n      }\n\n      this.pdfDocument = pdfDocument;\n\n      if (!pdfDocument) {\n        return;\n      }\n\n      var pagesCount = pdfDocument.numPages;\n      var pagesCapability = (0, _pdfjsLib.createPromiseCapability)();\n      this.pagesPromise = pagesCapability.promise;\n      pagesCapability.promise.then(function () {\n        _this2._pageViewsReady = true;\n\n        _this2.eventBus.dispatch(\"pagesloaded\", {\n          source: _this2,\n          pagesCount: pagesCount\n        });\n      });\n      var onePageRenderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n      this.onePageRendered = onePageRenderedCapability.promise;\n      var firstPagePromise = pdfDocument.getPage(1);\n      this.firstPagePromise = firstPagePromise;\n\n      this._onBeforeDraw = function (evt) {\n        var pageView = _this2._pages[evt.pageNumber - 1];\n\n        if (!pageView) {\n          return;\n        }\n\n        _this2._buffer.push(pageView);\n      };\n\n      this.eventBus.on(\"pagerender\", this._onBeforeDraw);\n\n      this._onAfterDraw = function (evt) {\n        if (evt.cssTransform || onePageRenderedCapability.settled) {\n          return;\n        }\n\n        onePageRenderedCapability.resolve();\n\n        _this2.eventBus.off(\"pagerendered\", _this2._onAfterDraw);\n\n        _this2._onAfterDraw = null;\n      };\n\n      this.eventBus.on(\"pagerendered\", this._onAfterDraw);\n      firstPagePromise.then(function (firstPdfPage) {\n        var scale = _this2.currentScale;\n        var viewport = firstPdfPage.getViewport({\n          scale: scale * _ui_utils.CSS_UNITS\n        });\n\n        for (var pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n          var textLayerFactory = null;\n\n          if (_this2.textLayerMode !== _ui_utils.TextLayerMode.DISABLE) {\n            textLayerFactory = _this2;\n          }\n\n          var pageView = new _pdf_page_view.PDFPageView({\n            container: _this2._setDocumentViewerElement,\n            eventBus: _this2.eventBus,\n            id: pageNum,\n            scale: scale,\n            defaultViewport: viewport.clone(),\n            renderingQueue: _this2.renderingQueue,\n            textLayerFactory: textLayerFactory,\n            textLayerMode: _this2.textLayerMode,\n            annotationLayerFactory: _this2,\n            imageResourcesPath: _this2.imageResourcesPath,\n            renderInteractiveForms: _this2.renderInteractiveForms,\n            renderer: _this2.renderer,\n            enableWebGL: _this2.enableWebGL,\n            useOnlyCssZoom: _this2.useOnlyCssZoom,\n            maxCanvasPixels: _this2.maxCanvasPixels,\n            l10n: _this2.l10n\n          });\n\n          _this2._pages.push(pageView);\n        }\n\n        var firstPageView = _this2._pages[0];\n\n        if (firstPageView) {\n          firstPageView.setPdfPage(firstPdfPage);\n\n          _this2.linkService.cachePageRef(1, firstPdfPage.ref);\n        }\n\n        if (_this2._spreadMode !== _ui_utils.SpreadMode.NONE) {\n          _this2._updateSpreadMode();\n        }\n\n        onePageRenderedCapability.promise.then(function () {\n          if (_this2.findController) {\n            _this2.findController.setDocument(pdfDocument);\n          }\n\n          if (pdfDocument.loadingParams[\"disableAutoFetch\"] || pagesCount > 7500) {\n            pagesCapability.resolve();\n            return;\n          }\n\n          var getPagesLeft = pagesCount - 1;\n\n          if (getPagesLeft <= 0) {\n            pagesCapability.resolve();\n            return;\n          }\n\n          var _loop = function _loop(_pageNum) {\n            pdfDocument.getPage(_pageNum).then(function (pdfPage) {\n              var pageView = _this2._pages[_pageNum - 1];\n\n              if (!pageView.pdfPage) {\n                pageView.setPdfPage(pdfPage);\n              }\n\n              _this2.linkService.cachePageRef(_pageNum, pdfPage.ref);\n\n              if (--getPagesLeft === 0) {\n                pagesCapability.resolve();\n              }\n            }, function (reason) {\n              console.error(\"Unable to get page \".concat(_pageNum, \" to initialize viewer\"), reason);\n\n              if (--getPagesLeft === 0) {\n                pagesCapability.resolve();\n              }\n            });\n          };\n\n          for (var _pageNum = 2; _pageNum <= pagesCount; ++_pageNum) {\n            _loop(_pageNum);\n          }\n        });\n\n        _this2.eventBus.dispatch(\"pagesinit\", {\n          source: _this2\n        });\n\n        if (_this2.defaultRenderingQueue) {\n          _this2.update();\n        }\n      })[\"catch\"](function (reason) {\n        console.error(\"Unable to initialize viewer\", reason);\n      });\n    }\n  }, {\n    key: \"setPageLabels\",\n    value: function setPageLabels(labels) {\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      if (!labels) {\n        this._pageLabels = null;\n      } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n        this._pageLabels = null;\n        console.error(\"\".concat(this._name, \".setPageLabels: Invalid page labels.\"));\n      } else {\n        this._pageLabels = labels;\n      }\n\n      for (var i = 0, ii = this._pages.length; i < ii; i++) {\n        var pageView = this._pages[i];\n        var label = this._pageLabels && this._pageLabels[i];\n        pageView.setPageLabel(label);\n      }\n    }\n  }, {\n    key: \"_resetView\",\n    value: function _resetView() {\n      this._pages = [];\n      this._currentPageNumber = 1;\n      this._currentScale = _ui_utils.UNKNOWN_SCALE;\n      this._currentScaleValue = null;\n      this._pageLabels = null;\n      this._buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n      this._location = null;\n      this._pagesRotation = 0;\n      this._pagesRequests = new WeakMap();\n      this._pageViewsReady = false;\n      this._scrollMode = _ui_utils.ScrollMode.VERTICAL;\n      this._spreadMode = _ui_utils.SpreadMode.NONE;\n\n      if (this._onBeforeDraw) {\n        this.eventBus.off(\"pagerender\", this._onBeforeDraw);\n        this._onBeforeDraw = null;\n      }\n\n      if (this._onAfterDraw) {\n        this.eventBus.off(\"pagerendered\", this._onAfterDraw);\n        this._onAfterDraw = null;\n      }\n\n      this.viewer.textContent = \"\";\n\n      this._updateScrollMode();\n    }\n  }, {\n    key: \"_scrollUpdate\",\n    value: function _scrollUpdate() {\n      if (this.pagesCount === 0) {\n        return;\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"_scrollIntoView\",\n    value: function _scrollIntoView(_ref) {\n      var pageDiv = _ref.pageDiv,\n          _ref$pageSpot = _ref.pageSpot,\n          pageSpot = _ref$pageSpot === void 0 ? null : _ref$pageSpot,\n          _ref$pageNumber = _ref.pageNumber,\n          pageNumber = _ref$pageNumber === void 0 ? null : _ref$pageNumber;\n      (0, _ui_utils.scrollIntoView)(pageDiv, pageSpot);\n    }\n  }, {\n    key: \"_setScaleUpdatePages\",\n    value: function _setScaleUpdatePages(newScale, newValue) {\n      var noScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var preset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      this._currentScaleValue = newValue.toString();\n\n      if (isSameScale(this._currentScale, newScale)) {\n        if (preset) {\n          this.eventBus.dispatch(\"scalechanging\", {\n            source: this,\n            scale: newScale,\n            presetValue: newValue\n          });\n        }\n\n        return;\n      }\n\n      for (var i = 0, ii = this._pages.length; i < ii; i++) {\n        this._pages[i].update(newScale);\n      }\n\n      this._currentScale = newScale;\n\n      if (!noScroll) {\n        var page = this._currentPageNumber,\n            dest;\n\n        if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n          page = this._location.pageNumber;\n          dest = [null, {\n            name: \"XYZ\"\n          }, this._location.left, this._location.top, null];\n        }\n\n        this.scrollPageIntoView({\n          pageNumber: page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      }\n\n      this.eventBus.dispatch(\"scalechanging\", {\n        source: this,\n        scale: newScale,\n        presetValue: preset ? newValue : undefined\n      });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }\n  }, {\n    key: \"_setScale\",\n    value: function _setScale(value) {\n      var noScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var scale = parseFloat(value);\n\n      if (scale > 0) {\n        this._setScaleUpdatePages(scale, value, noScroll, false);\n      } else {\n        var currentPage = this._pages[this._currentPageNumber - 1];\n\n        if (!currentPage) {\n          return;\n        }\n\n        var noPadding = this.isInPresentationMode || this.removePageBorders;\n        var hPadding = noPadding ? 0 : _ui_utils.SCROLLBAR_PADDING;\n        var vPadding = noPadding ? 0 : _ui_utils.VERTICAL_PADDING;\n\n        if (!noPadding && this._isScrollModeHorizontal) {\n          var _ref2 = [vPadding, hPadding];\n          hPadding = _ref2[0];\n          vPadding = _ref2[1];\n        }\n\n        var pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale;\n        var pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n        switch (value) {\n          case \"page-actual\":\n            scale = 1;\n            break;\n\n          case \"page-width\":\n            scale = pageWidthScale;\n            break;\n\n          case \"page-height\":\n            scale = pageHeightScale;\n            break;\n\n          case \"page-fit\":\n            scale = Math.min(pageWidthScale, pageHeightScale);\n            break;\n\n          case \"auto\":\n            var horizontalScale = (0, _ui_utils.isPortraitOrientation)(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n            scale = Math.min(_ui_utils.MAX_AUTO_SCALE, horizontalScale);\n            break;\n\n          default:\n            console.error(\"\".concat(this._name, \"._setScale: \\\"\").concat(value, \"\\\" is an unknown zoom value.\"));\n            return;\n        }\n\n        this._setScaleUpdatePages(scale, value, noScroll, true);\n      }\n    }\n  }, {\n    key: \"_resetCurrentPageView\",\n    value: function _resetCurrentPageView() {\n      if (this.isInPresentationMode) {\n        this._setScale(this._currentScaleValue, true);\n      }\n\n      var pageView = this._pages[this._currentPageNumber - 1];\n\n      this._scrollIntoView({\n        pageDiv: pageView.div\n      });\n    }\n  }, {\n    key: \"scrollPageIntoView\",\n    value: function scrollPageIntoView(_ref3) {\n      var pageNumber = _ref3.pageNumber,\n          _ref3$destArray = _ref3.destArray,\n          destArray = _ref3$destArray === void 0 ? null : _ref3$destArray,\n          _ref3$allowNegativeOf = _ref3.allowNegativeOffset,\n          allowNegativeOffset = _ref3$allowNegativeOf === void 0 ? false : _ref3$allowNegativeOf;\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      var pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n\n      if (!pageView) {\n        console.error(\"\".concat(this._name, \".scrollPageIntoView: \") + \"\\\"\".concat(pageNumber, \"\\\" is not a valid pageNumber parameter.\"));\n        return;\n      }\n\n      if (this.isInPresentationMode || !destArray) {\n        this._setCurrentPageNumber(pageNumber, true);\n\n        return;\n      }\n\n      var x = 0,\n          y = 0;\n      var width = 0,\n          height = 0,\n          widthScale,\n          heightScale;\n      var changeOrientation = pageView.rotation % 180 === 0 ? false : true;\n      var pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / _ui_utils.CSS_UNITS;\n      var pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / _ui_utils.CSS_UNITS;\n      var scale = 0;\n\n      switch (destArray[1].name) {\n        case \"XYZ\":\n          x = destArray[2];\n          y = destArray[3];\n          scale = destArray[4];\n          x = x !== null ? x : 0;\n          y = y !== null ? y : pageHeight;\n          break;\n\n        case \"Fit\":\n        case \"FitB\":\n          scale = \"page-fit\";\n          break;\n\n        case \"FitH\":\n        case \"FitBH\":\n          y = destArray[2];\n          scale = \"page-width\";\n\n          if (y === null && this._location) {\n            x = this._location.left;\n            y = this._location.top;\n          }\n\n          break;\n\n        case \"FitV\":\n        case \"FitBV\":\n          x = destArray[2];\n          width = pageWidth;\n          height = pageHeight;\n          scale = \"page-height\";\n          break;\n\n        case \"FitR\":\n          x = destArray[2];\n          y = destArray[3];\n          width = destArray[4] - x;\n          height = destArray[5] - y;\n          var hPadding = this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n          var vPadding = this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n          widthScale = (this.container.clientWidth - hPadding) / width / _ui_utils.CSS_UNITS;\n          heightScale = (this.container.clientHeight - vPadding) / height / _ui_utils.CSS_UNITS;\n          scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n          break;\n\n        default:\n          console.error(\"\".concat(this._name, \".scrollPageIntoView: \") + \"\\\"\".concat(destArray[1].name, \"\\\" is not a valid destination type.\"));\n          return;\n      }\n\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === _ui_utils.UNKNOWN_SCALE) {\n        this.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n      }\n\n      if (scale === \"page-fit\" && !destArray[4]) {\n        this._scrollIntoView({\n          pageDiv: pageView.div,\n          pageNumber: pageNumber\n        });\n\n        return;\n      }\n\n      var boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n      var left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n      var top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n      if (!allowNegativeOffset) {\n        left = Math.max(left, 0);\n        top = Math.max(top, 0);\n      }\n\n      this._scrollIntoView({\n        pageDiv: pageView.div,\n        pageSpot: {\n          left: left,\n          top: top\n        },\n        pageNumber: pageNumber\n      });\n    }\n  }, {\n    key: \"_updateLocation\",\n    value: function _updateLocation(firstPage) {\n      var currentScale = this._currentScale;\n      var currentScaleValue = this._currentScaleValue;\n      var normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n      var pageNumber = firstPage.id;\n      var pdfOpenParams = \"#page=\" + pageNumber;\n      pdfOpenParams += \"&zoom=\" + normalizedScaleValue;\n      var currentPageView = this._pages[pageNumber - 1];\n      var container = this.container;\n      var topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n      var intLeft = Math.round(topLeft[0]);\n      var intTop = Math.round(topLeft[1]);\n      pdfOpenParams += \",\" + intLeft + \",\" + intTop;\n      this._location = {\n        pageNumber: pageNumber,\n        scale: normalizedScaleValue,\n        top: intTop,\n        left: intLeft,\n        rotation: this._pagesRotation,\n        pdfOpenParams: pdfOpenParams\n      };\n    }\n  }, {\n    key: \"_updateHelper\",\n    value: function _updateHelper(visiblePages) {\n      throw new Error(\"Not implemented: _updateHelper\");\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var visible = this._getVisiblePages();\n\n      var visiblePages = visible.views,\n          numVisiblePages = visiblePages.length;\n\n      if (numVisiblePages === 0) {\n        return;\n      }\n\n      var newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n\n      this._buffer.resize(newCacheSize, visiblePages);\n\n      this.renderingQueue.renderHighestPriority(visible);\n\n      this._updateHelper(visiblePages);\n\n      this._updateLocation(visible.first);\n\n      this.eventBus.dispatch(\"updateviewarea\", {\n        source: this,\n        location: this._location\n      });\n    }\n  }, {\n    key: \"containsElement\",\n    value: function containsElement(element) {\n      return this.container.contains(element);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.container.focus();\n    }\n  }, {\n    key: \"_getCurrentVisiblePage\",\n    value: function _getCurrentVisiblePage() {\n      if (!this.pagesCount) {\n        return {\n          views: []\n        };\n      }\n\n      var pageView = this._pages[this._currentPageNumber - 1];\n      var element = pageView.div;\n      var view = {\n        id: pageView.id,\n        x: element.offsetLeft + element.clientLeft,\n        y: element.offsetTop + element.clientTop,\n        view: pageView\n      };\n      return {\n        first: view,\n        last: view,\n        views: [view]\n      };\n    }\n  }, {\n    key: \"_getVisiblePages\",\n    value: function _getVisiblePages() {\n      return (0, _ui_utils.getVisibleElements)(this.container, this._pages, true, this._isScrollModeHorizontal);\n    }\n  }, {\n    key: \"isPageVisible\",\n    value: function isPageVisible(pageNumber) {\n      if (!this.pdfDocument) {\n        return false;\n      }\n\n      if (pageNumber < 1 || pageNumber > this.pagesCount) {\n        console.error(\"\".concat(this._name, \".isPageVisible: \\\"\").concat(pageNumber, \"\\\" is out of bounds.\"));\n        return false;\n      }\n\n      return this._getVisiblePages().views.some(function (view) {\n        return view.id === pageNumber;\n      });\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      for (var i = 0, ii = this._pages.length; i < ii; i++) {\n        if (this._pages[i] && this._pages[i].renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n          this._pages[i].reset();\n        }\n      }\n    }\n  }, {\n    key: \"_cancelRendering\",\n    value: function _cancelRendering() {\n      for (var i = 0, ii = this._pages.length; i < ii; i++) {\n        if (this._pages[i]) {\n          this._pages[i].cancelRendering();\n        }\n      }\n    }\n  }, {\n    key: \"_ensurePdfPageLoaded\",\n    value: function _ensurePdfPageLoaded(pageView) {\n      var _this3 = this;\n\n      if (pageView.pdfPage) {\n        return Promise.resolve(pageView.pdfPage);\n      }\n\n      if (this._pagesRequests.has(pageView)) {\n        return this._pagesRequests.get(pageView);\n      }\n\n      var promise = this.pdfDocument.getPage(pageView.id).then(function (pdfPage) {\n        if (!pageView.pdfPage) {\n          pageView.setPdfPage(pdfPage);\n        }\n\n        _this3._pagesRequests[\"delete\"](pageView);\n\n        return pdfPage;\n      })[\"catch\"](function (reason) {\n        console.error(\"Unable to get page for page view\", reason);\n\n        _this3._pagesRequests[\"delete\"](pageView);\n      });\n\n      this._pagesRequests.set(pageView, promise);\n\n      return promise;\n    }\n  }, {\n    key: \"forceRendering\",\n    value: function forceRendering(currentlyVisiblePages) {\n      var _this4 = this;\n\n      var visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n      var scrollAhead = this._isScrollModeHorizontal ? this.scroll.right : this.scroll.down;\n      var pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead);\n\n      if (pageView) {\n        this._ensurePdfPageLoaded(pageView).then(function () {\n          _this4.renderingQueue.renderView(pageView);\n        });\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"createTextLayerBuilder\",\n    value: function createTextLayerBuilder(textLayerDiv, pageIndex, viewport) {\n      var enhanceTextSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return new _text_layer_builder.TextLayerBuilder({\n        textLayerDiv: textLayerDiv,\n        eventBus: this.eventBus,\n        pageIndex: pageIndex,\n        viewport: viewport,\n        findController: this.isInPresentationMode ? null : this.findController,\n        enhanceTextSelection: this.isInPresentationMode ? false : enhanceTextSelection\n      });\n    }\n  }, {\n    key: \"createAnnotationLayerBuilder\",\n    value: function createAnnotationLayerBuilder(pageDiv, pdfPage) {\n      var imageResourcesPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n      var renderInteractiveForms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var l10n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _ui_utils.NullL10n;\n      return new _annotation_layer_builder.AnnotationLayerBuilder({\n        pageDiv: pageDiv,\n        pdfPage: pdfPage,\n        imageResourcesPath: imageResourcesPath,\n        renderInteractiveForms: renderInteractiveForms,\n        linkService: this.linkService,\n        downloadManager: this.downloadManager,\n        l10n: l10n\n      });\n    }\n  }, {\n    key: \"getPagesOverview\",\n    value: function getPagesOverview() {\n      var pagesOverview = this._pages.map(function (pageView) {\n        var viewport = pageView.pdfPage.getViewport({\n          scale: 1\n        });\n        return {\n          width: viewport.width,\n          height: viewport.height,\n          rotation: viewport.rotation\n        };\n      });\n\n      if (!this.enablePrintAutoRotate) {\n        return pagesOverview;\n      }\n\n      var isFirstPagePortrait = (0, _ui_utils.isPortraitOrientation)(pagesOverview[0]);\n      return pagesOverview.map(function (size) {\n        if (isFirstPagePortrait === (0, _ui_utils.isPortraitOrientation)(size)) {\n          return size;\n        }\n\n        return {\n          width: size.height,\n          height: size.width,\n          rotation: (size.rotation + 90) % 360\n        };\n      });\n    }\n  }, {\n    key: \"_updateScrollMode\",\n    value: function _updateScrollMode() {\n      var pageNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var scrollMode = this._scrollMode,\n          viewer = this.viewer;\n      viewer.classList.toggle(\"scrollHorizontal\", scrollMode === _ui_utils.ScrollMode.HORIZONTAL);\n      viewer.classList.toggle(\"scrollWrapped\", scrollMode === _ui_utils.ScrollMode.WRAPPED);\n\n      if (!this.pdfDocument || !pageNumber) {\n        return;\n      }\n\n      if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n        this._setScale(this._currentScaleValue, true);\n      }\n\n      this._setCurrentPageNumber(pageNumber, true);\n\n      this.update();\n    }\n  }, {\n    key: \"_updateSpreadMode\",\n    value: function _updateSpreadMode() {\n      var pageNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      var viewer = this.viewer,\n          pages = this._pages;\n      viewer.textContent = \"\";\n\n      if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n        for (var i = 0, iMax = pages.length; i < iMax; ++i) {\n          viewer.appendChild(pages[i].div);\n        }\n      } else {\n        var parity = this._spreadMode - 1;\n        var spread = null;\n\n        for (var _i = 0, _iMax = pages.length; _i < _iMax; ++_i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.appendChild(spread);\n          } else if (_i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.appendChild(spread);\n          }\n\n          spread.appendChild(pages[_i].div);\n        }\n      }\n\n      if (!pageNumber) {\n        return;\n      }\n\n      this._setCurrentPageNumber(pageNumber, true);\n\n      this.update();\n    }\n  }, {\n    key: \"pagesCount\",\n    get: function get() {\n      return this._pages.length;\n    }\n  }, {\n    key: \"pageViewsReady\",\n    get: function get() {\n      if (!this._pageViewsReady) {\n        return false;\n      }\n\n      return this._pages.every(function (pageView) {\n        return !!(pageView && pageView.pdfPage);\n      });\n    }\n  }, {\n    key: \"currentPageNumber\",\n    get: function get() {\n      return this._currentPageNumber;\n    },\n    set: function set(val) {\n      if (!Number.isInteger(val)) {\n        throw new Error(\"Invalid page number.\");\n      }\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      if (!this._setCurrentPageNumber(val, true)) {\n        console.error(\"\".concat(this._name, \".currentPageNumber: \\\"\").concat(val, \"\\\" is not a valid page.\"));\n      }\n    }\n  }, {\n    key: \"currentPageLabel\",\n    get: function get() {\n      return this._pageLabels && this._pageLabels[this._currentPageNumber - 1];\n    },\n    set: function set(val) {\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      var page = val | 0;\n\n      if (this._pageLabels) {\n        var i = this._pageLabels.indexOf(val);\n\n        if (i >= 0) {\n          page = i + 1;\n        }\n      }\n\n      if (!this._setCurrentPageNumber(page, true)) {\n        console.error(\"\".concat(this._name, \".currentPageLabel: \\\"\").concat(val, \"\\\" is not a valid page.\"));\n      }\n    }\n  }, {\n    key: \"currentScale\",\n    get: function get() {\n      return this._currentScale !== _ui_utils.UNKNOWN_SCALE ? this._currentScale : _ui_utils.DEFAULT_SCALE;\n    },\n    set: function set(val) {\n      if (isNaN(val)) {\n        throw new Error(\"Invalid numeric scale.\");\n      }\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      this._setScale(val, false);\n    }\n  }, {\n    key: \"currentScaleValue\",\n    get: function get() {\n      return this._currentScaleValue;\n    },\n    set: function set(val) {\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      this._setScale(val, false);\n    }\n  }, {\n    key: \"pagesRotation\",\n    get: function get() {\n      return this._pagesRotation;\n    },\n    set: function set(rotation) {\n      if (!(0, _ui_utils.isValidRotation)(rotation)) {\n        throw new Error(\"Invalid pages rotation angle.\");\n      }\n\n      if (!this.pdfDocument) {\n        return;\n      }\n\n      if (this._pagesRotation === rotation) {\n        return;\n      }\n\n      this._pagesRotation = rotation;\n      var pageNumber = this._currentPageNumber;\n\n      for (var i = 0, ii = this._pages.length; i < ii; i++) {\n        var pageView = this._pages[i];\n        pageView.update(pageView.scale, rotation);\n      }\n\n      if (this._currentScaleValue) {\n        this._setScale(this._currentScaleValue, true);\n      }\n\n      this.eventBus.dispatch(\"rotationchanging\", {\n        source: this,\n        pagesRotation: rotation,\n        pageNumber: pageNumber\n      });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }\n  }, {\n    key: \"_setDocumentViewerElement\",\n    get: function get() {\n      throw new Error(\"Not implemented: _setDocumentViewerElement\");\n    }\n  }, {\n    key: \"_isScrollModeHorizontal\",\n    get: function get() {\n      return this.isInPresentationMode ? false : this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL;\n    }\n  }, {\n    key: \"isInPresentationMode\",\n    get: function get() {\n      return this.presentationModeState === _ui_utils.PresentationModeState.FULLSCREEN;\n    }\n  }, {\n    key: \"isChangingPresentationMode\",\n    get: function get() {\n      return this.presentationModeState === _ui_utils.PresentationModeState.CHANGING;\n    }\n  }, {\n    key: \"isHorizontalScrollbarEnabled\",\n    get: function get() {\n      return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n    }\n  }, {\n    key: \"isVerticalScrollbarEnabled\",\n    get: function get() {\n      return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n    }\n  }, {\n    key: \"hasEqualPageSizes\",\n    get: function get() {\n      var firstPageView = this._pages[0];\n\n      for (var i = 1, ii = this._pages.length; i < ii; ++i) {\n        var pageView = this._pages[i];\n\n        if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"scrollMode\",\n    get: function get() {\n      return this._scrollMode;\n    },\n    set: function set(mode) {\n      if (this._scrollMode === mode) {\n        return;\n      }\n\n      if (!(0, _ui_utils.isValidScrollMode)(mode)) {\n        throw new Error(\"Invalid scroll mode: \".concat(mode));\n      }\n\n      this._scrollMode = mode;\n      this.eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode: mode\n      });\n\n      this._updateScrollMode(this._currentPageNumber);\n    }\n  }, {\n    key: \"spreadMode\",\n    get: function get() {\n      return this._spreadMode;\n    },\n    set: function set(mode) {\n      if (this._spreadMode === mode) {\n        return;\n      }\n\n      if (!(0, _ui_utils.isValidSpreadMode)(mode)) {\n        throw new Error(\"Invalid spread mode: \".concat(mode));\n      }\n\n      this._spreadMode = mode;\n      this.eventBus.dispatch(\"spreadmodechanged\", {\n        source: this,\n        mode: mode\n      });\n\n      this._updateSpreadMode(this._currentPageNumber);\n    }\n  }]);\n\n  return BaseViewer;\n}();\n\nexports.BaseViewer = BaseViewer;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultAnnotationLayerFactory = exports.AnnotationLayerBuilder = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_link_service = __webpack_require__(21);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AnnotationLayerBuilder =\n/*#__PURE__*/\nfunction () {\n  function AnnotationLayerBuilder(_ref) {\n    var pageDiv = _ref.pageDiv,\n        pdfPage = _ref.pdfPage,\n        linkService = _ref.linkService,\n        downloadManager = _ref.downloadManager,\n        _ref$imageResourcesPa = _ref.imageResourcesPath,\n        imageResourcesPath = _ref$imageResourcesPa === void 0 ? \"\" : _ref$imageResourcesPa,\n        _ref$renderInteractiv = _ref.renderInteractiveForms,\n        renderInteractiveForms = _ref$renderInteractiv === void 0 ? false : _ref$renderInteractiv,\n        _ref$l10n = _ref.l10n,\n        l10n = _ref$l10n === void 0 ? _ui_utils.NullL10n : _ref$l10n;\n\n    _classCallCheck(this, AnnotationLayerBuilder);\n\n    this.pageDiv = pageDiv;\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderInteractiveForms = renderInteractiveForms;\n    this.l10n = l10n;\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  _createClass(AnnotationLayerBuilder, [{\n    key: \"render\",\n    value: function render(viewport) {\n      var _this = this;\n\n      var intent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"display\";\n      this.pdfPage.getAnnotations({\n        intent: intent\n      }).then(function (annotations) {\n        if (_this._cancelled) {\n          return;\n        }\n\n        var parameters = {\n          viewport: viewport.clone({\n            dontFlip: true\n          }),\n          div: _this.div,\n          annotations: annotations,\n          page: _this.pdfPage,\n          imageResourcesPath: _this.imageResourcesPath,\n          renderInteractiveForms: _this.renderInteractiveForms,\n          linkService: _this.linkService,\n          downloadManager: _this.downloadManager\n        };\n\n        if (_this.div) {\n          _pdfjsLib.AnnotationLayer.update(parameters);\n        } else {\n          if (annotations.length === 0) {\n            return;\n          }\n\n          _this.div = document.createElement(\"div\");\n          _this.div.className = \"annotationLayer\";\n\n          _this.pageDiv.appendChild(_this.div);\n\n          parameters.div = _this.div;\n\n          _pdfjsLib.AnnotationLayer.render(parameters);\n\n          _this.l10n.translate(_this.div);\n        }\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this._cancelled = true;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (!this.div) {\n        return;\n      }\n\n      this.div.setAttribute(\"hidden\", \"true\");\n    }\n  }]);\n\n  return AnnotationLayerBuilder;\n}();\n\nexports.AnnotationLayerBuilder = AnnotationLayerBuilder;\n\nvar DefaultAnnotationLayerFactory =\n/*#__PURE__*/\nfunction () {\n  function DefaultAnnotationLayerFactory() {\n    _classCallCheck(this, DefaultAnnotationLayerFactory);\n  }\n\n  _createClass(DefaultAnnotationLayerFactory, [{\n    key: \"createAnnotationLayerBuilder\",\n    value: function createAnnotationLayerBuilder(pageDiv, pdfPage) {\n      var imageResourcesPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n      var renderInteractiveForms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var l10n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _ui_utils.NullL10n;\n      return new AnnotationLayerBuilder({\n        pageDiv: pageDiv,\n        pdfPage: pdfPage,\n        imageResourcesPath: imageResourcesPath,\n        renderInteractiveForms: renderInteractiveForms,\n        linkService: new _pdf_link_service.SimpleLinkService(),\n        l10n: l10n\n      });\n    }\n  }]);\n\n  return DefaultAnnotationLayerFactory;\n}();\n\nexports.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPageView = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nvar _pdf_rendering_queue = __webpack_require__(11);\n\nvar _viewer_compatibility = __webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MAX_CANVAS_PIXELS = _viewer_compatibility.viewerCompatibilityParams.maxCanvasPixels || 16777216;\n\nvar PDFPageView =\n/*#__PURE__*/\nfunction () {\n  function PDFPageView(options) {\n    _classCallCheck(this, PDFPageView);\n\n    var container = options.container;\n    var defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this.hasRestrictedScaling = false;\n    this.textLayerMode = Number.isInteger(options.textLayerMode) ? options.textLayerMode : _ui_utils.TextLayerMode.ENABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels || MAX_CANVAS_PIXELS;\n    this.eventBus = options.eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this.renderingQueue = options.renderingQueue;\n    this.textLayerFactory = options.textLayerFactory;\n    this.annotationLayerFactory = options.annotationLayerFactory;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.enableWebGL = options.enableWebGL || false;\n    this.l10n = options.l10n || _ui_utils.NullL10n;\n    this.paintTask = null;\n    this.paintedViewportMap = new WeakMap();\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.resume = null;\n    this.error = null;\n    this.annotationLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    var div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    div.setAttribute(\"data-page-number\", this.id);\n    this.div = div;\n    container.appendChild(div);\n  }\n\n  _createClass(PDFPageView, [{\n    key: \"setPdfPage\",\n    value: function setPdfPage(pdfPage) {\n      this.pdfPage = pdfPage;\n      this.pdfPageRotate = pdfPage.rotate;\n      var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n      this.viewport = pdfPage.getViewport({\n        scale: this.scale * _ui_utils.CSS_UNITS,\n        rotation: totalRotation\n      });\n      this.stats = pdfPage.stats;\n      this.reset();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.reset();\n\n      if (this.pdfPage) {\n        this.pdfPage.cleanup();\n      }\n    }\n  }, {\n    key: \"_resetZoomLayer\",\n    value: function _resetZoomLayer() {\n      var removeFromDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.zoomLayer) {\n        return;\n      }\n\n      var zoomLayerCanvas = this.zoomLayer.firstChild;\n      this.paintedViewportMap[\"delete\"](zoomLayerCanvas);\n      zoomLayerCanvas.width = 0;\n      zoomLayerCanvas.height = 0;\n\n      if (removeFromDOM) {\n        this.zoomLayer.remove();\n      }\n\n      this.zoomLayer = null;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var keepZoomLayer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var keepAnnotations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.cancelRendering(keepAnnotations);\n      this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n      var div = this.div;\n      div.style.width = Math.floor(this.viewport.width) + \"px\";\n      div.style.height = Math.floor(this.viewport.height) + \"px\";\n      var childNodes = div.childNodes;\n      var currentZoomLayerNode = keepZoomLayer && this.zoomLayer || null;\n      var currentAnnotationNode = keepAnnotations && this.annotationLayer && this.annotationLayer.div || null;\n\n      for (var i = childNodes.length - 1; i >= 0; i--) {\n        var node = childNodes[i];\n\n        if (currentZoomLayerNode === node || currentAnnotationNode === node) {\n          continue;\n        }\n\n        div.removeChild(node);\n      }\n\n      div.removeAttribute(\"data-loaded\");\n\n      if (currentAnnotationNode) {\n        this.annotationLayer.hide();\n      } else if (this.annotationLayer) {\n        this.annotationLayer.cancel();\n        this.annotationLayer = null;\n      }\n\n      if (!currentZoomLayerNode) {\n        if (this.canvas) {\n          this.paintedViewportMap[\"delete\"](this.canvas);\n          this.canvas.width = 0;\n          this.canvas.height = 0;\n          delete this.canvas;\n        }\n\n        this._resetZoomLayer();\n      }\n\n      if (this.svg) {\n        this.paintedViewportMap[\"delete\"](this.svg);\n        delete this.svg;\n      }\n\n      this.loadingIconDiv = document.createElement(\"div\");\n      this.loadingIconDiv.className = \"loadingIcon\";\n      div.appendChild(this.loadingIconDiv);\n    }\n  }, {\n    key: \"update\",\n    value: function update(scale, rotation) {\n      this.scale = scale || this.scale;\n\n      if (typeof rotation !== \"undefined\") {\n        this.rotation = rotation;\n      }\n\n      var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n      this.viewport = this.viewport.clone({\n        scale: this.scale * _ui_utils.CSS_UNITS,\n        rotation: totalRotation\n      });\n\n      if (this.svg) {\n        this.cssTransform(this.svg, true);\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now()\n        });\n        return;\n      }\n\n      var isScalingRestricted = false;\n\n      if (this.canvas && this.maxCanvasPixels > 0) {\n        var outputScale = this.outputScale;\n\n        if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > this.maxCanvasPixels) {\n          isScalingRestricted = true;\n        }\n      }\n\n      if (this.canvas) {\n        if (this.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n          this.cssTransform(this.canvas, true);\n          this.eventBus.dispatch(\"pagerendered\", {\n            source: this,\n            pageNumber: this.id,\n            cssTransform: true,\n            timestamp: performance.now()\n          });\n          return;\n        }\n\n        if (!this.zoomLayer && !this.canvas.hasAttribute(\"hidden\")) {\n          this.zoomLayer = this.canvas.parentNode;\n          this.zoomLayer.style.position = \"absolute\";\n        }\n      }\n\n      if (this.zoomLayer) {\n        this.cssTransform(this.zoomLayer.firstChild);\n      }\n\n      this.reset(true, true);\n    }\n  }, {\n    key: \"cancelRendering\",\n    value: function cancelRendering() {\n      var keepAnnotations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.paintTask) {\n        this.paintTask.cancel();\n        this.paintTask = null;\n      }\n\n      this.resume = null;\n\n      if (this.textLayer) {\n        this.textLayer.cancel();\n        this.textLayer = null;\n      }\n\n      if (!keepAnnotations && this.annotationLayer) {\n        this.annotationLayer.cancel();\n        this.annotationLayer = null;\n      }\n    }\n  }, {\n    key: \"cssTransform\",\n    value: function cssTransform(target) {\n      var redrawAnnotations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var width = this.viewport.width;\n      var height = this.viewport.height;\n      var div = this.div;\n      target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + \"px\";\n      target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + \"px\";\n      var relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n      var absRotation = Math.abs(relativeRotation);\n      var scaleX = 1,\n          scaleY = 1;\n\n      if (absRotation === 90 || absRotation === 270) {\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n\n      var cssTransform = \"rotate(\" + relativeRotation + \"deg) \" + \"scale(\" + scaleX + \",\" + scaleY + \")\";\n      target.style.transform = cssTransform;\n\n      if (this.textLayer) {\n        var textLayerViewport = this.textLayer.viewport;\n        var textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n        var textAbsRotation = Math.abs(textRelativeRotation);\n        var scale = width / textLayerViewport.width;\n\n        if (textAbsRotation === 90 || textAbsRotation === 270) {\n          scale = width / textLayerViewport.height;\n        }\n\n        var textLayerDiv = this.textLayer.textLayerDiv;\n        var transX, transY;\n\n        switch (textAbsRotation) {\n          case 0:\n            transX = transY = 0;\n            break;\n\n          case 90:\n            transX = 0;\n            transY = \"-\" + textLayerDiv.style.height;\n            break;\n\n          case 180:\n            transX = \"-\" + textLayerDiv.style.width;\n            transY = \"-\" + textLayerDiv.style.height;\n            break;\n\n          case 270:\n            transX = \"-\" + textLayerDiv.style.width;\n            transY = 0;\n            break;\n\n          default:\n            console.error(\"Bad rotation value.\");\n            break;\n        }\n\n        textLayerDiv.style.transform = \"rotate(\" + textAbsRotation + \"deg) \" + \"scale(\" + scale + \", \" + scale + \") \" + \"translate(\" + transX + \", \" + transY + \")\";\n        textLayerDiv.style.transformOrigin = \"0% 0%\";\n      }\n\n      if (redrawAnnotations && this.annotationLayer) {\n        this.annotationLayer.render(this.viewport, \"display\");\n      }\n    }\n  }, {\n    key: \"getPagePoint\",\n    value: function getPagePoint(x, y) {\n      return this.viewport.convertToPdfPoint(x, y);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this = this;\n\n      if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n        console.error(\"Must be in new state before drawing\");\n        this.reset();\n      }\n\n      if (!this.pdfPage) {\n        this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n        return Promise.reject(new Error(\"Page is not loaded\"));\n      }\n\n      this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n      var pdfPage = this.pdfPage;\n      var div = this.div;\n      var canvasWrapper = document.createElement(\"div\");\n      canvasWrapper.style.width = div.style.width;\n      canvasWrapper.style.height = div.style.height;\n      canvasWrapper.classList.add(\"canvasWrapper\");\n\n      if (this.annotationLayer && this.annotationLayer.div) {\n        div.insertBefore(canvasWrapper, this.annotationLayer.div);\n      } else {\n        div.appendChild(canvasWrapper);\n      }\n\n      var textLayer = null;\n\n      if (this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE && this.textLayerFactory) {\n        var textLayerDiv = document.createElement(\"div\");\n        textLayerDiv.className = \"textLayer\";\n        textLayerDiv.style.width = canvasWrapper.style.width;\n        textLayerDiv.style.height = canvasWrapper.style.height;\n\n        if (this.annotationLayer && this.annotationLayer.div) {\n          div.insertBefore(textLayerDiv, this.annotationLayer.div);\n        } else {\n          div.appendChild(textLayerDiv);\n        }\n\n        textLayer = this.textLayerFactory.createTextLayerBuilder(textLayerDiv, this.id - 1, this.viewport, this.textLayerMode === _ui_utils.TextLayerMode.ENABLE_ENHANCE);\n      }\n\n      this.textLayer = textLayer;\n      var renderContinueCallback = null;\n\n      if (this.renderingQueue) {\n        renderContinueCallback = function renderContinueCallback(cont) {\n          if (!_this.renderingQueue.isHighestPriority(_this)) {\n            _this.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n            _this.resume = function () {\n              _this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n              cont();\n            };\n\n            return;\n          }\n\n          cont();\n        };\n      }\n\n      var finishPaintTask =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regenerator[\"default\"].mark(function _callee(error) {\n          return _regenerator[\"default\"].wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (paintTask === _this.paintTask) {\n                    _this.paintTask = null;\n                  }\n\n                  if (!(error instanceof _pdfjsLib.RenderingCancelledException)) {\n                    _context.next = 4;\n                    break;\n                  }\n\n                  _this.error = null;\n                  return _context.abrupt(\"return\");\n\n                case 4:\n                  _this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n                  if (_this.loadingIconDiv) {\n                    div.removeChild(_this.loadingIconDiv);\n                    delete _this.loadingIconDiv;\n                  }\n\n                  _this._resetZoomLayer(true);\n\n                  _this.error = error;\n                  _this.stats = pdfPage.stats;\n\n                  _this.eventBus.dispatch(\"pagerendered\", {\n                    source: _this,\n                    pageNumber: _this.id,\n                    cssTransform: false,\n                    timestamp: performance.now()\n                  });\n\n                  if (!error) {\n                    _context.next = 12;\n                    break;\n                  }\n\n                  throw error;\n\n                case 12:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function finishPaintTask(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      var paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n      paintTask.onRenderContinue = renderContinueCallback;\n      this.paintTask = paintTask;\n      var resultPromise = paintTask.promise.then(function () {\n        return finishPaintTask(null).then(function () {\n          if (textLayer) {\n            var readableStream = pdfPage.streamTextContent({\n              normalizeWhitespace: true\n            });\n            textLayer.setTextContentStream(readableStream);\n            textLayer.render();\n          }\n        });\n      }, function (reason) {\n        return finishPaintTask(reason);\n      });\n\n      if (this.annotationLayerFactory) {\n        if (!this.annotationLayer) {\n          this.annotationLayer = this.annotationLayerFactory.createAnnotationLayerBuilder(div, pdfPage, this.imageResourcesPath, this.renderInteractiveForms, this.l10n);\n        }\n\n        this.annotationLayer.render(this.viewport, \"display\");\n      }\n\n      div.setAttribute(\"data-loaded\", true);\n      this.eventBus.dispatch(\"pagerender\", {\n        source: this,\n        pageNumber: this.id\n      });\n      return resultPromise;\n    }\n  }, {\n    key: \"paintOnCanvas\",\n    value: function paintOnCanvas(canvasWrapper) {\n      var renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n      var result = {\n        promise: renderCapability.promise,\n        onRenderContinue: function onRenderContinue(cont) {\n          cont();\n        },\n        cancel: function cancel() {\n          renderTask.cancel();\n        }\n      };\n      var viewport = this.viewport;\n      var canvas = document.createElement(\"canvas\");\n      canvas.id = this.renderingId;\n      canvas.setAttribute(\"hidden\", \"hidden\");\n      var isCanvasHidden = true;\n\n      var showCanvas = function showCanvas() {\n        if (isCanvasHidden) {\n          canvas.removeAttribute(\"hidden\");\n          isCanvasHidden = false;\n        }\n      };\n\n      canvasWrapper.appendChild(canvas);\n      this.canvas = canvas;\n      canvas.mozOpaque = true;\n      var ctx = canvas.getContext(\"2d\", {\n        alpha: false\n      });\n      var outputScale = (0, _ui_utils.getOutputScale)(ctx);\n      this.outputScale = outputScale;\n\n      if (this.useOnlyCssZoom) {\n        var actualSizeViewport = viewport.clone({\n          scale: _ui_utils.CSS_UNITS\n        });\n        outputScale.sx *= actualSizeViewport.width / viewport.width;\n        outputScale.sy *= actualSizeViewport.height / viewport.height;\n        outputScale.scaled = true;\n      }\n\n      if (this.maxCanvasPixels > 0) {\n        var pixelsInViewport = viewport.width * viewport.height;\n        var maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n\n        if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n          outputScale.sx = maxScale;\n          outputScale.sy = maxScale;\n          outputScale.scaled = true;\n          this.hasRestrictedScaling = true;\n        } else {\n          this.hasRestrictedScaling = false;\n        }\n      }\n\n      var sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n      var sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n      canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n      canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n      canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + \"px\";\n      canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + \"px\";\n      this.paintedViewportMap.set(canvas, viewport);\n      var transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n      var renderContext = {\n        canvasContext: ctx,\n        transform: transform,\n        viewport: this.viewport,\n        enableWebGL: this.enableWebGL,\n        renderInteractiveForms: this.renderInteractiveForms\n      };\n      var renderTask = this.pdfPage.render(renderContext);\n\n      renderTask.onContinue = function (cont) {\n        showCanvas();\n\n        if (result.onRenderContinue) {\n          result.onRenderContinue(cont);\n        } else {\n          cont();\n        }\n      };\n\n      renderTask.promise.then(function () {\n        showCanvas();\n        renderCapability.resolve(undefined);\n      }, function (error) {\n        showCanvas();\n        renderCapability.reject(error);\n      });\n      return result;\n    }\n  }, {\n    key: \"paintOnSvg\",\n    value: function paintOnSvg(wrapper) {\n      var _this2 = this;\n\n      var cancelled = false;\n\n      var ensureNotCancelled = function ensureNotCancelled() {\n        if (cancelled) {\n          throw new _pdfjsLib.RenderingCancelledException(\"Rendering cancelled, page \" + _this2.id, \"svg\");\n        }\n      };\n\n      var pdfPage = this.pdfPage;\n      var actualSizeViewport = this.viewport.clone({\n        scale: _ui_utils.CSS_UNITS\n      });\n      var promise = pdfPage.getOperatorList().then(function (opList) {\n        ensureNotCancelled();\n        var svgGfx = new _pdfjsLib.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n        return svgGfx.getSVG(opList, actualSizeViewport).then(function (svg) {\n          ensureNotCancelled();\n          _this2.svg = svg;\n\n          _this2.paintedViewportMap.set(svg, actualSizeViewport);\n\n          svg.style.width = wrapper.style.width;\n          svg.style.height = wrapper.style.height;\n          _this2.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n          wrapper.appendChild(svg);\n        });\n      });\n      return {\n        promise: promise,\n        onRenderContinue: function onRenderContinue(cont) {\n          cont();\n        },\n        cancel: function cancel() {\n          cancelled = true;\n        }\n      };\n    }\n  }, {\n    key: \"setPageLabel\",\n    value: function setPageLabel(label) {\n      this.pageLabel = typeof label === \"string\" ? label : null;\n\n      if (this.pageLabel !== null) {\n        this.div.setAttribute(\"data-page-label\", this.pageLabel);\n      } else {\n        this.div.removeAttribute(\"data-page-label\");\n      }\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.viewport.width;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.viewport.height;\n    }\n  }]);\n\n  return PDFPageView;\n}();\n\nexports.PDFPageView = PDFPageView;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultTextLayerFactory = exports.TextLayerBuilder = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EXPAND_DIVS_TIMEOUT = 300;\n\nvar TextLayerBuilder =\n/*#__PURE__*/\nfunction () {\n  function TextLayerBuilder(_ref) {\n    var textLayerDiv = _ref.textLayerDiv,\n        eventBus = _ref.eventBus,\n        pageIndex = _ref.pageIndex,\n        viewport = _ref.viewport,\n        _ref$findController = _ref.findController,\n        findController = _ref$findController === void 0 ? null : _ref$findController,\n        _ref$enhanceTextSelec = _ref.enhanceTextSelection,\n        enhanceTextSelection = _ref$enhanceTextSelec === void 0 ? false : _ref$enhanceTextSelec;\n\n    _classCallCheck(this, TextLayerBuilder);\n\n    this.textLayerDiv = textLayerDiv;\n    this.eventBus = eventBus || (0, _ui_utils.getGlobalEventBus)();\n    this.textContent = null;\n    this.textContentItemsStr = [];\n    this.textContentStream = null;\n    this.renderingDone = false;\n    this.pageIdx = pageIndex;\n    this.pageNumber = this.pageIdx + 1;\n    this.matches = [];\n    this.viewport = viewport;\n    this.textDivs = [];\n    this.findController = findController;\n    this.textLayerRenderTask = null;\n    this.enhanceTextSelection = enhanceTextSelection;\n    this._onUpdateTextLayerMatches = null;\n\n    this._bindMouse();\n  }\n\n  _createClass(TextLayerBuilder, [{\n    key: \"_finishRendering\",\n    value: function _finishRendering() {\n      this.renderingDone = true;\n\n      if (!this.enhanceTextSelection) {\n        var endOfContent = document.createElement(\"div\");\n        endOfContent.className = \"endOfContent\";\n        this.textLayerDiv.appendChild(endOfContent);\n      }\n\n      this.eventBus.dispatch(\"textlayerrendered\", {\n        source: this,\n        pageNumber: this.pageNumber,\n        numTextDivs: this.textDivs.length\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n        return;\n      }\n\n      this.cancel();\n      this.textDivs = [];\n      var textLayerFrag = document.createDocumentFragment();\n      this.textLayerRenderTask = (0, _pdfjsLib.renderTextLayer)({\n        textContent: this.textContent,\n        textContentStream: this.textContentStream,\n        container: textLayerFrag,\n        viewport: this.viewport,\n        textDivs: this.textDivs,\n        textContentItemsStr: this.textContentItemsStr,\n        timeout: timeout,\n        enhanceTextSelection: this.enhanceTextSelection\n      });\n      this.textLayerRenderTask.promise.then(function () {\n        _this.textLayerDiv.appendChild(textLayerFrag);\n\n        _this._finishRendering();\n\n        _this._updateMatches();\n      }, function (reason) {});\n\n      if (!this._onUpdateTextLayerMatches) {\n        this._onUpdateTextLayerMatches = function (evt) {\n          if (evt.pageIndex === _this.pageIdx || evt.pageIndex === -1) {\n            _this._updateMatches();\n          }\n        };\n\n        this.eventBus.on(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this.textLayerRenderTask) {\n        this.textLayerRenderTask.cancel();\n        this.textLayerRenderTask = null;\n      }\n\n      if (this._onUpdateTextLayerMatches) {\n        this.eventBus.off(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n        this._onUpdateTextLayerMatches = null;\n      }\n    }\n  }, {\n    key: \"setTextContentStream\",\n    value: function setTextContentStream(readableStream) {\n      this.cancel();\n      this.textContentStream = readableStream;\n    }\n  }, {\n    key: \"setTextContent\",\n    value: function setTextContent(textContent) {\n      this.cancel();\n      this.textContent = textContent;\n    }\n  }, {\n    key: \"_convertMatches\",\n    value: function _convertMatches(matches, matchesLength) {\n      if (!matches) {\n        return [];\n      }\n\n      var findController = this.findController,\n          textContentItemsStr = this.textContentItemsStr;\n      var i = 0,\n          iIndex = 0;\n      var end = textContentItemsStr.length - 1;\n      var queryLen = findController.state.query.length;\n      var result = [];\n\n      for (var m = 0, mm = matches.length; m < mm; m++) {\n        var matchIdx = matches[m];\n\n        while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n          iIndex += textContentItemsStr[i].length;\n          i++;\n        }\n\n        if (i === textContentItemsStr.length) {\n          console.error(\"Could not find a matching mapping\");\n        }\n\n        var match = {\n          begin: {\n            divIdx: i,\n            offset: matchIdx - iIndex\n          }\n        };\n\n        if (matchesLength) {\n          matchIdx += matchesLength[m];\n        } else {\n          matchIdx += queryLen;\n        }\n\n        while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n          iIndex += textContentItemsStr[i].length;\n          i++;\n        }\n\n        match.end = {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        };\n        result.push(match);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_renderMatches\",\n    value: function _renderMatches(matches) {\n      if (matches.length === 0) {\n        return;\n      }\n\n      var findController = this.findController,\n          pageIdx = this.pageIdx,\n          textContentItemsStr = this.textContentItemsStr,\n          textDivs = this.textDivs;\n      var isSelectedPage = pageIdx === findController.selected.pageIdx;\n      var selectedMatchIdx = findController.selected.matchIdx;\n      var highlightAll = findController.state.highlightAll;\n      var prevEnd = null;\n      var infinity = {\n        divIdx: -1,\n        offset: undefined\n      };\n\n      function beginText(begin, className) {\n        var divIdx = begin.divIdx;\n        textDivs[divIdx].textContent = \"\";\n        appendTextToDiv(divIdx, 0, begin.offset, className);\n      }\n\n      function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n        var div = textDivs[divIdx];\n        var content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n\n        if (className) {\n          var span = document.createElement(\"span\");\n          span.className = className;\n          span.appendChild(node);\n          div.appendChild(span);\n          return;\n        }\n\n        div.appendChild(node);\n      }\n\n      var i0 = selectedMatchIdx,\n          i1 = i0 + 1;\n\n      if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n      } else if (!isSelectedPage) {\n        return;\n      }\n\n      for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        var isSelected = isSelectedPage && i === selectedMatchIdx;\n        var highlightSuffix = isSelected ? \" selected\" : \"\";\n\n        if (isSelected) {\n          findController.scrollMatchIntoView({\n            element: textDivs[begin.divIdx],\n            pageIndex: pageIdx,\n            matchIndex: selectedMatchIdx\n          });\n        }\n\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n          if (prevEnd !== null) {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n          }\n\n          beginText(begin);\n        } else {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n          appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n        } else {\n          appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n\n          for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n            textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n          }\n\n          beginText(end, \"highlight end\" + highlightSuffix);\n        }\n\n        prevEnd = end;\n      }\n\n      if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n      }\n    }\n  }, {\n    key: \"_updateMatches\",\n    value: function _updateMatches() {\n      if (!this.renderingDone) {\n        return;\n      }\n\n      var findController = this.findController,\n          matches = this.matches,\n          pageIdx = this.pageIdx,\n          textContentItemsStr = this.textContentItemsStr,\n          textDivs = this.textDivs;\n      var clearedUntilDivIdx = -1;\n\n      for (var i = 0, ii = matches.length; i < ii; i++) {\n        var match = matches[i];\n        var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n        for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n          var div = textDivs[n];\n          div.textContent = textContentItemsStr[n];\n          div.className = \"\";\n        }\n\n        clearedUntilDivIdx = match.end.divIdx + 1;\n      }\n\n      if (!findController || !findController.highlightMatches) {\n        return;\n      }\n\n      var pageMatches = findController.pageMatches[pageIdx] || null;\n      var pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n      this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n\n      this._renderMatches(this.matches);\n    }\n  }, {\n    key: \"_bindMouse\",\n    value: function _bindMouse() {\n      var _this2 = this;\n\n      var div = this.textLayerDiv;\n      var expandDivsTimer = null;\n      div.addEventListener(\"mousedown\", function (evt) {\n        if (_this2.enhanceTextSelection && _this2.textLayerRenderTask) {\n          _this2.textLayerRenderTask.expandTextDivs(true);\n\n          if (expandDivsTimer) {\n            clearTimeout(expandDivsTimer);\n            expandDivsTimer = null;\n          }\n\n          return;\n        }\n\n        var end = div.querySelector(\".endOfContent\");\n\n        if (!end) {\n          return;\n        }\n\n        var adjustTop = evt.target !== div;\n        adjustTop = adjustTop && window.getComputedStyle(end).getPropertyValue(\"-moz-user-select\") !== \"none\";\n\n        if (adjustTop) {\n          var divBounds = div.getBoundingClientRect();\n          var r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n          end.style.top = (r * 100).toFixed(2) + \"%\";\n        }\n\n        end.classList.add(\"active\");\n      });\n      div.addEventListener(\"mouseup\", function () {\n        if (_this2.enhanceTextSelection && _this2.textLayerRenderTask) {\n          expandDivsTimer = setTimeout(function () {\n            if (_this2.textLayerRenderTask) {\n              _this2.textLayerRenderTask.expandTextDivs(false);\n            }\n\n            expandDivsTimer = null;\n          }, EXPAND_DIVS_TIMEOUT);\n          return;\n        }\n\n        var end = div.querySelector(\".endOfContent\");\n\n        if (!end) {\n          return;\n        }\n\n        end.style.top = \"\";\n        end.classList.remove(\"active\");\n      });\n    }\n  }]);\n\n  return TextLayerBuilder;\n}();\n\nexports.TextLayerBuilder = TextLayerBuilder;\n\nvar DefaultTextLayerFactory =\n/*#__PURE__*/\nfunction () {\n  function DefaultTextLayerFactory() {\n    _classCallCheck(this, DefaultTextLayerFactory);\n  }\n\n  _createClass(DefaultTextLayerFactory, [{\n    key: \"createTextLayerBuilder\",\n    value: function createTextLayerBuilder(textLayerDiv, pageIndex, viewport) {\n      var enhanceTextSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return new TextLayerBuilder({\n        textLayerDiv: textLayerDiv,\n        pageIndex: pageIndex,\n        viewport: viewport,\n        enhanceTextSelection: enhanceTextSelection\n      });\n    }\n  }]);\n\n  return DefaultTextLayerFactory;\n}();\n\nexports.DefaultTextLayerFactory = DefaultTextLayerFactory;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SecondaryToolbar = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _pdf_cursor_tools = __webpack_require__(9);\n\nvar _pdf_single_page_viewer = __webpack_require__(33);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SecondaryToolbar =\n/*#__PURE__*/\nfunction () {\n  function SecondaryToolbar(options, mainContainer, eventBus) {\n    var _this = this;\n\n    _classCallCheck(this, SecondaryToolbar);\n\n    this.toolbar = options.toolbar;\n    this.toggleButton = options.toggleButton;\n    this.toolbarButtonContainer = options.toolbarButtonContainer;\n    this.buttons = [{\n      element: options.presentationModeButton,\n      eventName: \"presentationmode\",\n      close: true\n    }, {\n      element: options.openFileButton,\n      eventName: \"openfile\",\n      close: true\n    }, {\n      element: options.printButton,\n      eventName: \"print\",\n      close: true\n    }, {\n      element: options.downloadButton,\n      eventName: \"download\",\n      close: true\n    }, {\n      element: options.viewBookmarkButton,\n      eventName: null,\n      close: true\n    }, {\n      element: options.firstPageButton,\n      eventName: \"firstpage\",\n      close: true\n    }, {\n      element: options.lastPageButton,\n      eventName: \"lastpage\",\n      close: true\n    }, {\n      element: options.pageRotateCwButton,\n      eventName: \"rotatecw\",\n      close: false\n    }, {\n      element: options.pageRotateCcwButton,\n      eventName: \"rotateccw\",\n      close: false\n    }, {\n      element: options.cursorSelectToolButton,\n      eventName: \"switchcursortool\",\n      eventDetails: {\n        tool: _pdf_cursor_tools.CursorTool.SELECT\n      },\n      close: true\n    }, {\n      element: options.cursorHandToolButton,\n      eventName: \"switchcursortool\",\n      eventDetails: {\n        tool: _pdf_cursor_tools.CursorTool.HAND\n      },\n      close: true\n    }, {\n      element: options.scrollVerticalButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.VERTICAL\n      },\n      close: true\n    }, {\n      element: options.scrollHorizontalButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.HORIZONTAL\n      },\n      close: true\n    }, {\n      element: options.scrollWrappedButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.WRAPPED\n      },\n      close: true\n    }, {\n      element: options.spreadNoneButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.NONE\n      },\n      close: true\n    }, {\n      element: options.spreadOddButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.ODD\n      },\n      close: true\n    }, {\n      element: options.spreadEvenButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.EVEN\n      },\n      close: true\n    }, {\n      element: options.documentPropertiesButton,\n      eventName: \"documentproperties\",\n      close: true\n    }];\n    this.items = {\n      firstPage: options.firstPageButton,\n      lastPage: options.lastPageButton,\n      pageRotateCw: options.pageRotateCwButton,\n      pageRotateCcw: options.pageRotateCcwButton\n    };\n    this.mainContainer = mainContainer;\n    this.eventBus = eventBus;\n    this.opened = false;\n    this.containerHeight = null;\n    this.previousContainerHeight = null;\n    this.reset();\n\n    this._bindClickListeners();\n\n    this._bindCursorToolsListener(options);\n\n    this._bindScrollModeListener(options);\n\n    this._bindSpreadModeListener(options);\n\n    this.eventBus.on(\"resize\", this._setMaxHeight.bind(this));\n    this.eventBus.on(\"baseviewerinit\", function (evt) {\n      if (evt.source instanceof _pdf_single_page_viewer.PDFSinglePageViewer) {\n        _this.toolbarButtonContainer.classList.add(\"hiddenScrollModeButtons\", \"hiddenSpreadModeButtons\");\n      } else {\n        _this.toolbarButtonContainer.classList.remove(\"hiddenScrollModeButtons\", \"hiddenSpreadModeButtons\");\n      }\n    });\n  }\n\n  _createClass(SecondaryToolbar, [{\n    key: \"setPageNumber\",\n    value: function setPageNumber(pageNumber) {\n      this.pageNumber = pageNumber;\n\n      this._updateUIState();\n    }\n  }, {\n    key: \"setPagesCount\",\n    value: function setPagesCount(pagesCount) {\n      this.pagesCount = pagesCount;\n\n      this._updateUIState();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.pageNumber = 0;\n      this.pagesCount = 0;\n\n      this._updateUIState();\n\n      this.eventBus.dispatch(\"secondarytoolbarreset\", {\n        source: this\n      });\n    }\n  }, {\n    key: \"_updateUIState\",\n    value: function _updateUIState() {\n      this.items.firstPage.disabled = this.pageNumber <= 1;\n      this.items.lastPage.disabled = this.pageNumber >= this.pagesCount;\n      this.items.pageRotateCw.disabled = this.pagesCount === 0;\n      this.items.pageRotateCcw.disabled = this.pagesCount === 0;\n    }\n  }, {\n    key: \"_bindClickListeners\",\n    value: function _bindClickListeners() {\n      var _this2 = this;\n\n      this.toggleButton.addEventListener(\"click\", this.toggle.bind(this));\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        var _loop = function _loop() {\n          var _step$value = _step.value,\n              element = _step$value.element,\n              eventName = _step$value.eventName,\n              close = _step$value.close,\n              eventDetails = _step$value.eventDetails;\n          element.addEventListener(\"click\", function (evt) {\n            if (eventName !== null) {\n              var details = {\n                source: _this2\n              };\n\n              for (var property in eventDetails) {\n                details[property] = eventDetails[property];\n              }\n\n              _this2.eventBus.dispatch(eventName, details);\n            }\n\n            if (close) {\n              _this2.close();\n            }\n          });\n        };\n\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          _loop();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_bindCursorToolsListener\",\n    value: function _bindCursorToolsListener(buttons) {\n      this.eventBus.on(\"cursortoolchanged\", function (_ref) {\n        var tool = _ref.tool;\n        buttons.cursorSelectToolButton.classList.toggle(\"toggled\", tool === _pdf_cursor_tools.CursorTool.SELECT);\n        buttons.cursorHandToolButton.classList.toggle(\"toggled\", tool === _pdf_cursor_tools.CursorTool.HAND);\n      });\n    }\n  }, {\n    key: \"_bindScrollModeListener\",\n    value: function _bindScrollModeListener(buttons) {\n      var _this3 = this;\n\n      function scrollModeChanged(_ref2) {\n        var mode = _ref2.mode;\n        buttons.scrollVerticalButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.VERTICAL);\n        buttons.scrollHorizontalButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.HORIZONTAL);\n        buttons.scrollWrappedButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.WRAPPED);\n        var isScrollModeHorizontal = mode === _ui_utils.ScrollMode.HORIZONTAL;\n        buttons.spreadNoneButton.disabled = isScrollModeHorizontal;\n        buttons.spreadOddButton.disabled = isScrollModeHorizontal;\n        buttons.spreadEvenButton.disabled = isScrollModeHorizontal;\n      }\n\n      this.eventBus.on(\"scrollmodechanged\", scrollModeChanged);\n      this.eventBus.on(\"secondarytoolbarreset\", function (evt) {\n        if (evt.source === _this3) {\n          scrollModeChanged({\n            mode: _ui_utils.ScrollMode.VERTICAL\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_bindSpreadModeListener\",\n    value: function _bindSpreadModeListener(buttons) {\n      var _this4 = this;\n\n      function spreadModeChanged(_ref3) {\n        var mode = _ref3.mode;\n        buttons.spreadNoneButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.NONE);\n        buttons.spreadOddButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.ODD);\n        buttons.spreadEvenButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.EVEN);\n      }\n\n      this.eventBus.on(\"spreadmodechanged\", spreadModeChanged);\n      this.eventBus.on(\"secondarytoolbarreset\", function (evt) {\n        if (evt.source === _this4) {\n          spreadModeChanged({\n            mode: _ui_utils.SpreadMode.NONE\n          });\n        }\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      if (this.opened) {\n        return;\n      }\n\n      this.opened = true;\n\n      this._setMaxHeight();\n\n      this.toggleButton.classList.add(\"toggled\");\n      this.toolbar.classList.remove(\"hidden\");\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.opened = false;\n      this.toolbar.classList.add(\"hidden\");\n      this.toggleButton.classList.remove(\"toggled\");\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.opened) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n  }, {\n    key: \"_setMaxHeight\",\n    value: function _setMaxHeight() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.containerHeight = this.mainContainer.clientHeight;\n\n      if (this.containerHeight === this.previousContainerHeight) {\n        return;\n      }\n\n      this.toolbarButtonContainer.setAttribute(\"style\", \"max-height: \" + (this.containerHeight - _ui_utils.SCROLLBAR_PADDING) + \"px;\");\n      this.previousContainerHeight = this.containerHeight;\n    }\n  }, {\n    key: \"isOpen\",\n    get: function get() {\n      return this.opened;\n    }\n  }]);\n\n  return SecondaryToolbar;\n}();\n\nexports.SecondaryToolbar = SecondaryToolbar;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSinglePageViewer = void 0;\n\nvar _base_viewer = __webpack_require__(28);\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PDFSinglePageViewer =\n/*#__PURE__*/\nfunction (_BaseViewer) {\n  _inherits(PDFSinglePageViewer, _BaseViewer);\n\n  function PDFSinglePageViewer(options) {\n    var _this;\n\n    _classCallCheck(this, PDFSinglePageViewer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PDFSinglePageViewer).call(this, options));\n\n    _this.eventBus.on(\"pagesinit\", function (evt) {\n      _this._ensurePageViewVisible();\n    });\n\n    return _this;\n  }\n\n  _createClass(PDFSinglePageViewer, [{\n    key: \"_resetView\",\n    value: function _resetView() {\n      _get(_getPrototypeOf(PDFSinglePageViewer.prototype), \"_resetView\", this).call(this);\n\n      this._previousPageNumber = 1;\n      this._shadowViewer = document.createDocumentFragment();\n      this._updateScrollDown = null;\n    }\n  }, {\n    key: \"_ensurePageViewVisible\",\n    value: function _ensurePageViewVisible() {\n      var pageView = this._pages[this._currentPageNumber - 1];\n      var previousPageView = this._pages[this._previousPageNumber - 1];\n      var viewerNodes = this.viewer.childNodes;\n\n      switch (viewerNodes.length) {\n        case 0:\n          this.viewer.appendChild(pageView.div);\n          break;\n\n        case 1:\n          if (viewerNodes[0] !== previousPageView.div) {\n            throw new Error(\"_ensurePageViewVisible: Unexpected previously visible page.\");\n          }\n\n          if (pageView === previousPageView) {\n            break;\n          }\n\n          this._shadowViewer.appendChild(previousPageView.div);\n\n          this.viewer.appendChild(pageView.div);\n          this.container.scrollTop = 0;\n          break;\n\n        default:\n          throw new Error(\"_ensurePageViewVisible: Only one page should be visible at a time.\");\n      }\n\n      this._previousPageNumber = this._currentPageNumber;\n    }\n  }, {\n    key: \"_scrollUpdate\",\n    value: function _scrollUpdate() {\n      if (this._updateScrollDown) {\n        this._updateScrollDown();\n      }\n\n      _get(_getPrototypeOf(PDFSinglePageViewer.prototype), \"_scrollUpdate\", this).call(this);\n    }\n  }, {\n    key: \"_scrollIntoView\",\n    value: function _scrollIntoView(_ref) {\n      var _this2 = this;\n\n      var pageDiv = _ref.pageDiv,\n          _ref$pageSpot = _ref.pageSpot,\n          pageSpot = _ref$pageSpot === void 0 ? null : _ref$pageSpot,\n          _ref$pageNumber = _ref.pageNumber,\n          pageNumber = _ref$pageNumber === void 0 ? null : _ref$pageNumber;\n\n      if (pageNumber) {\n        this._setCurrentPageNumber(pageNumber);\n      }\n\n      var scrolledDown = this._currentPageNumber >= this._previousPageNumber;\n\n      this._ensurePageViewVisible();\n\n      this.update();\n\n      _get(_getPrototypeOf(PDFSinglePageViewer.prototype), \"_scrollIntoView\", this).call(this, {\n        pageDiv: pageDiv,\n        pageSpot: pageSpot,\n        pageNumber: pageNumber\n      });\n\n      this._updateScrollDown = function () {\n        _this2.scroll.down = scrolledDown;\n        _this2._updateScrollDown = null;\n      };\n    }\n  }, {\n    key: \"_getVisiblePages\",\n    value: function _getVisiblePages() {\n      return this._getCurrentVisiblePage();\n    }\n  }, {\n    key: \"_updateHelper\",\n    value: function _updateHelper(visiblePages) {}\n  }, {\n    key: \"_updateScrollMode\",\n    value: function _updateScrollMode() {}\n  }, {\n    key: \"_updateSpreadMode\",\n    value: function _updateSpreadMode() {}\n  }, {\n    key: \"_setDocumentViewerElement\",\n    get: function get() {\n      return (0, _pdfjsLib.shadow)(this, \"_setDocumentViewerElement\", this._shadowViewer);\n    }\n  }, {\n    key: \"_isScrollModeHorizontal\",\n    get: function get() {\n      return (0, _pdfjsLib.shadow)(this, \"_isScrollModeHorizontal\", false);\n    }\n  }]);\n\n  return PDFSinglePageViewer;\n}(_base_viewer.BaseViewer);\n\nexports.PDFSinglePageViewer = PDFSinglePageViewer;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Toolbar = void 0;\n\nvar _ui_utils = __webpack_require__(5);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PAGE_NUMBER_LOADING_INDICATOR = \"visiblePageIsLoading\";\nvar SCALE_SELECT_CONTAINER_PADDING = 8;\nvar SCALE_SELECT_PADDING = 22;\n\nvar Toolbar =\n/*#__PURE__*/\nfunction () {\n  function Toolbar(options, eventBus) {\n    var l10n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _ui_utils.NullL10n;\n\n    _classCallCheck(this, Toolbar);\n\n    this.toolbar = options.container;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this.buttons = [{\n      element: options.previous,\n      eventName: \"previouspage\"\n    }, {\n      element: options.next,\n      eventName: \"nextpage\"\n    }, {\n      element: options.zoomIn,\n      eventName: \"zoomin\"\n    }, {\n      element: options.zoomOut,\n      eventName: \"zoomout\"\n    }, {\n      element: options.openFile,\n      eventName: \"openfile\"\n    }, {\n      element: options.print,\n      eventName: \"print\"\n    }, {\n      element: options.presentationModeButton,\n      eventName: \"presentationmode\"\n    }, {\n      element: options.download,\n      eventName: \"download\"\n    }, {\n      element: options.viewBookmark,\n      eventName: null\n    }];\n    this.items = {\n      numPages: options.numPages,\n      pageNumber: options.pageNumber,\n      scaleSelectContainer: options.scaleSelectContainer,\n      scaleSelect: options.scaleSelect,\n      customScaleOption: options.customScaleOption,\n      previous: options.previous,\n      next: options.next,\n      zoomIn: options.zoomIn,\n      zoomOut: options.zoomOut\n    };\n    this._wasLocalized = false;\n    this.reset();\n\n    this._bindListeners();\n  }\n\n  _createClass(Toolbar, [{\n    key: \"setPageNumber\",\n    value: function setPageNumber(pageNumber, pageLabel) {\n      this.pageNumber = pageNumber;\n      this.pageLabel = pageLabel;\n\n      this._updateUIState(false);\n    }\n  }, {\n    key: \"setPagesCount\",\n    value: function setPagesCount(pagesCount, hasPageLabels) {\n      this.pagesCount = pagesCount;\n      this.hasPageLabels = hasPageLabels;\n\n      this._updateUIState(true);\n    }\n  }, {\n    key: \"setPageScale\",\n    value: function setPageScale(pageScaleValue, pageScale) {\n      this.pageScaleValue = (pageScaleValue || pageScale).toString();\n      this.pageScale = pageScale;\n\n      this._updateUIState(false);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.pageNumber = 0;\n      this.pageLabel = null;\n      this.hasPageLabels = false;\n      this.pagesCount = 0;\n      this.pageScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n      this.pageScale = _ui_utils.DEFAULT_SCALE;\n\n      this._updateUIState(true);\n\n      this.updateLoadingIndicatorState();\n    }\n  }, {\n    key: \"_bindListeners\",\n    value: function _bindListeners() {\n      var _this = this;\n\n      var _this$items = this.items,\n          pageNumber = _this$items.pageNumber,\n          scaleSelect = _this$items.scaleSelect;\n      var self = this;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        var _loop = function _loop() {\n          var _step$value = _step.value,\n              element = _step$value.element,\n              eventName = _step$value.eventName;\n          element.addEventListener(\"click\", function (evt) {\n            if (eventName !== null) {\n              _this.eventBus.dispatch(eventName, {\n                source: _this\n              });\n            }\n          });\n        };\n\n        for (var _iterator = this.buttons[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          _loop();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      pageNumber.addEventListener(\"click\", function () {\n        this.select();\n      });\n      pageNumber.addEventListener(\"change\", function () {\n        self.eventBus.dispatch(\"pagenumberchanged\", {\n          source: self,\n          value: this.value\n        });\n      });\n      scaleSelect.addEventListener(\"change\", function () {\n        if (this.value === \"custom\") {\n          return;\n        }\n\n        self.eventBus.dispatch(\"scalechanged\", {\n          source: self,\n          value: this.value\n        });\n      });\n      scaleSelect.oncontextmenu = _ui_utils.noContextMenuHandler;\n      this.eventBus.on(\"localized\", function () {\n        _this._wasLocalized = true;\n\n        _this._adjustScaleWidth();\n\n        _this._updateUIState(true);\n      });\n    }\n  }, {\n    key: \"_updateUIState\",\n    value: function _updateUIState() {\n      var resetNumPages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this._wasLocalized) {\n        return;\n      }\n\n      var pageNumber = this.pageNumber,\n          pagesCount = this.pagesCount,\n          pageScaleValue = this.pageScaleValue,\n          pageScale = this.pageScale,\n          items = this.items;\n\n      if (resetNumPages) {\n        if (this.hasPageLabels) {\n          items.pageNumber.type = \"text\";\n        } else {\n          items.pageNumber.type = \"number\";\n          this.l10n.get(\"of_pages\", {\n            pagesCount: pagesCount\n          }, \"of {{pagesCount}}\").then(function (msg) {\n            items.numPages.textContent = msg;\n          });\n        }\n\n        items.pageNumber.max = pagesCount;\n      }\n\n      if (this.hasPageLabels) {\n        items.pageNumber.value = this.pageLabel;\n        this.l10n.get(\"page_of_pages\", {\n          pageNumber: pageNumber,\n          pagesCount: pagesCount\n        }, \"({{pageNumber}} of {{pagesCount}})\").then(function (msg) {\n          items.numPages.textContent = msg;\n        });\n      } else {\n        items.pageNumber.value = pageNumber;\n      }\n\n      items.previous.disabled = pageNumber <= 1;\n      items.next.disabled = pageNumber >= pagesCount;\n      items.zoomOut.disabled = pageScale <= _ui_utils.MIN_SCALE;\n      items.zoomIn.disabled = pageScale >= _ui_utils.MAX_SCALE;\n      var customScale = Math.round(pageScale * 10000) / 100;\n      this.l10n.get(\"page_scale_percent\", {\n        scale: customScale\n      }, \"{{scale}}%\").then(function (msg) {\n        var predefinedValueFound = false;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = items.scaleSelect.options[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var option = _step2.value;\n\n            if (option.value !== pageScaleValue) {\n              option.selected = false;\n              continue;\n            }\n\n            option.selected = true;\n            predefinedValueFound = true;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (!predefinedValueFound) {\n          items.customScaleOption.textContent = msg;\n          items.customScaleOption.selected = true;\n        }\n      });\n    }\n  }, {\n    key: \"updateLoadingIndicatorState\",\n    value: function updateLoadingIndicatorState() {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var pageNumberInput = this.items.pageNumber;\n      pageNumberInput.classList.toggle(PAGE_NUMBER_LOADING_INDICATOR, loading);\n    }\n  }, {\n    key: \"_adjustScaleWidth\",\n    value: function _adjustScaleWidth() {\n      var container = this.items.scaleSelectContainer;\n      var select = this.items.scaleSelect;\n\n      _ui_utils.animationStarted.then(function () {\n        if (container.clientWidth === 0) {\n          container.setAttribute(\"style\", \"display: inherit;\");\n        }\n\n        if (container.clientWidth > 0) {\n          select.setAttribute(\"style\", \"min-width: inherit;\");\n          var width = select.clientWidth + SCALE_SELECT_CONTAINER_PADDING;\n          select.setAttribute(\"style\", \"min-width: \".concat(width + SCALE_SELECT_PADDING, \"px;\"));\n          container.setAttribute(\"style\", \"min-width: \".concat(width, \"px; max-width: \").concat(width, \"px;\"));\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}();\n\nexports.Toolbar = Toolbar;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewHistory = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_VIEW_HISTORY_CACHE_SIZE = 20;\n\nvar ViewHistory =\n/*#__PURE__*/\nfunction () {\n  function ViewHistory(fingerprint) {\n    var _this = this;\n\n    var cacheSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_VIEW_HISTORY_CACHE_SIZE;\n\n    _classCallCheck(this, ViewHistory);\n\n    this.fingerprint = fingerprint;\n    this.cacheSize = cacheSize;\n    this._initializedPromise = this._readFromStorage().then(function (databaseStr) {\n      var database = JSON.parse(databaseStr || \"{}\");\n\n      if (!(\"files\" in database)) {\n        database.files = [];\n      } else {\n        while (database.files.length >= _this.cacheSize) {\n          database.files.shift();\n        }\n      }\n\n      var index = -1;\n\n      for (var i = 0, length = database.files.length; i < length; i++) {\n        var branch = database.files[i];\n\n        if (branch.fingerprint === _this.fingerprint) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index === -1) {\n        index = database.files.push({\n          fingerprint: _this.fingerprint\n        }) - 1;\n      }\n\n      _this.file = database.files[index];\n      _this.database = database;\n    });\n  }\n\n  _createClass(ViewHistory, [{\n    key: \"_writeToStorage\",\n    value: function () {\n      var _writeToStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        var databaseStr;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                databaseStr = JSON.stringify(this.database);\n                localStorage.setItem(\"pdfjs.history\", databaseStr);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _writeToStorage() {\n        return _writeToStorage2.apply(this, arguments);\n      }\n\n      return _writeToStorage;\n    }()\n  }, {\n    key: \"_readFromStorage\",\n    value: function () {\n      var _readFromStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2() {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", localStorage.getItem(\"pdfjs.history\"));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function _readFromStorage() {\n        return _readFromStorage2.apply(this, arguments);\n      }\n\n      return _readFromStorage;\n    }()\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3(name, val) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                this.file[name] = val;\n                return _context3.abrupt(\"return\", this._writeToStorage());\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function set(_x, _x2) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"setMultiple\",\n    value: function () {\n      var _setMultiple = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee4(properties) {\n        var name;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                for (name in properties) {\n                  this.file[name] = properties[name];\n                }\n\n                return _context4.abrupt(\"return\", this._writeToStorage());\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function setMultiple(_x3) {\n        return _setMultiple.apply(this, arguments);\n      }\n\n      return setMultiple;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee5(name, defaultValue) {\n        var val;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                val = this.file[name];\n                return _context5.abrupt(\"return\", val !== undefined ? val : defaultValue);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function get(_x4, _x5) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getMultiple\",\n    value: function () {\n      var _getMultiple = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee6(properties) {\n        var values, name, val;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                values = Object.create(null);\n\n                for (name in properties) {\n                  val = this.file[name];\n                  values[name] = val !== undefined ? val : properties[name];\n                }\n\n                return _context6.abrupt(\"return\", values);\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getMultiple(_x6) {\n        return _getMultiple.apply(this, arguments);\n      }\n\n      return getMultiple;\n    }()\n  }]);\n\n  return ViewHistory;\n}();\n\nexports.ViewHistory = ViewHistory;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GenericCom = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nvar _app = __webpack_require__(1);\n\nvar _preferences = __webpack_require__(37);\n\nvar _download_manager = __webpack_require__(38);\n\nvar _genericl10n = __webpack_require__(39);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n;\nvar GenericCom = {};\nexports.GenericCom = GenericCom;\n\nvar GenericPreferences =\n/*#__PURE__*/\nfunction (_BasePreferences) {\n  _inherits(GenericPreferences, _BasePreferences);\n\n  function GenericPreferences() {\n    _classCallCheck(this, GenericPreferences);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GenericPreferences).apply(this, arguments));\n  }\n\n  _createClass(GenericPreferences, [{\n    key: \"_writeToStorage\",\n    value: function () {\n      var _writeToStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee(prefObj) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                localStorage.setItem(\"pdfjs.preferences\", JSON.stringify(prefObj));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function _writeToStorage(_x) {\n        return _writeToStorage2.apply(this, arguments);\n      }\n\n      return _writeToStorage;\n    }()\n  }, {\n    key: \"_readFromStorage\",\n    value: function () {\n      var _readFromStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2(prefObj) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", JSON.parse(localStorage.getItem(\"pdfjs.preferences\")));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function _readFromStorage(_x2) {\n        return _readFromStorage2.apply(this, arguments);\n      }\n\n      return _readFromStorage;\n    }()\n  }]);\n\n  return GenericPreferences;\n}(_preferences.BasePreferences);\n\nvar GenericExternalServices = Object.create(_app.DefaultExternalServices);\n\nGenericExternalServices.createDownloadManager = function (options) {\n  return new _download_manager.DownloadManager(options);\n};\n\nGenericExternalServices.createPreferences = function () {\n  return new GenericPreferences();\n};\n\nGenericExternalServices.createL10n = function (_ref) {\n  var _ref$locale = _ref.locale,\n      locale = _ref$locale === void 0 ? \"en-US\" : _ref$locale;\n  return new _genericl10n.GenericL10n(locale);\n};\n\n_app.PDFViewerApplication.externalServices = GenericExternalServices;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BasePreferences = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar defaultPreferences = null;\n\nfunction getDefaultPreferences() {\n  if (!defaultPreferences) {\n    defaultPreferences = Promise.resolve({\n      \"cursorToolOnLoad\": 0,\n      \"defaultZoomValue\": \"\",\n      \"disablePageLabels\": false,\n      \"enablePrintAutoRotate\": false,\n      \"enableWebGL\": false,\n      \"eventBusDispatchToDOM\": false,\n      \"externalLinkTarget\": 0,\n      \"historyUpdateUrl\": false,\n      \"pdfBugEnabled\": false,\n      \"renderer\": \"canvas\",\n      \"renderInteractiveForms\": false,\n      \"sidebarViewOnLoad\": -1,\n      \"scrollModeOnLoad\": -1,\n      \"spreadModeOnLoad\": -1,\n      \"textLayerMode\": 1,\n      \"useOnlyCssZoom\": false,\n      \"viewOnLoad\": 0,\n      \"disableAutoFetch\": false,\n      \"disableFontFace\": false,\n      \"disableRange\": false,\n      \"disableStream\": false\n    });\n  }\n\n  return defaultPreferences;\n}\n\nvar BasePreferences =\n/*#__PURE__*/\nfunction () {\n  function BasePreferences() {\n    var _this = this;\n\n    _classCallCheck(this, BasePreferences);\n\n    if (this.constructor === BasePreferences) {\n      throw new Error(\"Cannot initialize BasePreferences.\");\n    }\n\n    this.prefs = null;\n    this._initializedPromise = getDefaultPreferences().then(function (defaults) {\n      Object.defineProperty(_this, \"defaults\", {\n        value: Object.freeze(defaults),\n        writable: false,\n        enumerable: true,\n        configurable: false\n      });\n      _this.prefs = Object.assign(Object.create(null), defaults);\n      return _this._readFromStorage(defaults);\n    }).then(function (prefs) {\n      if (!prefs) {\n        return;\n      }\n\n      for (var name in prefs) {\n        var defaultValue = _this.defaults[name],\n            prefValue = prefs[name];\n\n        if (defaultValue === undefined || _typeof(prefValue) !== _typeof(defaultValue)) {\n          continue;\n        }\n\n        _this.prefs[name] = prefValue;\n      }\n    });\n  }\n\n  _createClass(BasePreferences, [{\n    key: \"_writeToStorage\",\n    value: function () {\n      var _writeToStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee(prefObj) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                throw new Error(\"Not implemented: _writeToStorage\");\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function _writeToStorage(_x) {\n        return _writeToStorage2.apply(this, arguments);\n      }\n\n      return _writeToStorage;\n    }()\n  }, {\n    key: \"_readFromStorage\",\n    value: function () {\n      var _readFromStorage2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2(prefObj) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                throw new Error(\"Not implemented: _readFromStorage\");\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function _readFromStorage(_x2) {\n        return _readFromStorage2.apply(this, arguments);\n      }\n\n      return _readFromStorage;\n    }()\n  }, {\n    key: \"reset\",\n    value: function () {\n      var _reset = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                this.prefs = Object.assign(Object.create(null), this.defaults);\n                return _context3.abrupt(\"return\", this._writeToStorage(this.defaults));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n\n      return reset;\n    }()\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee4(name, value) {\n        var defaultValue, valueType, defaultType;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                defaultValue = this.defaults[name];\n\n                if (!(defaultValue === undefined)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Set preference: \\\"\".concat(name, \"\\\" is undefined.\"));\n\n              case 7:\n                if (!(value === undefined)) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                throw new Error(\"Set preference: no value is specified.\");\n\n              case 9:\n                valueType = _typeof(value);\n                defaultType = _typeof(defaultValue);\n\n                if (!(valueType !== defaultType)) {\n                  _context4.next = 19;\n                  break;\n                }\n\n                if (!(valueType === \"number\" && defaultType === \"string\")) {\n                  _context4.next = 16;\n                  break;\n                }\n\n                value = value.toString();\n                _context4.next = 17;\n                break;\n\n              case 16:\n                throw new Error(\"Set preference: \\\"\".concat(value, \"\\\" is a \").concat(valueType, \", \") + \"expected a \".concat(defaultType, \".\"));\n\n              case 17:\n                _context4.next = 21;\n                break;\n\n              case 19:\n                if (!(valueType === \"number\" && !Number.isInteger(value))) {\n                  _context4.next = 21;\n                  break;\n                }\n\n                throw new Error(\"Set preference: \\\"\".concat(value, \"\\\" must be an integer.\"));\n\n              case 21:\n                this.prefs[name] = value;\n                return _context4.abrupt(\"return\", this._writeToStorage(this.prefs));\n\n              case 23:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function set(_x3, _x4) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee5(name) {\n        var defaultValue, prefValue;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                defaultValue = this.defaults[name];\n\n                if (!(defaultValue === undefined)) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Get preference: \\\"\".concat(name, \"\\\" is undefined.\"));\n\n              case 7:\n                prefValue = this.prefs[name];\n\n                if (!(prefValue !== undefined)) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", prefValue);\n\n              case 10:\n                return _context5.abrupt(\"return\", defaultValue);\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function get(_x5) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getAll\",\n    value: function () {\n      var _getAll = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee6() {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this._initializedPromise;\n\n              case 2:\n                return _context6.abrupt(\"return\", Object.assign(Object.create(null), this.defaults, this.prefs));\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAll() {\n        return _getAll.apply(this, arguments);\n      }\n\n      return getAll;\n    }()\n  }]);\n\n  return BasePreferences;\n}();\n\nexports.BasePreferences = BasePreferences;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DownloadManager = void 0;\n\nvar _pdfjsLib = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n;\nvar DISABLE_CREATE_OBJECT_URL = _pdfjsLib.apiCompatibilityParams.disableCreateObjectURL || false;\n\nfunction _download(blobUrl, filename) {\n  var a = document.createElement(\"a\");\n\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n\n  a.href = blobUrl;\n  a.target = \"_parent\";\n\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n\n  (document.body || document.documentElement).appendChild(a);\n  a.click();\n  a.remove();\n}\n\nvar DownloadManager =\n/*#__PURE__*/\nfunction () {\n  function DownloadManager(_ref) {\n    var _ref$disableCreateObj = _ref.disableCreateObjectURL,\n        disableCreateObjectURL = _ref$disableCreateObj === void 0 ? DISABLE_CREATE_OBJECT_URL : _ref$disableCreateObj;\n\n    _classCallCheck(this, DownloadManager);\n\n    this.disableCreateObjectURL = disableCreateObjectURL;\n  }\n\n  _createClass(DownloadManager, [{\n    key: \"downloadUrl\",\n    value: function downloadUrl(url, filename) {\n      if (!(0, _pdfjsLib.createValidAbsoluteUrl)(url, \"http://example.com\")) {\n        return;\n      }\n\n      _download(url + \"#pdfjs.action=download\", filename);\n    }\n  }, {\n    key: \"downloadData\",\n    value: function downloadData(data, filename, contentType) {\n      if (navigator.msSaveBlob) {\n        navigator.msSaveBlob(new Blob([data], {\n          type: contentType\n        }), filename);\n        return;\n      }\n\n      var blobUrl = (0, _pdfjsLib.createObjectURL)(data, contentType, this.disableCreateObjectURL);\n\n      _download(blobUrl, filename);\n    }\n  }, {\n    key: \"download\",\n    value: function download(blob, url, filename) {\n      if (navigator.msSaveBlob) {\n        if (!navigator.msSaveBlob(blob, filename)) {\n          this.downloadUrl(url, filename);\n        }\n\n        return;\n      }\n\n      if (this.disableCreateObjectURL) {\n        this.downloadUrl(url, filename);\n        return;\n      }\n\n      var blobUrl = URL.createObjectURL(blob);\n\n      _download(blobUrl, filename);\n    }\n  }]);\n\n  return DownloadManager;\n}();\n\nexports.DownloadManager = DownloadManager;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GenericL10n = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(2));\n\n__webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar webL10n = document.webL10n;\n\nvar GenericL10n =\n/*#__PURE__*/\nfunction () {\n  function GenericL10n(lang) {\n    _classCallCheck(this, GenericL10n);\n\n    this._lang = lang;\n    this._ready = new Promise(function (resolve, reject) {\n      webL10n.setLanguage(lang, function () {\n        resolve(webL10n);\n      });\n    });\n  }\n\n  _createClass(GenericL10n, [{\n    key: \"getLanguage\",\n    value: function () {\n      var _getLanguage = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        var l10n;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._ready;\n\n              case 2:\n                l10n = _context.sent;\n                return _context.abrupt(\"return\", l10n.getLanguage());\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getLanguage() {\n        return _getLanguage.apply(this, arguments);\n      }\n\n      return getLanguage;\n    }()\n  }, {\n    key: \"getDirection\",\n    value: function () {\n      var _getDirection = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2() {\n        var l10n;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._ready;\n\n              case 2:\n                l10n = _context2.sent;\n                return _context2.abrupt(\"return\", l10n.getDirection());\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getDirection() {\n        return _getDirection.apply(this, arguments);\n      }\n\n      return getDirection;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3(property, args, fallback) {\n        var l10n;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._ready;\n\n              case 2:\n                l10n = _context3.sent;\n                return _context3.abrupt(\"return\", l10n.get(property, args, fallback));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function get(_x, _x2, _x3) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"translate\",\n    value: function () {\n      var _translate = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee4(element) {\n        var l10n;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this._ready;\n\n              case 2:\n                l10n = _context4.sent;\n                return _context4.abrupt(\"return\", l10n.translate(element));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function translate(_x4) {\n        return _translate.apply(this, arguments);\n      }\n\n      return translate;\n    }()\n  }]);\n\n  return GenericL10n;\n}();\n\nexports.GenericL10n = GenericL10n;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\ndocument.webL10n = function (window, document, undefined) {\n  var gL10nData = {};\n  var gTextData = '';\n  var gTextProp = 'textContent';\n  var gLanguage = '';\n  var gMacros = {};\n  var gReadyState = 'loading';\n  var gAsyncResourceLoading = true;\n\n  function getL10nResourceLinks() {\n    return document.querySelectorAll('link[type=\"application/l10n\"]');\n  }\n\n  function getL10nDictionary() {\n    var script = document.querySelector('script[type=\"application/l10n\"]');\n    return script ? JSON.parse(script.innerHTML) : null;\n  }\n\n  function getTranslatableChildren(element) {\n    return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n  }\n\n  function getL10nAttributes(element) {\n    if (!element) return {};\n    var l10nId = element.getAttribute('data-l10n-id');\n    var l10nArgs = element.getAttribute('data-l10n-args');\n    var args = {};\n\n    if (l10nArgs) {\n      try {\n        args = JSON.parse(l10nArgs);\n      } catch (e) {\n        console.warn('could not parse arguments for #' + l10nId);\n      }\n    }\n\n    return {\n      id: l10nId,\n      args: args\n    };\n  }\n\n  function xhrLoadText(url, onSuccess, onFailure) {\n    onSuccess = onSuccess || function _onSuccess(data) {};\n\n    onFailure = onFailure || function _onFailure() {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, gAsyncResourceLoading);\n\n    if (xhr.overrideMimeType) {\n      xhr.overrideMimeType('text/plain; charset=utf-8');\n    }\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200 || xhr.status === 0) {\n          onSuccess(xhr.responseText);\n        } else {\n          onFailure();\n        }\n      }\n    };\n\n    xhr.onerror = onFailure;\n    xhr.ontimeout = onFailure;\n\n    try {\n      xhr.send(null);\n    } catch (e) {\n      onFailure();\n    }\n  }\n\n  function parseResource(href, lang, successCallback, failureCallback) {\n    var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n    function evalString(text) {\n      if (text.lastIndexOf('\\\\') < 0) return text;\n      return text.replace(/\\\\\\\\/g, '\\\\').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\b/g, '\\b').replace(/\\\\f/g, '\\f').replace(/\\\\{/g, '{').replace(/\\\\}/g, '}').replace(/\\\\\"/g, '\"').replace(/\\\\'/g, \"'\");\n    }\n\n    function parseProperties(text, parsedPropertiesCallback) {\n      var dictionary = {};\n      var reBlank = /^\\s*|\\s*$/;\n      var reComment = /^\\s*#|^\\s*$/;\n      var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n      var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n      var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/;\n\n      function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n        var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n        var currentLang = '*';\n        var genericLang = lang.split('-', 1)[0];\n        var skipLang = false;\n        var match = '';\n\n        function nextEntry() {\n          while (true) {\n            if (!entries.length) {\n              parsedRawLinesCallback();\n              return;\n            }\n\n            var line = entries.shift();\n            if (reComment.test(line)) continue;\n\n            if (extendedSyntax) {\n              match = reSection.exec(line);\n\n              if (match) {\n                currentLang = match[1].toLowerCase();\n                skipLang = currentLang !== '*' && currentLang !== lang && currentLang !== genericLang;\n                continue;\n              } else if (skipLang) {\n                continue;\n              }\n\n              match = reImport.exec(line);\n\n              if (match) {\n                loadImport(baseURL + match[1], nextEntry);\n                return;\n              }\n            }\n\n            var tmp = line.match(reSplit);\n\n            if (tmp && tmp.length == 3) {\n              dictionary[tmp[1]] = evalString(tmp[2]);\n            }\n          }\n        }\n\n        nextEntry();\n      }\n\n      function loadImport(url, callback) {\n        xhrLoadText(url, function (content) {\n          parseRawLines(content, false, callback);\n        }, function () {\n          console.warn(url + ' not found.');\n          callback();\n        });\n      }\n\n      parseRawLines(text, true, function () {\n        parsedPropertiesCallback(dictionary);\n      });\n    }\n\n    xhrLoadText(href, function (response) {\n      gTextData += response;\n      parseProperties(response, function (data) {\n        for (var key in data) {\n          var id,\n              prop,\n              index = key.lastIndexOf('.');\n\n          if (index > 0) {\n            id = key.substring(0, index);\n            prop = key.substring(index + 1);\n          } else {\n            id = key;\n            prop = gTextProp;\n          }\n\n          if (!gL10nData[id]) {\n            gL10nData[id] = {};\n          }\n\n          gL10nData[id][prop] = data[key];\n        }\n\n        if (successCallback) {\n          successCallback();\n        }\n      });\n    }, failureCallback);\n  }\n\n  function loadLocale(lang, callback) {\n    if (lang) {\n      lang = lang.toLowerCase();\n    }\n\n    callback = callback || function _callback() {};\n\n    clear();\n    gLanguage = lang;\n    var langLinks = getL10nResourceLinks();\n    var langCount = langLinks.length;\n\n    if (langCount === 0) {\n      var dict = getL10nDictionary();\n\n      if (dict && dict.locales && dict.default_locale) {\n        console.log('using the embedded JSON directory, early way out');\n        gL10nData = dict.locales[lang];\n\n        if (!gL10nData) {\n          var defaultLocale = dict.default_locale.toLowerCase();\n\n          for (var anyCaseLang in dict.locales) {\n            anyCaseLang = anyCaseLang.toLowerCase();\n\n            if (anyCaseLang === lang) {\n              gL10nData = dict.locales[lang];\n              break;\n            } else if (anyCaseLang === defaultLocale) {\n              gL10nData = dict.locales[defaultLocale];\n            }\n          }\n        }\n\n        callback();\n      } else {\n        console.log('no resource to load, early way out');\n      }\n\n      gReadyState = 'complete';\n      return;\n    }\n\n    var onResourceLoaded = null;\n    var gResourceCount = 0;\n\n    onResourceLoaded = function onResourceLoaded() {\n      gResourceCount++;\n\n      if (gResourceCount >= langCount) {\n        callback();\n        gReadyState = 'complete';\n      }\n    };\n\n    function L10nResourceLink(link) {\n      var href = link.href;\n\n      this.load = function (lang, callback) {\n        parseResource(href, lang, callback, function () {\n          console.warn(href + ' not found.');\n          console.warn('\"' + lang + '\" resource not found');\n          gLanguage = '';\n          callback();\n        });\n      };\n    }\n\n    for (var i = 0; i < langCount; i++) {\n      var resource = new L10nResourceLink(langLinks[i]);\n      resource.load(lang, onResourceLoaded);\n    }\n  }\n\n  function clear() {\n    gL10nData = {};\n    gTextData = '';\n    gLanguage = '';\n  }\n\n  function getPluralRules(lang) {\n    var locales2rules = {\n      'af': 3,\n      'ak': 4,\n      'am': 4,\n      'ar': 1,\n      'asa': 3,\n      'az': 0,\n      'be': 11,\n      'bem': 3,\n      'bez': 3,\n      'bg': 3,\n      'bh': 4,\n      'bm': 0,\n      'bn': 3,\n      'bo': 0,\n      'br': 20,\n      'brx': 3,\n      'bs': 11,\n      'ca': 3,\n      'cgg': 3,\n      'chr': 3,\n      'cs': 12,\n      'cy': 17,\n      'da': 3,\n      'de': 3,\n      'dv': 3,\n      'dz': 0,\n      'ee': 3,\n      'el': 3,\n      'en': 3,\n      'eo': 3,\n      'es': 3,\n      'et': 3,\n      'eu': 3,\n      'fa': 0,\n      'ff': 5,\n      'fi': 3,\n      'fil': 4,\n      'fo': 3,\n      'fr': 5,\n      'fur': 3,\n      'fy': 3,\n      'ga': 8,\n      'gd': 24,\n      'gl': 3,\n      'gsw': 3,\n      'gu': 3,\n      'guw': 4,\n      'gv': 23,\n      'ha': 3,\n      'haw': 3,\n      'he': 2,\n      'hi': 4,\n      'hr': 11,\n      'hu': 0,\n      'id': 0,\n      'ig': 0,\n      'ii': 0,\n      'is': 3,\n      'it': 3,\n      'iu': 7,\n      'ja': 0,\n      'jmc': 3,\n      'jv': 0,\n      'ka': 0,\n      'kab': 5,\n      'kaj': 3,\n      'kcg': 3,\n      'kde': 0,\n      'kea': 0,\n      'kk': 3,\n      'kl': 3,\n      'km': 0,\n      'kn': 0,\n      'ko': 0,\n      'ksb': 3,\n      'ksh': 21,\n      'ku': 3,\n      'kw': 7,\n      'lag': 18,\n      'lb': 3,\n      'lg': 3,\n      'ln': 4,\n      'lo': 0,\n      'lt': 10,\n      'lv': 6,\n      'mas': 3,\n      'mg': 4,\n      'mk': 16,\n      'ml': 3,\n      'mn': 3,\n      'mo': 9,\n      'mr': 3,\n      'ms': 0,\n      'mt': 15,\n      'my': 0,\n      'nah': 3,\n      'naq': 7,\n      'nb': 3,\n      'nd': 3,\n      'ne': 3,\n      'nl': 3,\n      'nn': 3,\n      'no': 3,\n      'nr': 3,\n      'nso': 4,\n      'ny': 3,\n      'nyn': 3,\n      'om': 3,\n      'or': 3,\n      'pa': 3,\n      'pap': 3,\n      'pl': 13,\n      'ps': 3,\n      'pt': 3,\n      'rm': 3,\n      'ro': 9,\n      'rof': 3,\n      'ru': 11,\n      'rwk': 3,\n      'sah': 0,\n      'saq': 3,\n      'se': 7,\n      'seh': 3,\n      'ses': 0,\n      'sg': 0,\n      'sh': 11,\n      'shi': 19,\n      'sk': 12,\n      'sl': 14,\n      'sma': 7,\n      'smi': 7,\n      'smj': 7,\n      'smn': 7,\n      'sms': 7,\n      'sn': 3,\n      'so': 3,\n      'sq': 3,\n      'sr': 11,\n      'ss': 3,\n      'ssy': 3,\n      'st': 3,\n      'sv': 3,\n      'sw': 3,\n      'syr': 3,\n      'ta': 3,\n      'te': 3,\n      'teo': 3,\n      'th': 0,\n      'ti': 4,\n      'tig': 3,\n      'tk': 3,\n      'tl': 4,\n      'tn': 3,\n      'to': 0,\n      'tr': 0,\n      'ts': 3,\n      'tzm': 22,\n      'uk': 11,\n      'ur': 3,\n      've': 3,\n      'vi': 0,\n      'vun': 3,\n      'wa': 4,\n      'wae': 3,\n      'wo': 0,\n      'xh': 3,\n      'xog': 3,\n      'yo': 0,\n      'zh': 0,\n      'zu': 3\n    };\n\n    function isIn(n, list) {\n      return list.indexOf(n) !== -1;\n    }\n\n    function isBetween(n, start, end) {\n      return start <= n && n <= end;\n    }\n\n    var pluralRules = {\n      '0': function _(n) {\n        return 'other';\n      },\n      '1': function _(n) {\n        if (isBetween(n % 100, 3, 10)) return 'few';\n        if (n === 0) return 'zero';\n        if (isBetween(n % 100, 11, 99)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '2': function _(n) {\n        if (n !== 0 && n % 10 === 0) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '3': function _(n) {\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '4': function _(n) {\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '5': function _(n) {\n        if (isBetween(n, 0, 2) && n != 2) return 'one';\n        return 'other';\n      },\n      '6': function _(n) {\n        if (n === 0) return 'zero';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '7': function _(n) {\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '8': function _(n) {\n        if (isBetween(n, 3, 6)) return 'few';\n        if (isBetween(n, 7, 10)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '9': function _(n) {\n        if (n === 0 || n != 1 && isBetween(n % 100, 1, 19)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '10': function _(n) {\n        if (isBetween(n % 10, 2, 9) && !isBetween(n % 100, 11, 19)) return 'few';\n        if (n % 10 == 1 && !isBetween(n % 100, 11, 19)) return 'one';\n        return 'other';\n      },\n      '11': function _(n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n % 10 === 0 || isBetween(n % 10, 5, 9) || isBetween(n % 100, 11, 14)) return 'many';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '12': function _(n) {\n        if (isBetween(n, 2, 4)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '13': function _(n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n != 1 && isBetween(n % 10, 0, 1) || isBetween(n % 10, 5, 9) || isBetween(n % 100, 12, 14)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '14': function _(n) {\n        if (isBetween(n % 100, 3, 4)) return 'few';\n        if (n % 100 == 2) return 'two';\n        if (n % 100 == 1) return 'one';\n        return 'other';\n      },\n      '15': function _(n) {\n        if (n === 0 || isBetween(n % 100, 2, 10)) return 'few';\n        if (isBetween(n % 100, 11, 19)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '16': function _(n) {\n        if (n % 10 == 1 && n != 11) return 'one';\n        return 'other';\n      },\n      '17': function _(n) {\n        if (n == 3) return 'few';\n        if (n === 0) return 'zero';\n        if (n == 6) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '18': function _(n) {\n        if (n === 0) return 'zero';\n        if (isBetween(n, 0, 2) && n !== 0 && n != 2) return 'one';\n        return 'other';\n      },\n      '19': function _(n) {\n        if (isBetween(n, 2, 10)) return 'few';\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '20': function _(n) {\n        if ((isBetween(n % 10, 3, 4) || n % 10 == 9) && !(isBetween(n % 100, 10, 19) || isBetween(n % 100, 70, 79) || isBetween(n % 100, 90, 99))) return 'few';\n        if (n % 1000000 === 0 && n !== 0) return 'many';\n        if (n % 10 == 2 && !isIn(n % 100, [12, 72, 92])) return 'two';\n        if (n % 10 == 1 && !isIn(n % 100, [11, 71, 91])) return 'one';\n        return 'other';\n      },\n      '21': function _(n) {\n        if (n === 0) return 'zero';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '22': function _(n) {\n        if (isBetween(n, 0, 1) || isBetween(n, 11, 99)) return 'one';\n        return 'other';\n      },\n      '23': function _(n) {\n        if (isBetween(n % 10, 1, 2) || n % 20 === 0) return 'one';\n        return 'other';\n      },\n      '24': function _(n) {\n        if (isBetween(n, 3, 10) || isBetween(n, 13, 19)) return 'few';\n        if (isIn(n, [2, 12])) return 'two';\n        if (isIn(n, [1, 11])) return 'one';\n        return 'other';\n      }\n    };\n    var index = locales2rules[lang.replace(/-.*$/, '')];\n\n    if (!(index in pluralRules)) {\n      console.warn('plural form unknown for [' + lang + ']');\n      return function () {\n        return 'other';\n      };\n    }\n\n    return pluralRules[index];\n  }\n\n  gMacros.plural = function (str, param, key, prop) {\n    var n = parseFloat(param);\n    if (isNaN(n)) return str;\n    if (prop != gTextProp) return str;\n\n    if (!gMacros._pluralRules) {\n      gMacros._pluralRules = getPluralRules(gLanguage);\n    }\n\n    var index = '[' + gMacros._pluralRules(n) + ']';\n\n    if (n === 0 && key + '[zero]' in gL10nData) {\n      str = gL10nData[key + '[zero]'][prop];\n    } else if (n == 1 && key + '[one]' in gL10nData) {\n      str = gL10nData[key + '[one]'][prop];\n    } else if (n == 2 && key + '[two]' in gL10nData) {\n      str = gL10nData[key + '[two]'][prop];\n    } else if (key + index in gL10nData) {\n      str = gL10nData[key + index][prop];\n    } else if (key + '[other]' in gL10nData) {\n      str = gL10nData[key + '[other]'][prop];\n    }\n\n    return str;\n  };\n\n  function getL10nData(key, args, fallback) {\n    var data = gL10nData[key];\n\n    if (!data) {\n      console.warn('#' + key + ' is undefined.');\n\n      if (!fallback) {\n        return null;\n      }\n\n      data = fallback;\n    }\n\n    var rv = {};\n\n    for (var prop in data) {\n      var str = data[prop];\n      str = substIndexes(str, args, key, prop);\n      str = substArguments(str, args, key);\n      rv[prop] = str;\n    }\n\n    return rv;\n  }\n\n  function substIndexes(str, args, key, prop) {\n    var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n    var reMatch = reIndex.exec(str);\n    if (!reMatch || !reMatch.length) return str;\n    var macroName = reMatch[1];\n    var paramName = reMatch[2];\n    var param;\n\n    if (args && paramName in args) {\n      param = args[paramName];\n    } else if (paramName in gL10nData) {\n      param = gL10nData[paramName];\n    }\n\n    if (macroName in gMacros) {\n      var macro = gMacros[macroName];\n      str = macro(str, param, key, prop);\n    }\n\n    return str;\n  }\n\n  function substArguments(str, args, key) {\n    var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return str.replace(reArgs, function (matched_text, arg) {\n      if (args && arg in args) {\n        return args[arg];\n      }\n\n      if (arg in gL10nData) {\n        return gL10nData[arg];\n      }\n\n      console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n      return matched_text;\n    });\n  }\n\n  function translateElement(element) {\n    var l10n = getL10nAttributes(element);\n    if (!l10n.id) return;\n    var data = getL10nData(l10n.id, l10n.args);\n\n    if (!data) {\n      console.warn('#' + l10n.id + ' is undefined.');\n      return;\n    }\n\n    if (data[gTextProp]) {\n      if (getChildElementCount(element) === 0) {\n        element[gTextProp] = data[gTextProp];\n      } else {\n        var children = element.childNodes;\n        var found = false;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n            if (found) {\n              children[i].nodeValue = '';\n            } else {\n              children[i].nodeValue = data[gTextProp];\n              found = true;\n            }\n          }\n        }\n\n        if (!found) {\n          var textNode = document.createTextNode(data[gTextProp]);\n          element.insertBefore(textNode, element.firstChild);\n        }\n      }\n\n      delete data[gTextProp];\n    }\n\n    for (var k in data) {\n      element[k] = data[k];\n    }\n  }\n\n  function getChildElementCount(element) {\n    if (element.children) {\n      return element.children.length;\n    }\n\n    if (typeof element.childElementCount !== 'undefined') {\n      return element.childElementCount;\n    }\n\n    var count = 0;\n\n    for (var i = 0; i < element.childNodes.length; i++) {\n      count += element.nodeType === 1 ? 1 : 0;\n    }\n\n    return count;\n  }\n\n  function translateFragment(element) {\n    element = element || document.documentElement;\n    var children = getTranslatableChildren(element);\n    var elementCount = children.length;\n\n    for (var i = 0; i < elementCount; i++) {\n      translateElement(children[i]);\n    }\n\n    translateElement(element);\n  }\n\n  return {\n    get: function get(key, args, fallbackString) {\n      var index = key.lastIndexOf('.');\n      var prop = gTextProp;\n\n      if (index > 0) {\n        prop = key.substring(index + 1);\n        key = key.substring(0, index);\n      }\n\n      var fallback;\n\n      if (fallbackString) {\n        fallback = {};\n        fallback[prop] = fallbackString;\n      }\n\n      var data = getL10nData(key, args, fallback);\n\n      if (data && prop in data) {\n        return data[prop];\n      }\n\n      return '{{' + key + '}}';\n    },\n    getData: function getData() {\n      return gL10nData;\n    },\n    getText: function getText() {\n      return gTextData;\n    },\n    getLanguage: function getLanguage() {\n      return gLanguage;\n    },\n    setLanguage: function setLanguage(lang, callback) {\n      loadLocale(lang, function () {\n        if (callback) callback();\n      });\n    },\n    getDirection: function getDirection() {\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      var shortCode = gLanguage.split('-', 1)[0];\n      return rtlList.indexOf(shortCode) >= 0 ? 'rtl' : 'ltr';\n    },\n    translate: translateFragment,\n    getReadyState: function getReadyState() {\n      return gReadyState;\n    },\n    ready: function ready(callback) {\n      if (!callback) {\n        return;\n      } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n        window.setTimeout(function () {\n          callback();\n        });\n      } else if (document.addEventListener) {\n        document.addEventListener('localized', function once() {\n          document.removeEventListener('localized', once);\n          callback();\n        });\n      }\n    }\n  };\n}(window, document);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPrintService = PDFPrintService;\n\nvar _ui_utils = __webpack_require__(5);\n\nvar _app = __webpack_require__(1);\n\nvar _app_options = __webpack_require__(6);\n\nvar activeService = null;\nvar overlayManager = null;\n\nfunction renderPage(activeServiceOnEntry, pdfDocument, pageNumber, size) {\n  var scratchCanvas = activeService.scratchCanvas;\n  var PRINT_RESOLUTION = _app_options.AppOptions.get(\"printResolution\") || 150;\n  var PRINT_UNITS = PRINT_RESOLUTION / 72.0;\n  scratchCanvas.width = Math.floor(size.width * PRINT_UNITS);\n  scratchCanvas.height = Math.floor(size.height * PRINT_UNITS);\n  var width = Math.floor(size.width * _ui_utils.CSS_UNITS) + \"px\";\n  var height = Math.floor(size.height * _ui_utils.CSS_UNITS) + \"px\";\n  var ctx = scratchCanvas.getContext(\"2d\");\n  ctx.save();\n  ctx.fillStyle = \"rgb(255, 255, 255)\";\n  ctx.fillRect(0, 0, scratchCanvas.width, scratchCanvas.height);\n  ctx.restore();\n  return pdfDocument.getPage(pageNumber).then(function (pdfPage) {\n    var renderContext = {\n      canvasContext: ctx,\n      transform: [PRINT_UNITS, 0, 0, PRINT_UNITS, 0, 0],\n      viewport: pdfPage.getViewport({\n        scale: 1,\n        rotation: size.rotation\n      }),\n      intent: \"print\"\n    };\n    return pdfPage.render(renderContext).promise;\n  }).then(function () {\n    return {\n      width: width,\n      height: height\n    };\n  });\n}\n\nfunction PDFPrintService(pdfDocument, pagesOverview, printContainer, l10n) {\n  this.pdfDocument = pdfDocument;\n  this.pagesOverview = pagesOverview;\n  this.printContainer = printContainer;\n  this.l10n = l10n || _ui_utils.NullL10n;\n  this.disableCreateObjectURL = pdfDocument.loadingParams[\"disableCreateObjectURL\"];\n  this.currentPage = -1;\n  this.scratchCanvas = document.createElement(\"canvas\");\n}\n\nPDFPrintService.prototype = {\n  layout: function layout() {\n    this.throwIfInactive();\n    var body = document.querySelector(\"body\");\n    body.setAttribute(\"data-pdfjsprinting\", true);\n    var hasEqualPageSizes = this.pagesOverview.every(function (size) {\n      return size.width === this.pagesOverview[0].width && size.height === this.pagesOverview[0].height;\n    }, this);\n\n    if (!hasEqualPageSizes) {\n      console.warn(\"Not all pages have the same size. The printed \" + \"result may be incorrect!\");\n    }\n\n    this.pageStyleSheet = document.createElement(\"style\");\n    var pageSize = this.pagesOverview[0];\n    this.pageStyleSheet.textContent = \"@supports ((size:A4) and (size:1pt 1pt)) {\" + \"@page { size: \" + pageSize.width + \"pt \" + pageSize.height + \"pt;}\" + \"}\";\n    body.appendChild(this.pageStyleSheet);\n  },\n  destroy: function destroy() {\n    if (activeService !== this) {\n      return;\n    }\n\n    this.printContainer.textContent = \"\";\n    var body = document.querySelector(\"body\");\n    body.removeAttribute(\"data-pdfjsprinting\");\n\n    if (this.pageStyleSheet) {\n      this.pageStyleSheet.remove();\n      this.pageStyleSheet = null;\n    }\n\n    this.scratchCanvas.width = this.scratchCanvas.height = 0;\n    this.scratchCanvas = null;\n    activeService = null;\n    ensureOverlay().then(function () {\n      if (overlayManager.active !== \"printServiceOverlay\") {\n        return;\n      }\n\n      overlayManager.close(\"printServiceOverlay\");\n    });\n  },\n  renderPages: function renderPages() {\n    var _this = this;\n\n    var pageCount = this.pagesOverview.length;\n\n    var renderNextPage = function renderNextPage(resolve, reject) {\n      _this.throwIfInactive();\n\n      if (++_this.currentPage >= pageCount) {\n        renderProgress(pageCount, pageCount, _this.l10n);\n        resolve();\n        return;\n      }\n\n      var index = _this.currentPage;\n      renderProgress(index, pageCount, _this.l10n);\n      renderPage(_this, _this.pdfDocument, index + 1, _this.pagesOverview[index]).then(_this.useRenderedPage.bind(_this)).then(function () {\n        renderNextPage(resolve, reject);\n      }, reject);\n    };\n\n    return new Promise(renderNextPage);\n  },\n  useRenderedPage: function useRenderedPage(printItem) {\n    this.throwIfInactive();\n    var img = document.createElement(\"img\");\n    img.style.width = printItem.width;\n    img.style.height = printItem.height;\n    var scratchCanvas = this.scratchCanvas;\n\n    if (\"toBlob\" in scratchCanvas && !this.disableCreateObjectURL) {\n      scratchCanvas.toBlob(function (blob) {\n        img.src = URL.createObjectURL(blob);\n      });\n    } else {\n      img.src = scratchCanvas.toDataURL();\n    }\n\n    var wrapper = document.createElement(\"div\");\n    wrapper.appendChild(img);\n    this.printContainer.appendChild(wrapper);\n    return new Promise(function (resolve, reject) {\n      img.onload = resolve;\n      img.onerror = reject;\n    });\n  },\n  performPrint: function performPrint() {\n    var _this2 = this;\n\n    this.throwIfInactive();\n    return new Promise(function (resolve) {\n      setTimeout(function () {\n        if (!_this2.active) {\n          resolve();\n          return;\n        }\n\n        print.call(window);\n        setTimeout(resolve, 20);\n      }, 0);\n    });\n  },\n\n  get active() {\n    return this === activeService;\n  },\n\n  throwIfInactive: function throwIfInactive() {\n    if (!this.active) {\n      throw new Error(\"This print request was cancelled or completed.\");\n    }\n  }\n};\nvar print = window.print;\n\nwindow.print = function print() {\n  if (activeService) {\n    console.warn(\"Ignored window.print() because of a pending print job.\");\n    return;\n  }\n\n  ensureOverlay().then(function () {\n    if (activeService) {\n      overlayManager.open(\"printServiceOverlay\");\n    }\n  });\n\n  try {\n    dispatchEvent(\"beforeprint\");\n  } finally {\n    if (!activeService) {\n      console.error(\"Expected print service to be initialized.\");\n      ensureOverlay().then(function () {\n        if (overlayManager.active === \"printServiceOverlay\") {\n          overlayManager.close(\"printServiceOverlay\");\n        }\n      });\n      return;\n    }\n\n    var activeServiceOnEntry = activeService;\n    activeService.renderPages().then(function () {\n      return activeServiceOnEntry.performPrint();\n    })[\"catch\"](function () {}).then(function () {\n      if (activeServiceOnEntry.active) {\n        abort();\n      }\n    });\n  }\n};\n\nfunction dispatchEvent(eventType) {\n  var event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventType, false, false, \"custom\");\n  window.dispatchEvent(event);\n}\n\nfunction abort() {\n  if (activeService) {\n    activeService.destroy();\n    dispatchEvent(\"afterprint\");\n  }\n}\n\nfunction renderProgress(index, total, l10n) {\n  var progressContainer = document.getElementById(\"printServiceOverlay\");\n  var progress = Math.round(100 * index / total);\n  var progressBar = progressContainer.querySelector(\"progress\");\n  var progressPerc = progressContainer.querySelector(\".relative-progress\");\n  progressBar.value = progress;\n  l10n.get(\"print_progress_percent\", {\n    progress: progress\n  }, progress + \"%\").then(function (msg) {\n    progressPerc.textContent = msg;\n  });\n}\n\nwindow.addEventListener(\"keydown\", function (event) {\n  if (event.keyCode === 80 && (event.ctrlKey || event.metaKey) && !event.altKey && (!event.shiftKey || window.chrome || window.opera)) {\n    window.print();\n    event.preventDefault();\n\n    if (event.stopImmediatePropagation) {\n      event.stopImmediatePropagation();\n    } else {\n      event.stopPropagation();\n    }\n  }\n}, true);\n\nif (\"onbeforeprint\" in window) {\n  var stopPropagationIfNeeded = function stopPropagationIfNeeded(event) {\n    if (event.detail !== \"custom\" && event.stopImmediatePropagation) {\n      event.stopImmediatePropagation();\n    }\n  };\n\n  window.addEventListener(\"beforeprint\", stopPropagationIfNeeded);\n  window.addEventListener(\"afterprint\", stopPropagationIfNeeded);\n}\n\nvar overlayPromise;\n\nfunction ensureOverlay() {\n  if (!overlayPromise) {\n    overlayManager = _app.PDFViewerApplication.overlayManager;\n\n    if (!overlayManager) {\n      throw new Error(\"The overlay manager has not yet been initialized.\");\n    }\n\n    overlayPromise = overlayManager.register(\"printServiceOverlay\", document.getElementById(\"printServiceOverlay\"), abort, true);\n    document.getElementById(\"printCancel\").onclick = abort;\n  }\n\n  return overlayPromise;\n}\n\n_app.PDFPrintServiceFactory.instance = {\n  supportsPrinting: true,\n  createPrintService: function createPrintService(pdfDocument, pagesOverview, printContainer, l10n) {\n    if (activeService) {\n      throw new Error(\"The print service is created and active.\");\n    }\n\n    activeService = new PDFPrintService(pdfDocument, pagesOverview, printContainer, l10n);\n    return activeService;\n  }\n};\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=viewer.js.map"],"file":"viewer-inline.js"}